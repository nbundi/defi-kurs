"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2073],{86931:function(e,t,r){var n=r(50029),o=r(59499),i=r(87794),a=r.n(i),c=r(93205),s=r(67294),l=r(87536),d=r(69077),u=r(26520),p=r(22396),f=r(6830),h=r(62201),v=r(94371),b=r(15277);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}t.Z=function(e){var t,r=(0,d.mA)(),o=(0,u.a)(),i=s.useContext(h.T$),g=(0,l.cI)({shouldUseNativeValidation:!0}),y=(0,h.KK)().walletlessSubscribe,x=(0,h.Ij)(e.projectAddress),w=x.setWalletlessSubscriptionId,O=x.walletlessSubscriptionId,Z=(0,h.W_)({projectAddress:e.projectAddress}),k=(0,f.u)({isSubscribed:Z,projectAddress:e.projectAddress,source:e.source,forceModal:!0});return(0,p.t)()&&(r.isConnected||o.isLoggedIn||O)?(0,b.tZ)(c.zx,m(m({},k.buttonProps),{},{size:"medium",variant:Z.value?"secondary":"primary",width:{xs:"full",md:"fit"}})):(0,b.BX)(c.xu,{as:"form",display:"flex",flexDirection:"column",flexGrow:{xs:1,md:0},minHeight:"48px",width:{xs:void 0,md:"320px"},onSubmit:g.handleSubmit((t=(0,n.Z)(a().mark(function t(r){var n;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.projectAddress){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,y({projectAddress:e.projectAddress,email:r.email,source:e.source});case 4:(n=t.sent)&&(w(n),i({source:e.source,projectAddress:e.projectAddress,forceModal:!0}));case 6:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),children:[(0,b.BX)(c.xu,{display:"flex",flexGrow:1,children:[(0,b.tZ)(c.xu,m({as:"input",autoComplete:"email",backgroundColor:e.background?"background":"transparent",borderColor:{base:"foregroundSecondary",focus:"accent"},borderLeftRadius:"large",borderRightRadius:{xs:"large",md:"none"},borderRightWidth:{md:"0px"},borderWidth:"1px",color:"text",flexGrow:1,fontSize:"small",height:"48px",minWidth:"0px",paddingX:"16px",placeholder:"Enter email address",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",type:"email"},g.register("email",{required:!0}))),(0,b.tZ)(c.xu,{as:"button",backgroundColor:g.formState.isSubmitting?"foregroundSecondary":"accent",borderRightRadius:"large",color:g.formState.isSubmitting?"textTertiary":"accentText",cursor:g.formState.isSubmitting?"not-allowed":"pointer",disabled:g.formState.isSubmitting,display:{xs:"none",md:"block"},paddingX:"16px",transitionDuration:"150",transitionProperty:"colors",type:"submit",children:(0,b.tZ)(c.xv,{color:"inherit",size:"small",weight:"semiBold",children:"Subscribe"})})]}),(0,b.BX)(c.xu,{display:{xs:"contents",md:"none"},children:[(0,b.tZ)(v.L,{size:"8px"}),(0,b.tZ)(c.zx,{center:!0,disabled:g.formState.isSubmitting,loading:g.formState.isSubmitting,size:"medium",type:"submit",width:"full",children:"Subscribe"})]})]})}},19602:function(e,t,r){r.d(t,{Nr:function(){return q},of:function(){return G},u9:function(){return Y}});var n=r(50029),o=r(59499),i=r(16835),a=r(87794),c=r.n(a),s=r(28332),l=r(71641),d=r(31407),u=r(1203),p=r(69686),f=r(93205),h=r(61744),v=r(41664),b=r.n(v),g=r(67294),m=r(66010),y=r(96606),x=r(34828),w=r(69077),O=r(35266),Z=r(99816),k=r(57016),S=r(48254),j=r(26520),P=r(1038),C=r(39470),E=r(90492),D=r(6830),T=r(33411),B=r(51747),A=r(13e3),R=r(54552),I=r(56252),M=r(37477),L=r(68181),N=r(33048),X=r(30523),W=r(55763),F=r(37123),_=r(60134),z=r(12734),H=r(15531),U=r(15277);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e){var t,r,n=e.address,o=e.tokenId,i=e.size,a=(0,l.a)(O.XfF,{variables:{address:n,tokenId:o}}),c=a.data,s=a.loading,d=null==c?void 0:c.subscriberEdition,u=(0,k.SJ)(d),p=G({editionAddress:n,chainId:null==d?void 0:d.chainId,endsAt:u,projectAddress:null==d?void 0:null===(t=d.publisher)||void 0===t?void 0:null===(r=t.project)||void 0===r?void 0:r.address,tokenId:o}),f=(0,B.a)(null!=u&&u);return"number"==typeof f&&f<=0&&"number"==typeof(null==d?void 0:d.chainId)?(0,U.tZ)(N.D,{chainId:d.chainId,contractAddress:n,isSnft_removeWhenNftEmbedSupportsSnfts:!0,showBuying:!0,showMeta:!0,size:i,tokenId:o.toString()}):(0,U.tZ)(q,{collectSnft:p,isLoading:s,size:i,snft:d,tokenId:o})}function q(e){var t,r,n,o,a,c,s=e.isLoading,l=e.collectSnft,d=e.tokenId,u=e.snft,p=e.size,h=(0,k.Nm)(u),v=(0,k.SJ)(u),b=(0,U.tZ)(X.Z,{loading:s,mediaType:h,mimeType:null!==(t=null==u?void 0:null===(r=u.media)||void 0===r?void 0:r.mimetype)&&void 0!==t?t:void 0,primaryUrl:null!==(n=null==u?void 0:null===(o=u.media)||void 0===o?void 0:o.url)&&void 0!==n?n:void 0,showPlaceholder:!h}),m=s||!(null!=u&&u.media),y=g.useState(!1),x=(0,i.Z)(y,2),w=x[0],O=x[1];return(0,U.BX)(U.HY,{children:[(0,U.tZ)(H.Z,{isOpen:w,onClose:function(){O(!1)},children:(0,U.tZ)(K,{close:function(){O(!1)},collectSnft:l,isLoading:s,snft:u,tokenId:d})}),(0,U.tZ)(f.xu,{as:"figure",children:(0,U.tZ)(F.l,{action:{children:"hasMinted"===l.step?"Minted":"Mint",onClick:function(){O(!0)},variant:"hasMinted"===l.step?"secondary":"primary"},cardMedia:b,chainId:null==u?void 0:u.chainId,collectorCount:null==u?void 0:u.collectorCount,contractAddress:null!==(a=null==u?void 0:u.address)&&void 0!==a?a:void 0,countdownTime:v,creator:null==u?void 0:null===(c=u.publisher)||void 0===c?void 0:c.project,isSnft_removeWhenNftEmbedSupportsSnfts:!0,mediaLoading:m,showMeta:!0,size:p,title:null==u?void 0:u.title,tokenId:d.toString(),onTitleClick:function(){O(!0)}})})]})}function K(e){var t,r,n,o,i,a,c,l,d,u,p,h,v,m,y,x,O,S,P,C,E,D,T,B,M,N,X,F,H=(0,k.WJ)({snft:e.snft,projectLink:(0,Z.no)({project:null===(t=e.snft)||void 0===t?void 0:null===(r=t.publisher)||void 0===r?void 0:r.project})}),$=(0,k.Nm)(e.snft),Y=(0,k.SJ)(e.snft),q=(0,j.a)(),K=(0,w.mA)(),G=null!==(n=q.userAddress)&&void 0!==n?n:K.address,Q=A.Fy[null===(o=e.snft)||void 0===o?void 0:o.chainId],J=g.useMemo(function(){if((null===(t=e.snft)||void 0===t?void 0:t.chainId)==void 0)return null;var t,r,n=null===(r=e.snft)||void 0===r?void 0:r.chainId,o=(0,I.m)(n).name,i=A.m5[n];return e.collectSnft.lowBalance&&i?(0,U.BX)(f.xu,{onClick:function(){return s.track("snft__bridge_clicked",{address__user:G,chain:n})},children:[z.B4.ON_NETWORK(o)," ",(0,U.tZ)(b(),{href:i,legacyBehavior:!1,target:"_blank",children:(0,U.tZ)(f.xv,{as:"span",color:"textTertiary",underline:!0,children:z.B4.BRIDGE_TO(o)})})]}):(0,U.BX)(U.HY,{children:["Collectors pay a ",Q," ",(0,I.m)(e.snft.chainId).nativeCurrency.symbol," mint fee"," ",(0,U.tZ)(b(),{href:A.V4.learn_more_fees,legacyBehavior:!1,target:"_blank",children:(0,U.tZ)("svg",{fill:"none",height:"14",style:{marginBottom:-1},viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,U.tZ)("path",{clipRule:"evenodd",d:"M6.9987 0.583008C3.45487 0.583008 0.582031 3.45585 0.582031 6.99967C0.582031 10.5435 3.45487 13.4163 6.9987 13.4163C10.5425 13.4163 13.4154 10.5435 13.4154 6.99967C13.4154 3.45585 10.5425 0.583008 6.9987 0.583008ZM6.3609 4.82456C6.59843 4.68496 6.87771 4.63393 7.14926 4.6805C7.42082 4.72708 7.66712 4.86826 7.84456 5.07904C8.02199 5.28982 8.11911 5.5566 8.1187 5.83212L8.1187 5.83299C8.1187 6.10665 7.90572 6.39195 7.50345 6.66012C7.32007 6.78238 7.13254 6.87656 6.98855 6.94055C6.91739 6.97218 6.85889 6.99554 6.81956 7.01052C6.80211 7.01717 6.78458 7.02361 6.76695 7.02979C6.46171 7.1319 6.29682 7.46202 6.39863 7.76745C6.50051 8.07309 6.83086 8.23826 7.13649 8.13638L7.23489 8.10076C7.29126 8.07929 7.36948 8.04796 7.46238 8.00667C7.64652 7.92483 7.89648 7.80026 8.1506 7.63085C8.62324 7.31576 9.2851 6.72623 9.28536 5.83352C9.2861 5.2826 9.09189 4.74918 8.73709 4.32771C8.38222 3.90615 7.88961 3.62379 7.3465 3.53063C6.80339 3.43747 6.24484 3.53953 5.76977 3.81874C5.2947 4.09794 4.93378 4.53626 4.75092 5.05608C4.64401 5.35999 4.80371 5.69302 5.10762 5.79993C5.41153 5.90684 5.74456 5.74714 5.85147 5.44323C5.9429 5.18332 6.12337 4.96416 6.3609 4.82456ZM6.9987 9.33299C6.67653 9.33299 6.41536 9.59415 6.41536 9.91632C6.41536 10.2385 6.67653 10.4997 6.9987 10.4997H7.00453C7.32669 10.4997 7.58786 10.2385 7.58786 9.91632C7.58786 9.59415 7.32669 9.33299 7.00453 9.33299H6.9987Z",fill:"currentColor",fillRule:"evenodd"})})})]})},[Q,null===(i=e.snft)||void 0===i?void 0:i.chainId,null===(a=e.collectSnft)||void 0===a?void 0:a.lowBalance,G]);return(0,U.tZ)(W.Z,{blockExplorerLink:(0,R.M)(null===(c=e.snft)||void 0===c?void 0:c.chainId,null===(l=e.snft)||void 0===l?void 0:l.address,"token",null===(d=e.snft)||void 0===d?void 0:d.tokenId),chainId:null!==(u=null===(p=e.snft)||void 0===p?void 0:p.chainId)&&void 0!==u?u:void 0,close:e.close,collectorCount:null===(h=e.snft)||void 0===h?void 0:h.collectorCount,contractAddress:null==e?void 0:null===(v=e.snft)||void 0===v?void 0:v.address,cta:(0,U.tZ)(f.zx,V({size:"small",width:"full"},e.collectSnft.actionProps)),ctaFinePrint:J,description:null!==(m=null===(y=e.snft)||void 0===y?void 0:y.description)&&void 0!==m?m:"",endsAt:Y,heading:"NFT Details",mediaPrimaryUrl:null!==(x=null===(O=e.snft)||void 0===O?void 0:null===(S=O.media)||void 0===S?void 0:S.url)&&void 0!==x?x:void 0,mediaType:$,mimeType:null!==(P=null===(C=e.snft)||void 0===C?void 0:null===(E=C.media)||void 0===E?void 0:E.mimetype)&&void 0!==P?P:void 0,name:null===(D=e.snft)||void 0===D?void 0:D.title,permalink:H,tagSection:(0,U.tZ)(_.Z,{chainId:null===(T=e.snft)||void 0===T?void 0:T.chainId,contractAddress:null!==(B=null===(M=e.snft)||void 0===M?void 0:M.address)&&void 0!==B?B:void 0,creator:null!==(N=null===(X=e.snft)||void 0===X?void 0:null===(F=X.publisher)||void 0===F?void 0:F.project)&&void 0!==N?N:void 0}),tokenId:e.tokenId.toString(),tokenStandard:L.Yn.erc1155})}function G(e){var t,r,o,a,f,v,b=e.chainId,Z=e.projectAddress,k=e.editionAddress,L=e.tokenId,N=e.endsAt,X=void 0!=L&&void 0!=k,W=(0,j.a)(),F=(0,w.mA)(),_=(0,w.qL)().disconnect,H=g.useState({type:"idle"}),$=(0,i.Z)(H,2),Y=$[0],q=$[1],K=(0,I.m)(b),G=(0,w.LN)().chain,J=(0,p.dd)(),ee=(0,w.g0)({chainId:K.id}),et=ee.switchNetwork,er=ee.isLoading,en=(0,C.a)("(min-width: 640px)"),eo=(null==G?void 0:G.id)!==K.id,ei=null!==(t=W.userAddress)&&void 0!==t?t:F.address,ea=(0,l.a)(O.HDN,X&&ei&&Z?{variables:{projectAddress:Z,walletAddress:ei}}:{skip:!0}),ec=null===(r=ea.data)||void 0===r?void 0:r.isSubscribed,es=(0,D.u)({source:"SubscriberEdition",projectAddress:Z,isSubscribed:{value:ec,loading:ea.loading},forceModal:!0}),el=(0,l.a)(O.$J8,{variables:{projectAddress:Z,walletAddress:ei,editionAddress:k,tokenId:L,dryRun:!1},skip:!(X&&ei&&Z)}),ed=(0,l.a)(O.XfF,{variables:{address:k,tokenId:L},skip:!X}),eu=(0,l.a)(O.ajh,X&&ei?{variables:{address:ei}}:{skip:!0}),ep=g.useState(!1),ef=(0,i.Z)(ep,2),eh=ef[0],ev=ef[1],eb=Q(null===(o=el.data)||void 0===o?void 0:null===(a=o.subscriberEditionSignature)||void 0===a?void 0:a.signedPayload),eg=(0,T.WaF)({address:k}),em=eg.data,ey=eg.isLoading,ex="isMinting"===Y.type||er,ew=0>=(0,B.a)(null!=N&&N),eO=(null===(f=el.data)||void 0===f?void 0:null===(v=f.subscriberEditionSignature)||void 0===v?void 0:v.result)==="Already minted"||"transactionReceipt"===Y.type,eZ=!ey&&!!em&&!!em[1]&&h.formatEther(em[1]),ek=eZ?parseFloat(eZ):0,eS=parseFloat(eb.payload.price)-ek,ej=function e(t){if(null!=el&&el.loading)return{step:"loading",actionProps:{disabled:!0,center:!0,children:"Loading",loading:!0}};if(eO)return{step:"hasMinted",actionProps:"transactionReceipt"===Y.type?{children:(0,U.tZ)(U.HY,{children:"View On Etherscan"}),as:"a",href:(0,R.M)(K.id,Y.transactionHash,"transaction"),target:"_blank",rel:"noopener noreferrer",variant:"secondary"}:{children:(0,U.tZ)(U.HY,{children:"Minted"}),disabled:!0}};if("isMinting"===Y.type)return{step:"isMinting",actionProps:{disabled:!0,center:!0,children:"Minting",loading:!0}};if(ew){var r,o,a;return null!==(r=ed.data)&&void 0!==r&&null!==(o=r.subscriberEdition)&&void 0!==o&&o.collectorCount?{step:"hasEnded",actionProps:{children:"Collect On Secondary",href:null!==(a=(0,M.n)({type:"collection",collectionAddress:k,chainId:K.id}))&&void 0!==a?a:void 0,as:"a",rel:"noopener noreferrer",target:"_blank"}}:{step:"hasEnded",actionProps:{children:ec?"Subscribed For Future Drops":"Subscribe For Future Drops",onClick:function(){es.buttonProps.onClick()},disabled:null!=ec?ec:void 0}}}if(ex)return{step:"checkWallet",actionProps:{disabled:!0,center:!0,children:"Check Wallet App",loading:!0}};if(ec||null!=t&&t.oneClickSubscribed){if(!F.isConnected)return{step:"connectWallet",actionProps:{children:"Connect Wallet",onClick:function(){J.setOpen(!0)}}};if(eo)return{step:"switchNetwork",actionProps:{children:"Switch to ".concat(K.name),onClick:function(){null==et||et(null!=b?b:void 0)},disabled:!et}};var l=b===d.polygon.id?"MATIC":"ETH";return{step:"mintNft",actionProps:{children:eh?"Low Balance. Try Again":z.B4.MINT_FOR(eS,l),onClick:function(){return(0,n.Z)(c().mark(function e(){var t,r,n,o,a,l,d,p,f,h,v,g,w,O,Z,S,j,C;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.track("snft__mint_clicked",{address__user:ei,state__low_balance:eh,chain:b}),q({type:"isMinting"}),e.prev=2,e.next=5,Promise.all([null!==(t=el.data)&&void 0!==t&&null!==(r=t.subscriberEditionSignature)&&void 0!==r&&r.signedPayload?el:el.refetch(),eu.data&&!eh?eu:eu.refetch()]);case 5:if(l=e.sent,p=(d=(0,i.Z)(l,2))[0],f=d[1],h=null===(n=p.data)||void 0===n?void 0:null===(o=n.subscriberEditionSignature)||void 0===o?void 0:o.signedPayload){e.next=12;break}throw Error();case 12:if(g=parseFloat((v=Q(h)).payload.price||"0"),!("ok"!==(0,P._)({balances:null===(a=f.data)||void 0===a?void 0:a.balances,loadingBalances:!1,wnftChainId:K.id,wnftPrice:g}))){e.next=18;break}throw ev(!0),Error("insufficient funds");case 18:return w=(0,y.R)({abi:T.Udi,functionName:"mintWithSignature",args:[{currency:v.payload.currencyAddress,pricePerToken:(0,x.f)("".concat(g)),primarySaleRecipient:v.payload.primarySaleRecipient,quantity:v.payload.quantity,royaltyRecipient:v.payload.royaltyRecipient,royaltyBps:v.payload.royaltyBps,to:v.payload.to,tokenId:v.payload.tokenId,uid:v.payload.uid,uri:v.payload.uri,validityStartTimestamp:v.payload.mintStartTime,validityEndTimestamp:v.payload.mintEndTime},v.signature]}),O="".concat(w,"247dcd98"),e.next=22,(0,u.T7)({to:k,value:(0,x.f)("".concat(g)),data:O});case 22:return Z=e.sent,e.next=25,(0,u.Mn)({hash:Z.hash});case 25:if(!("success"!==(S=e.sent).status)){e.next=29;break}throw s.track("snft__mint_failed",{address__user:ei,chain:b}),Error();case 29:s.track("snft__mint_success",{address__user:ei,chain:b}),m.Am.custom((0,U.tZ)(E.bF,{}),{position:en?"bottom-right":"top-center",duration:4e3}),ed.refetch(),q({type:"transactionReceipt",status:"success"===S.status?1:0,transactionHash:S.transactionHash}),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(2),e.t0 instanceof Error&&(e.t0.message.includes("insufficient funds")?((C=A.m5[b])&&(j={bridgeUrl:C,chainName:(0,I.m)(b).name,bridgeClickEvent:"snft__bridge_clicked",eventProps:{address__user:ei,chain:b}}),m.Am.custom((0,U.tZ)(E.PK,{bridgeInfo:j,text:"Low balance"}),{position:en?"bottom-right":"top-center",duration:4e3})):m.Am.custom((0,U.tZ)(E.PK,{text:e.t0.message||"Error"}),{position:en?"bottom-right":"top-center",duration:4e3})),q({type:"idle"});case 39:case"end":return e.stop()}},e,null,[[2,35]])}))()}}}}return{step:"subscribe",actionProps:V(V({},es.buttonProps),{},{children:"Subscribe to Mint",onClick:function(){return(0,n.Z)(c().mark(function t(){var r,n,o;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.track("snft__subscribe_clicked",{address__user:ei,chain:b}),t.next=3,es.buttonProps.onClick();case 3:return t.next=5,(0,S.O)(Z,{fetchPolicy:"cache-only"});case 5:if(!("mintNft"!==(o=e({oneClickSubscribed:t.sent})).step)){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,null===(r=(n=o.actionProps).onClick)||void 0===r?void 0:r.call(n);case 11:case"end":return t.stop()}},t)}))()}})}}(),eP=ej.step,eC=ej.actionProps,eE=ei?{disabled:"isMinting"===Y.type,onClick:function(){return(0,n.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.logOut();case 2:_(),es.buttonProps.onClick();case 4:case"end":return e.stop()}},e)}))()}}:null;return{lowBalance:eh&&!eO&&!ew,actionProps:eC,isMinting:"isMinting"===Y.type,switchWalletActionProps:eE,step:eP,showReceipt:ex&&!(eo||"switchNetwork"===eP),price:eS,fee:ek}}function Q(e){var t;return e?V(V({},t=JSON.parse(e)),{},{payload:V(V({},t.payload),{},{quantity:BigInt(t.payload.quantity.hex),royaltyBps:BigInt(t.payload.royaltyBps.hex),tokenId:BigInt(t.payload.tokenId.hex),mintStartTime:BigInt(t.payload.mintStartTime.hex),mintEndTime:BigInt(t.payload.mintEndTime.hex)})}):{payload:{},signature:""}}},91065:function(e,t,r){r.d(t,{zN:function(){return O},Lf:function(){return B},lc:function(){return U},LA:function(){return e6},wu:function(){return tD},k9:function(){return G},OH:function(){return tR},D9:function(){return tV},at:function(){return re},xh:function(){return rn},tk:function(){return ry},mD:function(){return rD},PM:function(){return rE},l5:function(){return rz},wf:function(){return rG},oZ:function(){return nx},i5:function(){return np},vn:function(){return nA},LT:function(){return nN},it:function(){return nF},He:function(){return nH},B5:function(){return w},cW:function(){return T},Ym:function(){return H},$k:function(){return e4},HO:function(){return tE},QM:function(){return K},KX:function(){return tA},z:function(){return t$},Xb:function(){return t8},lu:function(){return rr},_L:function(){return rP},Sw:function(){return rm},A7:function(){return rj},ok:function(){return r_},WA:function(){return rK},H1:function(){return nm},EL:function(){return nu},Qj:function(){return nB},no:function(){return nL},py:function(){return nW},ur:function(){return nz}});var n,o,i,a,c=r(59499),s=r(81531),l=r(90607),d=r(25567),u=r(19200),p=r(15277);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){var t=e.hasCreator;return(0,p.tZ)("figure",{sx:{mx:"auto",width:"100%"},children:(0,p.tZ)("div",{sx:{px:[4,null,null,0],width:"100%"},children:(0,p.tZ)(d.Z,h(h({},e),{},{hasCreator:void 0===t||t,sx:u.Z.container}))})})}var b={overview:1,bidders:2,split:3},g=r(6032);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(){x=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},x.apply(this,arguments)}var w=function(e){return e.match(x(/^(?:auction:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},O=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=parseInt(c.get("tokenId")),l=c.get("auctionId"),d=c.get("network"),u=null!==c.get("hasCreator"),f=c.get("features"),h={auctionId:l,hasCreator:u,network:d,nftAddress:r,tokenId:s,features:null==f?void 0:f.split(",").filter(function(e){return Object.keys(b).includes(e)}).sort(function(e,t){return b[e]-b[t]})};return(0,p.tZ)("div",{sx:y(y({maxWidth:"3xl",mx:"auto"},o?{"figure > div > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)(v,y({},h))})},Z=r(93205),k=r(67294),S=r(25819),j=r(84186),P=r(46685),C=function(e){var t=k.useContext(j.G),r=k.useContext(S.V),n=k.useContext(P.i);return(0,p.tZ)(Z.xu,{width:"full",children:(0,p.tZ)(Z.xu,{marginX:"auto",maxWidth:"176px",children:(0,p.tZ)(Z.zx,{prefix:(0,p.tZ)(Z.bX,{}),size:"medium",width:"full",onClick:function(){t&&(null==r||r("MintEntryBlock","entry_page",t,!1,n))},children:"Mint Entry"})})})};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=function(e){return e.match(/^(?:collect:\/\/)$/)},B=function(e){var t=e.isSelected,r=e.onClick,n=e.renderContext;return(0,p.tZ)("div",{sx:D(D({maxWidth:"3xl",mx:"auto"},t?{"figure > div":g.dL}:{}),"editor"===n?g.vD:null),onClick:r,children:(0,p.tZ)("figure",{children:(0,p.tZ)(C,{})})})},A=r(89324),R=r(86608);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){var t=(0,R.Z)(e);return(0,p.tZ)("div",{className:e.className,sx:{width:"100%"},children:(0,p.tZ)(A.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t))})}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(e){var t=e.hasCreator;return(0,p.tZ)("figure",{sx:{mx:"auto",maxWidth:function(e){var t;return"".concat(null===(t=e.sizes)||void 0===t?void 0:t["4xl"]," !important")},width:"100%"},children:(0,p.tZ)("div",{sx:{px:[4,null,null,0],width:"100%"},children:(0,p.tZ)(M,N(N({},e),{},{hasCreator:void 0===t||t,sx:u.Z.container}))})})}var W=r(95553);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(){z=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},z.apply(this,arguments)}var H=function(e){return e.match(z(/^(?:crowdfund:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},U=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=c.get("endsAt"),l=c.get("features"),d=c.get("network"),u=c.get("paginateBy"),f=c.get("podium_media"),h=c.get("softCap"),v=c.get("version"),b={endsAt:s,softCap:h&&parseInt(h,10),network:d,version:v,features:null==l?void 0:l.split(",").filter(function(e){return Object.keys(W.tW).includes(e)}).sort(function(e,t){return W.tW[e]-W.tW[t]}),podiumMedia:null==f?void 0:f.split(","),paginateBy:parseInt(u)};return(0,p.tZ)("div",{sx:_(_({},o?{"figure > div > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)(X,_(_({},b),{},{address:r}))})},$=r(64005);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(){q=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},q.apply(this,arguments)}var K=function(e){return e.match(q(/^(?:edition:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},G=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=parseInt(c.get("editionId")),l=c.get("version"),d=parseInt(c.get("editionOpenSaleId"));return(0,p.tZ)("div",{sx:Y(Y({maxWidth:"3xl",mx:"auto"},o?{"figure > div > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)($.Z,{contractAddress:r,editionId:s,editionOpenSaleId:d||null,version:l})})},Q=r(39890),J=r(66261),ee=r(32749),et=r(40829),er=r(22982),en=r(81781),eo=r(65847),ei=r(92366),ea=r(58154),ec=function(e){var t=e.accounts,r=e.isLoading,n=e.setShowModal,o=e.searchQuery,i=e.setSearchQuery,a=e.airdropMetadata,c=e.tokenText,s=!(null!=t&&t.length),l=(0,p.BX)("div",{sx:{px:[4,6],alignItems:"center",display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6],mb:[2,4]},children:[null!=a&&a.recipientCount?(0,p.BX)("div",{sx:et.h2,children:[(0,ei.x6)(null==a?void 0:a.recipientCount)," Recipient",parseInt(null==a?void 0:a.recipientCount)>1?"s":""]}):(0,p.tZ)("div",{sx:et.h2,children:"Recipients"}),(0,p.BX)(Q.ZP,{alignment:"center",sx:{width:["100%","auto"],mb:[4,0]},variant:"highlight",onClick:function(){return n(!0)},children:["Claim Your ",c]})]});return(0,p.BX)("div",{sx:{maxWidth:["100%",,"3xl"],mx:"auto",backgroundColor:"background",borderRadius:[0,,"3xl"],py:[4,6]},children:["NFT"===c?null:l,(0,p.tZ)("div",{sx:{mx:[4,6],mb:[4,6],border:function(e){var t;return"2px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)},borderRadius:"xl"},children:(0,p.tZ)(en.Z,{actions:{setSearchQuery:i},data:{searchQuery:o,placeholderText:"Search by Twitter username or ETH address"}})}),r?(0,p.tZ)("div",{}):s?(0,p.tZ)("div",{sx:{pb:[4,6],mx:[4,6]},children:(0,p.tZ)("div",{sx:{backgroundColor:"foregroundTertiary",border:0,borderRadius:"xl",color:"textSecondary",fontWeight:400,gridColumn:"1 / -1",p:4,textAlign:"center",width:"100%"},children:o?"No search results":"No airdrop recipients"})}):(0,p.tZ)(J.Z,{heading:(0,p.BX)("tr",{children:[(0,p.tZ)("td",{children:"Recipient"}),(0,p.tZ)("td",{sx:{textAlign:"right",pr:[4,6]},children:"Amount"})]}),paginateBy:10,rows:t.map(function(e){return(0,p.tZ)(es,{address:e.account,amount:e.displayAmount,avatarURL:e.avatarURL,backerLink:e.backerLink,displayName:e.displayName,network:eo.ZP.NETWORK,symbol:"NFT"===c?void 0:"WRITE",twitterUsername:e.twitterUsername},e.account)})})]})},es=function(e){var t=e.address,r=e.amount,n=e.avatarURL,o=e.network,i=e.symbol,a=e.twitterUsername,c=e.backerLink,s=e.displayName,l=(0,ea.p)({address:t,network:o,skip:!!a}).data;return(0,p.BX)("tr",{children:[(0,p.tZ)("td",{children:(0,p.BX)("div",{sx:{display:"flex",position:"relative",mr:"auto",pr:[4,6]},children:[(0,p.tZ)(ee.Z,{contributor:{address:t,displayName:null!=s?s:l,avatarURL:n},iconSize:er.am.xxs,sx:{width:"auto",fontSize:"base",fontWeight:400,pointerEvents:"none"}}),(0,p.tZ)("a",{href:c,rel:"noreferrer",sx:{opacity:0,display:"block",position:"absolute",top:0,left:0,right:0,bottom:0},target:"_blank",children:"Visit"})]})}),(0,p.BX)("td",{sx:{textAlign:"right",pr:[4,6]},children:[r,i?" $".concat(i):null]})]})},el=r(15531),ed=r(41664),eu=r.n(ed),ep=r(81822),ef=r(45871);function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eb=function(e){var t=e.heading,r=e.subheading,n=e.connectedAddress,o=e.handleButtonClick,i=e.onClose,a=e.buttonText,c=e.buttonIsDisabled,s=e.buttonIsLoading,l=e.etherscanLink,d=e.media;return(0,p.BX)(ef.Z,{sx:{maxWidth:["100%","lg"]},onClose:i,children:[(0,p.BX)("div",{sx:{pb:d?4:14,display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,p.tZ)("div",{sx:ev(ev({},et.h2),{},{textAlign:"center"}),children:t}),(0,p.tZ)("div",{sx:{mt:2,color:"textTertiary",textAlign:"center","& a":et.oP},children:r})]}),d||null,n&&(0,p.tZ)(ep.Z,{address:n}),(0,p.tZ)(Q.ZP,{disabled:c,loading:s,sx:{justifyContent:"center"},variant:Q.Dw.Highlight,onClick:o,children:a}),l?(0,p.tZ)(eu(),{href:l,target:"_blank",children:(0,p.tZ)(Q.ZP,{sx:{justifyContent:"center",width:"100%"},variant:"secondary",children:"View on Etherscan"})}):null]})},eg=r(81447),em=function(e){var t,r,n=e.onClose,o=e.buttonText,i=e.media,a=e.heading,c=e.subheading,s=e.connectedAddress,l=e.handleButtonClick,d=e.buttonIsDisabled,u=e.buttonIsLoading,f=e.airdropMetadata;return(0,p.BX)(ef.Z,{title:"Airdrop",onClose:n,children:[i||null,(0,p.BX)("div",{sx:{textAlign:"center"},children:[(0,p.tZ)("div",{sx:et.h2,children:a}),(0,p.tZ)("div",{sx:{mt:2,mb:2,color:"textSecondary"},children:c})]}),s&&(0,p.BX)("div",{children:[(0,p.tZ)(ep.Z,{address:s,sx:{borderBottomLeftRadius:"0",borderBottomRightRadius:"0",mb:"2px"}}),(null==f?void 0:f.price)&&(0,p.tZ)(eg.Z,{sx:{borderTopLeftRadius:"0",borderTopRightRadius:"0"},value:(0,p.BX)("div",{children:[(0,p.tZ)("span",{children:null==f?void 0:null===(t=f.price)||void 0===t?void 0:t.eth}),(0,p.tZ)("span",{sx:{ml:2,fontWeight:400,color:"textSecondary"},children:null==f?void 0:null===(r=f.price)||void 0===r?void 0:r.usd})]})})]}),(0,p.tZ)(Q.ZP,{disabled:d,loading:u,sx:{justifyContent:"center"},variant:"highlight",onClick:l,children:o})]})},ey=function(e){var t=e.connectedAccount,r=e.isNFT,n=e.onClose,o=r?em:eb;return(0,p.tZ)(o,{buttonText:"Close",connectedAddress:null==t?void 0:t.address,handleButtonClick:n,heading:"The airdrop has ended.",subheading:(0,p.tZ)("span",{children:"Stay tuned for future airdrops."}),onClose:n})},ex=function(e){var t=e.airdropBlockLogic,r=e.isNFT,n=t.state.showModal,o=t.actions.setShowModal,i=(0,k.useCallback)(function(){o(!1)},[o]),a=(0,k.useCallback)(function(){return(0,p.tZ)(ey,{isNFT:r,onClose:i})},[i,r]);return(0,p.tZ)(el.Z,{isOpen:n,onClose:i,children:a()})},ew=r(50029),eO=r(16835),eZ=r(87794),ek=r.n(eZ),eS=r(71641),ej=r(69077),eP=r(35266),eC=r(94839),eE=r(12535),eD=r(94724),eT=r(86e3),eB=r(1194),eA=r(72095),eR=r(83592),eI=r(61744),eM=function(e){return e?eI.formatEther(e.toString()).toString():null},eL=function(e){var t=null==e?void 0:e.reduce(function(e,t){return e+parseFloat(t.amountFormatted)},0).toString();return t?(0,ei.x6)(t):null},eN=function(e){var t=e.searchQuery,r=e.editionContractAddress,n=(0,k.useState)(null),o=n[0],i=n[1],a=(0,k.useState)(null),c=a[0],s=a[1],l=(0,k.useState)(null),d=l[0],u=l[1];return(0,k.useEffect)(function(){var e;(e=(0,ew.Z)(ek().mark(function e(){var n,o;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,eA.Z.getIdentities();case 3:n=e.sent,o=(0,eR.h)(r).map(function(e){var t=e.account,r=e.amount,o=n[t],i=parseInt(eM(r)).toString(),a=null==o?void 0:o.username,c=a?"https://twitter.com/".concat(a):"https://etherscan.io/address/".concat(t),s=a?"@".concat(a):null;return{account:t,amount:r,amountFormatted:i,displayAmount:.01>parseFloat(i)?"< 0.01":i,twitterUsername:a,avatarURL:null==o?void 0:o.avatarURL,backerLink:c,displayName:s}}),c||s({tokenCount:eL(o),recipientCount:o.length.toString()}),i(o.filter(function(e){var r,n;return!t||(null===(r=e.twitterUsername)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.account)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}).sort(function(e,t){var r=parseFloat(e.amountFormatted),n=parseFloat(t.amountFormatted);return n<r?1:r>n?-1:t.twitterUsername?1:-1}).reverse()),u(!1);case 9:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[t]),{accounts:o,isLoading:d,airdropMetadata:c}},eX=r(94793);(n=i||(i={})).CONNECT_WALLET="CONNECT_WALLET",n.NFT_CONFIRM="NFT_CONFIRM",n.CONFIRM="CONFIRM",n.SUCCESS="SUCCESS",n.NOT_IN_AIRDROP="NOT_IN_AIRDROP",n.ALREADY_CLAIMED="ALREADY_CLAIMED";var eW=function(e){var t=e.editionContractAddress,r=e.connectedWalletAddress,n=e.setModalStep,o=e.setTransactionHash,a=e.merkleDropLogicAddress,c=(0,k.useState)(null),s=c[0],l=c[1];return{state:{isSubmittingClaimTx:s},actions:{claim:(0,k.useCallback)((0,ew.Z)(ek().mark(function e(){var c,s,d,u,p,f,h,v,b,g;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return n(i.CONNECT_WALLET),e.abrupt("return");case 3:if(e.prev=3,l(!0),c=new eX.Z((0,eR.h)(t)),d=(s=(0,eR.h)(t).find(function(e){return e.account===r})).account,u=s.allocation,p=s.price,f=s.index,h=c.getProof(d,u,p,f),!a){e.next=16;break}return b=new eE.Z(a),e.next=13,b.claim({account:d,allocation:u,price:p,index:f,proof:h});case 13:v=e.sent,e.next=20;break;case 16:return g=new eC.Z(t),e.next=19,g.buyEditionWithProof({proof:h,account:d,allocation:u,price:p,index:f,amount:eI.formatEther(p.toString())});case 19:v=e.sent;case 20:o(v.hash),n(i.SUCCESS),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),e.t0.message.includes("already claimed")?n(i.ALREADY_CLAIMED):e.t0.message.includes("insufficient funds")&&alert("You don't have enough ETH in your wallet for this transaction."),console.error(e.t0);case 28:return e.prev=28,l(!1),e.finish(28);case 31:case"end":return e.stop()}},e,null,[[3,24,28,31]])})),[r,n,l,o])}}},eF=function(e){var t=e.editionContractAddress,r=e.connectedWalletAddress,n=e.setModalStep,o=e.merkleDropLogicAddress,a=(0,k.useState)(null),c=a[0],s=a[1];return(0,k.useEffect)(function(){if(r){var e,a=(0,eR.h)(t).find(function(e){return e.account===r});if(s({address:r,balance:eM(null==a?void 0:a.amount)}),!a){n(i.NOT_IN_AIRDROP);return}(e=(0,ew.Z)(ek().mark(function e(){var c,l;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({address:r,balance:parseInt(eM(a.amount)).toString()}),c=(0,eR.h)(t).find(function(e){return e.account===r}).index,l=o?new eE.Z(o):new eC.Z(t),e.next=7,l.alreadyClaimed(c,r);case 7:e.sent?n(i.ALREADY_CLAIMED):n(i.NFT_CONFIRM);case 9:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[r,n,s]),c},e_=function(e){var t,r=e.activate;return{onWalletConnect:(0,k.useCallback)((t=(0,ew.Z)(ek().mark(function e(t){return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.walletConnectProvider=null,e.next=4,r(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return t.apply(this,arguments)}),[r])}};function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eU=function(e){var t=e.editionContractAddress,r=e.merkleDropLogicAddress,n=(0,ej.mA)().address,o=k.useState(),a=(0,eO.Z)(o,2),c=a[0],s=a[1],l=k.useState(!0),d=(0,eO.Z)(l,2),u=d[0],p=d[1],f=k.useState(i.CONNECT_WALLET),h=(0,eO.Z)(f,2),v=h[0],b=h[1],g=k.useState(null),m=(0,eO.Z)(g,2),y=m[0],x=m[1],w=k.useState(null),O=(0,eO.Z)(w,2),Z=O[0],S=O[1],j=k.useState(null),P=(0,eO.Z)(j,2),C=P[0],E=P[1];(0,eB.U)();var D=k.useState(null),T=(0,eO.Z)(D,2),B=T[0],A=T[1],R=eN({searchQuery:B,editionContractAddress:t}),I=R.accounts,M=R.isLoading,L=R.airdropMetadata,N=(0,eS.a)(eP.IXq,{variables:{editionId:0,editionContractAddress:t},skip:!t}).data,X=eW({editionContractAddress:t,connectedWalletAddress:n,setModalStep:b,setTransactionHash:S,merkleDropLogicAddress:r}),W=X.state.isSubmittingClaimTx,F=X.actions.claim,_=e_({activate:function(){}}).onWalletConnect,z=eF({editionContractAddress:t,connectedWalletAddress:n,setModalStep:b,merkleDropLogicAddress:r});return k.useEffect(function(){if(t){var e;(e=(0,ew.Z)(ek().mark(function e(){var n;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r?new eE.Z(r):new eC.Z(t),e.next=4,n.getNumberOfClaimedNFTs();case 4:s(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),eT.Tb(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return e.apply(this,arguments)})()}},[t,r]),k.useEffect(function(){var e,t,r;!(null!=N&&null!==(e=N.edition)&&void 0!==e&&e.price)||(null==N?void 0:null===(t=N.edition)||void 0===t?void 0:t.price)<=0||(r=(0,ew.Z)(ek().mark(function e(){var t,r;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.edition.price,e.next=3,eD.Z.ethToUsdV2(t);case 3:r=e.sent,E({eth:"".concat(t.toFixed(2)," ETH"),usd:"$".concat((0,ei.x6)(r))});case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})()},[N]),{state:{airdropAccounts:I,isLoading:M||u,modalStep:v,showModal:y,transactionHash:Z,connectedWalletAddress:n,isSubmittingClaimTx:W,connectedAccount:z,searchQuery:B,airdropMetadata:eH(eH({},L),{},{price:C}),tokenText:"NFT",numberOfClaimedNFTs:c},actions:{claim:F,onWalletConnect:_,setShowModal:x,setModalStep:b,setSearchQuery:A}}},e$=r(9084),eV=function(e){var t=e.left,r=e.right,n=e.isLoading;return(0,p.tZ)("div",{sx:{maxWidth:"4xl",mx:"auto",p:[4,6],pt:[0,0],display:"grid",gap:[4,6],gridTemplateColumns:["1fr","1fr 1fr"]},children:n?(0,p.BX)(p.HY,{children:[(0,p.tZ)(e$.Z,{isLoading:!0}),(0,p.tZ)(e$.Z,{isLoading:!0})]}):(0,p.BX)(p.HY,{children:[(0,p.tZ)(e$.Z,{heading:t.heading,label:t.label,note:t.subheading}),(0,p.tZ)(e$.Z,{heading:r.heading,label:r.label,note:r.subheading,sx:{whiteSpace:"normal"}})]})})},eY=r(1766),eq=r(36704),eK=r(71877);function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eJ=function(e){var t,r,n,o,i=e.contractAddress,a=e.editionId,c=e.merkleDropLogicAddress,s=e.quantity,l=(0,eK.Z)(a,i),d=eU({editionContractAddress:i,merkleDropLogicAddress:c}),f=d.state,h=f.airdropAccounts,v=f.isLoading,b=f.searchQuery,g=f.airdropMetadata,m=f.tokenText,y=f.numberOfClaimedNFTs,x=d.actions,w=x.setShowModal,O=x.setSearchQuery,Z=(0,k.useMemo)(function(){return(0,ei.x6)(null==g?void 0:g.recipientCount)},[null==g?void 0:g.recipientCount]),S=(0,k.useMemo)(function(){var e,t;return"".concat(y||0,"/").concat(s||(null==l?void 0:null===(e=l.data)||void 0===e?void 0:null===(t=e.edition)||void 0===t?void 0:t.totalSupply))},[y,null==l?void 0:null===(t=l.data)||void 0===t?void 0:null===(r=t.edition)||void 0===r?void 0:r.totalSupply,s]),j=null!=g&&g.price?{heading:g.price.eth,label:"Edition Price",subheading:g.price.usd}:{heading:Z,label:"Airdrop Recipients"},P=(0,p.BX)(Q.ZP,{alignment:"center",sx:{width:["100%","auto"],mb:[4,0]},variant:"highlight",onClick:function(){return w(!0)},children:["Claim Your ",m]});return(0,p.tZ)(p.HY,{children:(0,p.tZ)("div",{sx:eQ(eQ({},u.Z.container),{},{div:{background:"none"}}),children:(0,p.BX)(p.HY,{children:[(0,p.tZ)(eY.Z,{editionMedia:l.data.editionMedia,isLoading:l.data.isLoading}),(0,p.tZ)(eq.Z,eQ({ctaButton:P,noPermalink:!0},l)),(0,p.tZ)(eV,{isLoading:l.data.isLoading||v,left:j,right:{heading:S,label:"NFTs Claimed",subheading:"NFTs can be claimed at any time"}}),(0,p.tZ)(ec,{accounts:h,airdropMetadata:g,isLoading:v,searchQuery:b,setSearchQuery:O,setShowModal:w,tokenText:m}),(0,p.tZ)(ex,{airdropBlockLogic:d,editionDBRecord:null==l?void 0:null===(n=l.data)||void 0===n?void 0:n.editionDBRecord,editionMedia:null==l?void 0:null===(o=l.data)||void 0===o?void 0:o.editionMedia,isNFT:!0})]})})})};function e0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e2(){e2=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},e2.apply(this,arguments)}var e4=function(e){return e.match(e2(/^(?:edition\x2Dairdrop:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},e6=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=parseInt(c.get("editionId")),l=parseInt(c.get("quantity")),d=c.get("merkleDropLogicAddress");return(0,p.tZ)("div",{sx:e1(e1({maxWidth:"3xl",mx:"auto"},o?{"figure > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)("figure",{children:(0,p.tZ)(eJ,{contractAddress:r,editionId:s,merkleDropLogicAddress:d,quantity:l})})})},e5=r(79161),e3=r(59860),e9=r(32480),e7=r(87288),e8=function(e){var t=e.heading,r=e.subheading,n=e.connectedAddress,o=e.handleButtonClick,i=e.onClose,a=e.buttonText,c=e.buttonIsDisabled,s=e.buttonIsLoading,l=e.etherscanLink,d=e.mediaSource,u=e.infoEthEl,f=e.modalTitle,h=e.textAlignCenter,v=e.optionTokens,b=e.secondaryButtonText,g=e.handleSecondaryButtonClick,m=e.claimedTag;return(0,p.BX)(ef.Z,{sx:{maxWidth:["100%","lg"]},sxContent:{p:[0,0,0,0]},title:f,onClose:i,children:[d?(0,p.tZ)(Z.xu,{backgroundColor:"foregroundTertiary",padding:"24px",children:(0,p.tZ)("div",{sx:{backgroundColor:"foregroundTertiary",height:"14rem",position:"relative",width:"14rem",borderRadius:"lg",mx:"auto","& img":{objectFit:"contain",height:"100%",width:"100%",borderRadius:"lg"},"& video":{objectFit:"contain",height:"100%",width:"100%",borderRadius:"lg"}},children:(0,p.tZ)(e7.Z,{size:"md",source:d})})}):null,(0,p.tZ)(Z.xu,{paddingBottom:"24px",paddingTop:"8px",paddingX:"24px",children:(0,p.BX)(Z.Kq,{space:"16px",children:[(0,p.tZ)(Z.xu,{paddingBottom:h?"24px":"0px",paddingTop:h?"16px":"0px",paddingX:h?"16px":"0px",children:(0,p.BX)(Z.Kq,{space:"8px",children:[(0,p.tZ)(Z.X6,{align:h?"center":"left",level:"2",children:t}),(0,p.tZ)("div",{sx:{width:"8rem"},children:m}),(0,p.tZ)(Z.xv,{align:h?"center":"left",color:"textSecondary",children:r})]})}),n&&(0,p.tZ)(ep.Z,{address:n}),v||0===v?(0,p.tZ)(e9.Z,{icon:(0,p.tZ)("div",{sx:{mr:2},children:(0,p.tZ)(Z.xv,{align:"center",children:v})}),value:"Option Tokens"}):null,u,(0,p.tZ)(Z.zx,{center:!0,disabled:c,loading:s,variant:"primary",width:"full",onClick:o,children:a}),b&&g?(0,p.tZ)(Z.zx,{center:!0,variant:"tertiary",width:"full",onClick:g,children:b}):null,l?(0,p.tZ)(eu(),{href:l,target:"_blank",children:(0,p.tZ)(Q.ZP,{sx:{justifyContent:"center",width:"100%"},variant:"secondary",children:"View on Etherscan"})}):null]})})]})},te=function(e){var t=e.burnToRedeemBlockLogic,r=e.editionMedia,n=e.onClose,o=e.editionTitle,i=e.infoEthEl,a=t.state,c=a.connectedAccount,s=a.isSubmittingApproveTx,l=a.approveTxIsPending,d=a.burnToRedeemMetadata,u=t.actions.approve,f=(0,k.useMemo)(function(){return(0,p.tZ)(Z.X6,{level:"2",children:o})},[o]),h=(0,k.useMemo)(function(){return(0,p.BX)(Z.xv,{color:"textSecondary",children:["Redeeming your NFT takes two steps. Approving the contract to burn your option NFT, and burning your option NFT to redeem the golden token NFT."," "]})},[]);return(0,p.tZ)(e8,{buttonIsDisabled:s,buttonIsLoading:s,buttonText:l?"Approving":s?"Check Wallet":"Approve",claimedTag:(0,p.tZ)(e3.L,{burnToRedeemMetadata:d}),connectedAddress:null==c?void 0:c.address,handleButtonClick:function(){return u()},heading:f,infoEthEl:i,mediaSource:r,modalTitle:"Redeem NFT",optionTokens:1,subheading:h,onClose:n})},tt=r(23678);(o=a||(a={})).CONNECT_WALLET="CONNECT_WALLET",o.APPROVE="APPROVE",o.APPROVE_ERROR="APPROVE_ERROR",o.REDEEM="REDEEM",o.REDEEM_ERROR="REDEEM_ERROR",o.REDEEM_SUCCESS="REDEEM_SUCCESS",o.DOES_NOT_OWN_NFT="DOES_NOT_OWN_NFT",o.LOADING="LOADING";var tr=function(e){var t=e.burnToRedeemBlockLogic,r=e.onClose,n=t.actions.setModalStep,o=(0,k.useMemo)(function(){return(0,p.tZ)(Z.xv,{align:"center",color:"textSecondary",children:"You do not hold any option token NFTs, which are required to redeem the golden token NFT."})},[]),i=(0,k.useMemo)(function(){return(0,p.BX)(Z.Kq,{align:"center",children:[(0,p.tZ)(tt.Z,{size:"88px",strokeWidth:"2",sx:{color:"gray"}}),(0,p.tZ)(Z.X6,{level:"2",children:"Unable to approve"})]})},[]);return(0,p.tZ)(e8,{buttonText:"Back",handleButtonClick:function(){return n(a.APPROVE)},handleSecondaryButtonClick:function(){return r()},heading:i,modalTitle:"Error",secondaryButtonText:"Close",subheading:o,onClose:r})},tn=function(e){var t=e.burnToRedeemBlockLogic,r=e.editionMedia,n=e.onClose,o=e.infoEthEl,i=t.state,a=i.connectedAccount,c=i.isSubmittingApproveTx,s=(0,k.useMemo)(function(){return(0,p.BX)(Z.Kq,{align:"center",space:"8px",children:[(0,p.tZ)(tt.Z,{size:"88px",strokeWidth:"2",sx:{color:"gray"}}),(0,p.tZ)(Z.X6,{level:"2",children:"Unable to redeem"})]})},[]),l=(0,k.useMemo)(function(){return(0,p.tZ)("span",{children:"You do not hold any option NFTs, which are required to redeem the golden token NFT"})},[]);return(0,p.tZ)(e8,{buttonIsDisabled:c,buttonIsLoading:c,buttonText:"Close",connectedAddress:null==a?void 0:a.address,handleButtonClick:function(){return n()},heading:s,infoEthEl:o,mediaSource:r,modalTitle:"Redeem NFT",optionTokens:0,subheading:l,textAlignCenter:!0,onClose:n})},to=function(e){var t=e.burnToRedeemBlockLogic,r=e.editionMedia,n=e.onClose,o=e.editionTitle,i=e.infoEthEl,a=t.state,c=a.connectedAccount,s=a.isSubmittingRedeemTx,l=a.burnableTokenId,d=a.burnToRedeemMetadata,u=t.actions,f=u.redeem,h=u.getBurnableTokenId;(0,k.useEffect)(function(){if(!l){var e;(e=(0,ew.Z)(ek().mark(function e(){return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[l,h]);var v=(0,k.useMemo)(function(){return(0,p.tZ)(Z.X6,{level:"2",children:o})},[o]),b=(0,k.useMemo)(function(){return(0,p.tZ)(Z.xv,{color:"textSecondary",children:"The final step is burning your option NFT to redeem the golden token NFT."})},[]);return(0,p.tZ)(e8,{buttonIsDisabled:s||null===l,buttonIsLoading:s||null===l,buttonText:null===l?"Searching for token ID":s?"Check Wallet":"Redeem",claimedTag:(0,p.tZ)(e3.L,{burnToRedeemMetadata:d}),connectedAddress:null==c?void 0:c.address,handleButtonClick:function(){return f()},heading:v,infoEthEl:i,mediaSource:r,modalTitle:"Redeem NFT",optionTokens:1,subheading:b,onClose:n})},ti=function(e){var t=e.burnToRedeemBlockLogic,r=e.onClose,n=t.actions.setModalStep,o=(0,k.useMemo)(function(){return(0,p.tZ)(Z.xv,{align:"center",color:"textSecondary",children:"You do not hold any option token NFTs, which are required to redeem the golden token NFT."})},[]),i=(0,k.useMemo)(function(){return(0,p.BX)(Z.Kq,{align:"center",space:"8px",children:[(0,p.tZ)(tt.Z,{size:"88px",strokeWidth:"2",sx:{color:"gray"}}),(0,p.tZ)(Z.X6,{level:"2",children:"Unable to redeem"})]})},[]);return(0,p.tZ)(e8,{buttonText:"Back",handleButtonClick:function(){return n(a.REDEEM)},handleSecondaryButtonClick:function(){return r()},heading:i,modalTitle:"Error",secondaryButtonText:"Close",subheading:o,onClose:r})},ta=r(32427),tc=function(e){var t=e.burnToRedeemBlockLogic,r=e.editionMedia,n=e.onClose,o=t.state.redeemTransactionHash,i=(0,k.useMemo)(function(){return o?ta.Z.createTxHashLink(o):null},[o]),a=(0,k.useMemo)(function(){return(0,p.tZ)(Z.X6,{level:"2",children:"Success!"})},[]),c=(0,k.useMemo)(function(){return(0,p.tZ)(Z.xv,{color:"textSecondary",children:"Your transaction has been sent. It may take several minutes for it to complete."})},[]);return(0,p.tZ)(e8,{buttonText:"Close",etherscanLink:i,handleButtonClick:function(){return n()},hasConfetti:!0,heading:a,mediaSource:r,modalTitle:"Redeem NFT",subheading:c,textAlignCenter:!0,onClose:n})},ts=function(e){var t=e.burnToRedeemBlockLogic,r=e.editionMedia,n=e.editionDBRecord,o=t.state,i=o.modalStep,c=o.showModal,s=o.burnToRedeemMetadata,l=t.actions,d=l.setShowModal,u=l.onWalletConnect,f=(0,k.useCallback)(function(){d(!1)},[d]),h=(0,k.useMemo)(function(){return null==n?void 0:n.title},[n]),v=(0,k.useCallback)(function(){var e,n,o=(0,p.tZ)(eg.Z,{value:(0,p.BX)("div",{children:[(0,p.BX)("span",{children:[null==s?void 0:null===(e=s.prices)||void 0===e?void 0:e.eth," ETH"]}),(0,p.BX)("span",{sx:{ml:2,fontWeight:400,color:"textSecondary"},children:["$",null==s?void 0:null===(n=s.prices)||void 0===n?void 0:n.usd]})]})}),c=a.APPROVE_ERROR,l=a.CONNECT_WALLET,d=a.APPROVE,u=a.REDEEM,v=a.REDEEM_SUCCESS,b=a.REDEEM_ERROR,g=a.DOES_NOT_OWN_NFT,m=a.LOADING;switch(i){case m:return(0,p.tZ)(ef.Z,{sx:{maxWidth:["100%","lg"],height:"32rem"},sxContent:{p:[0,0,0,0]},onClose:f,children:(0,p.tZ)(Z.xu,{display:"flex",justifyContent:"center",marginTop:"176px",children:(0,p.tZ)(e5.Z,{size:"48px"})})});case l:case d:return(0,p.tZ)(te,{burnToRedeemBlockLogic:t,editionMedia:r,editionTitle:h,infoEthEl:o,onClose:f});case c:return(0,p.tZ)(tr,{burnToRedeemBlockLogic:t,onClose:f});case u:return(0,p.tZ)(to,{burnToRedeemBlockLogic:t,editionMedia:r,editionTitle:h,infoEthEl:o,onClose:f});case b:return(0,p.tZ)(ti,{burnToRedeemBlockLogic:t,onClose:f});case v:return(0,p.tZ)(tc,{burnToRedeemBlockLogic:t,editionMedia:r,onClose:f});case g:return(0,p.tZ)(tn,{burnToRedeemBlockLogic:t,editionMedia:r,infoEthEl:o,onClose:f})}},[i,f,u,r,t,h]);return(0,p.tZ)(el.Z,{isOpen:c,onClose:f,children:v()})},tl=r(92777),td=r(82262),tu=r(64146),tp=r(333),tf=r(241),th=r(66753),tv=r(66574),tb=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address","name":"burnToken_","type":"address"},{"internalType":"address","name":"nftSender_","type":"address"},{"internalType":"address","name":"nft_","type":"address"},{"internalType":"uint256","name":"price_","type":"uint256"},{"internalType":"address","name":"fundingRecipient_","type":"address"},{"internalType":"address","name":"treasuryConfig_","type":"address"},{"internalType":"uint256","name":"startingId_","type":"uint256"},{"internalType":"uint256","name":"totalTokens_","type":"uint256"},{"internalType":"uint256","name":"redemptionDurationSeconds","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"redeemer","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenCounter","type":"uint256"}],"name":"Redeem","type":"event"},{"inputs":[],"name":"burnToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"endTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}],"name":"feeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"fundingRecipient","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nft","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nftSender","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"burnableId","type":"uint256"}],"name":"redeem","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"startingId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenCounter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasuryConfig","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),tg=function(){var e,t,r,n;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo.ZP.NETWORK;(0,tl.Z)(this,o),(0,c.Z)(this,"provider",void 0),(0,c.Z)(this,"contract",void 0),this.provider=this._initProvider(t),this.contract=new tu.CH(e,tb.Mt,this.provider)}return(0,td.Z)(o,[{key:"_initProvider",value:function(e){return new tp.D(e,th.Ci)}},{key:"getMetadata",value:(e=(0,ew.Z)(ek().mark(function e(){var t,r,n,o,i;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.contract.endTime(),this.contract.price(),this.contract.tokenCounter()]);case 2:return t=e.sent,n=(r=(0,eO.Z)(t,3))[0],o=r[1],i=r[2],e.abrupt("return",{endDate:1e3*n.toNumber(),price:eI.formatEther(o),claimCounter:i.toNumber()});case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"getCollectors",value:(t=(0,ew.Z)(ek().mark(function e(t){var r;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.queryFilter({});case 2:return r=e.sent.filter(function(e){return"Redeem"===e.event}),e.abrupt("return",r.map(function(e){return{collectorAddress:e.args.redeemer,serialNumber:e.args.tokenCounter.toNumber()+t,transactionHash:e.transactionHash}}));case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"redeem",value:(r=(0,ew.Z)(ek().mark(function e(t){var r,n,o,i;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getSigner();case 2:return r=e.sent,n=t.amount,o=t.burnableTokenId,i={value:eI.parseEther(n)},e.abrupt("return",this.contract.connect(r).redeem(o,i));case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_getSigner",value:(n=(0,ew.Z)(ek().mark(function e(){var t,r;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!tv.Z.provider){e.next=4;break}return e.abrupt("return",tv.Z.getSigner());case 4:return e.next=6,null===(t=window.ethereum)||void 0===t?void 0:t.request({method:"eth_requestAccounts"});case 6:return r=new tf.Q(window.ethereum),e.abrupt("return",r.getSigner());case 8:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),o}(),tm=function(e){var t,r,n,o,i=new Date(e);return{month:i.toLocaleString("default",{month:"long"}),day:(t=i.getDate())+(t>0?["th","st","nd","rd"][t>3&&t<21||t%10>3?0:t%10]:""),time:(r=i.getHours(),n=i.getMinutes(),o=r>=12?"pm":"am",r%=12,(r=r||12)+":"+(n=n<10?"0"+n:n)+" "+o)}};function ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ty(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tw=function(e){var t,r=e.burnToRedeemContractAddress,n=e.burnableNftAddress,o=e.redeemableNftOffset,i=e.burnableNftTotalSupply;(0,eB.U)();var c=(0,ej.mA)().address,s=(0,k.useState)(null),l=s[0],d=s[1],u=(0,k.useState)(null),p=u[0],f=u[1],h=(0,k.useState)({}),v=h[0],b=h[1],g=(0,k.useState)(!0),m=g[0],y=g[1],x=(0,k.useState)(),w=x[0],O=x[1],Z=(0,k.useState)(null),S=Z[0],j=Z[1],P=(0,k.useState)(null),C=P[0],E=P[1],D=(0,k.useState)(null),T=D[0],B=D[1],A=(0,k.useState)(null),R=A[0],I=A[1],M=(0,k.useState)(a.CONNECT_WALLET),L=M[0],N=M[1],X=(0,k.useState)(null),W=X[0],F=X[1],_=(0,k.useState)(null),z=_[0],H=_[1],U=(0,k.useMemo)(function(){return"#0-".concat(o," Reserved")},[o]),$=(0,k.useMemo)(function(){return m},[m]);(0,k.useEffect)(function(){if(r){var e;(e=(0,ew.Z)(ek().mark(function e(){var t,n,o,a;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new tg(r),e.next=3,t.getMetadata();case 3:return n=e.sent,e.next=6,eD.Z.ethToUsdV2(parseFloat(n.price));case 6:o=e.sent,a=tm(n.endDate),d(tx(tx({},n),{},{prices:{usd:o,eth:n.price},totalSupply:i})),b({left:{heading:"".concat(n.price," ETH"),label:"NFT Price",subheading:"$".concat(o)},right:{heading:"".concat(a.month," ").concat(a.day),label:"Redeeming Closes",subheading:a.time}}),y(!1);case 13:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[r]),(0,k.useEffect)(function(){if(c&&n&&r){var e;(e=(0,ew.Z)(ek().mark(function e(){var t,o,i,s;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new eC.Z(n),e.next=3,Promise.all([t.editionsContract.isApprovedForAll(c,r),t.editionsContract.balanceOf(c)]);case 3:if(o=e.sent,s=(i=(0,eO.Z)(o,2))[0],i[1].toNumber()){e.next=10;break}return N(a.DOES_NOT_OWN_NFT),e.abrupt("return");case 10:s?N(a.REDEEM):N(a.APPROVE);case 11:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[c,n,r]),(0,k.useEffect)(function(){c&&L===a.CONNECT_WALLET&&N(a.LOADING)},[c,L]),(0,k.useEffect)(function(){var e;(e=(0,ew.Z)(ek().mark(function e(){var t;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new tg(r),e.next=3,t.getCollectors(o);case 3:O(e.sent);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[r]);var V=(0,k.useCallback)((t=(0,ew.Z)(ek().mark(function e(t){var r,o;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new eC.Z(n),e.next=4,r.editionsContract.ownerOf(t);case 4:return o=e.sent,e.abrupt("return",{ownerAddress:o,tokenId:t});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return t.apply(this,arguments)}),[n]),Y=(0,k.useCallback)((0,ew.Z)(ek().mark(function e(){var t,r,n,o,a,s;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0,t=i-1,r=[];n<=t;n++)r.push(n);return e.next=5,Promise.all(r.map(V));case 5:o=e.sent,a={},o.forEach(function(e){e&&(a[e.ownerAddress]=e.tokenId)}),null!==(s=c?a[c]:null)?(F(s),H(!1)):H(!0);case 10:case"end":return e.stop()}},e)})),[c,V]),q=(0,k.useCallback)((0,ew.Z)(ek().mark(function e(){var t,o;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),t=new eC.Z(n),e.next=5,t.setApprovalForAll(r);case 5:return o=e.sent,E(!0),e.next=9,o.wait();case 9:return e.next=11,Y();case 11:N(a.REDEEM),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),eT.Tb(e.t0),N(a.APPROVE_ERROR);case 19:return e.prev=19,j(!1),E(!1),e.finish(19);case 23:case"end":return e.stop()}},e,null,[[0,14,19,23]])})),[n,Y,r]),K=(0,k.useCallback)((0,ew.Z)(ek().mark(function e(){var t;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),t=new tg(r),e.next=5,t.redeem({amount:null==l?void 0:l.price,burnableTokenId:W});case 5:I(e.sent.hash),N(a.REDEEM_SUCCESS),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),eT.Tb(e.t0),N(a.REDEEM_ERROR);case 15:return e.prev=15,j(!1),E(!1),e.finish(15);case 19:case"end":return e.stop()}},e,null,[[0,10,15,19]])})),[r,W,null==l?void 0:l.price]);return{state:{burnToRedeemMetadata:l,showModal:p,viewValues:v,isLoading:$,collectors:w,reservedText:U,isSubmittingApproveTx:S,approveTxIsPending:C,modalStep:L,connectedAccount:{address:c},redeemTransactionHash:R,burnableTokenId:W,noBurnableTokenId:z,isSubmittingRedeemTx:T},actions:{approve:q,setShowModal:f,redeem:K,getBurnableTokenId:Y,setModalStep:N}}},tO=r(88542);function tZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tS=function(e){var t,r,n,o=e.burnToRedeemContractAddress,i=e.redeemableNftAddress,a=e.burnableNftAddress,c=e.editionId,s=e.redeemableNftOffset,l=e.burnableNftTotalSupply,d=(0,eK.Z)(c,i),f=tw({burnToRedeemContractAddress:o,redeemableNftAddress:i,burnableNftAddress:a,redeemableNftOffset:s,burnableNftTotalSupply:l}),h=f.state,v=h.viewValues,b=h.isLoading,g=h.collectors,m=h.reservedText,y=f.actions.setShowModal,x=(0,p.tZ)("div",{children:(0,p.tZ)(Z.zx,{center:!0,variant:"primary",width:"full",onClick:function(){return y(!0)},children:"Redeem NFT"})}),w=(0,p.tZ)("div",{sx:{my:1,mr:2},children:(0,p.tZ)("a",{href:"https://etherscan.io/address/".concat(o),rel:"noreferrer",target:"_blank",children:(0,p.tZ)(Z.Vp,{hover:!0,children:(0,ei.FP)(o)})})});return(0,p.tZ)(p.HY,{children:(0,p.tZ)("div",{sx:tk(tk({},u.Z.container),{},{div:{background:"none"}}),children:(0,p.BX)(p.HY,{children:[(0,p.tZ)(eY.Z,{editionMedia:d.data.editionMedia,isLoading:d.data.isLoading}),(0,p.tZ)(eq.Z,tk({burnToRedeemMetadata:null==f?void 0:null===(t=f.state)||void 0===t?void 0:t.burnToRedeemMetadata,contractTag:w,ctaButton:x,noEditionTag:!0,noPermalink:!0},d)),(0,p.tZ)(eV,{isLoading:d.data.isLoading||b,left:v.left,right:v.right}),(0,p.tZ)(tO.Z,{data:{collectors:g,reservedText:m}}),(0,p.tZ)(ts,{burnToRedeemBlockLogic:f,editionDBRecord:null==d?void 0:null===(r=d.data)||void 0===r?void 0:r.editionDBRecord,editionMedia:null==d?void 0:null===(n=d.data)||void 0===n?void 0:n.editionMedia})]})})})};function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tC(){tC=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},tC.apply(this,arguments)}var tE=function(e){return e.match(tC(/^(?:edition\x2Dburn\x2Dto\x2Dredeem:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{burnToRedeemContractAddress:1,params:2}))},tD=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).burnToRedeemContractAddress,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=c.get("burnableNftAddress"),l=c.get("redeemableNftAddress"),d=parseInt(c.get("editionId")),u=parseInt(c.get("burnableNftTotalSupply")),f=parseInt(c.get("redeemableNftOffset"));return(0,p.tZ)("div",{sx:tP(tP({maxWidth:"3xl",mx:"auto"},o?{"figure > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)("figure",{children:(0,p.tZ)(tS,{burnToRedeemContractAddress:r,burnableNftAddress:s,burnableNftTotalSupply:u,editionId:d,redeemableNftAddress:l,redeemableNftOffset:f})})})};function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tB(){tB=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},tB.apply(this,arguments)}var tA=function(e){return e.match(tB(/^(https?:\/\/.*.display=iframe).*$/,{src:1}))},tR=function(e){var t=e.attrs,r=t.matches.groups,n=(r=void 0===r?{}:r).src,o=t.href,i=e.isSelected,a=e.onClick,c=e.renderContext,s=o.split("?"),l=(0,eO.Z)(s,2)[1],d=new URLSearchParams(l);try{var u,f,h=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(d.entries());try{for(h.s();!(f=h.n()).done;){var v=(0,eO.Z)(f.value,2),b=v[0],m=v[1];u[b]=m}}catch(e){h.e(e)}finally{h.f()}delete u.v}catch(e){u=void 0}var y=d.get("height"),x=d.get("width"),w=d.get("size"),O=["embed-iframe",w?"figure-size-"+w:null].join(" "),Z={};return(y||x)&&(y&&(Z.height=parseInt(y)),x&&(Z.width=parseInt(x)),Z.paddingBottom=0),(0,p.tZ)("div",{sx:"editor"===c?g.vD:void 0,onClick:a,children:(0,p.tZ)("figure",{className:O,sx:{maxWidth:"3xl"},children:(0,p.tZ)("div",{className:"embed-video",style:Z,children:(0,p.tZ)("iframe",{allow:"'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,frameBorder:0,loading:"lazy",src:n,sx:i?g.dL:{}})})})})},tI=r(78242);function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tN=tL(tL({},u.Z.wrapper),{},{maxWidth:"100%"}),tX={display:[null,null,"flex"],alignItems:"stretch"},tW={objectFit:"cover",position:"absolute",top:0,left:0,height:"100%",width:"100%",borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important"};function tF(e){var t,r=e.href,n=(0,k.useState)(!1),o=n[0],i=n[1],a=(0,eS.a)(eP.xlP,{variables:{url:r},skip:!r,fetchPolicy:"cache-first"}),c=a.data,s=a.loading,l=null==c?void 0:c.linkPreview;if(s||!l)return(0,p.tZ)("figure",{children:(0,p.tZ)("div",{sx:tN,children:(0,p.tZ)(t_,{})})});var d=(0,tI.Fo)(r),f=(0,ei.aS)(l.title||d,256);return(0,p.tZ)("figure",{children:(0,p.tZ)("div",{sx:tN,children:(0,p.tZ)("a",{href:r,rel:"noreferrer noopener",sx:u.Z.containerHover,target:"_blank",children:(0,p.BX)("div",{sx:tX,children:[l.image&&!o&&(0,p.BX)("div",{sx:{overflow:"hidden",borderTopLeftRadius:["2xl",null,"0"],borderTopRightRadius:"3xl",borderBottomRightRadius:["0",null,"3xl"],paddingBottom:["50%",null,"0"],order:[null,null,2],position:"relative",width:[null,null,"15rem"]},children:[(0,p.tZ)("img",{alt:f,src:null!==(t=l.image.url)&&void 0!==t?t:void 0,sx:tW,onError:function(){i(!0)}}),(0,p.tZ)("div",{sx:{position:"absolute",bottom:0,top:[null,null,0],right:[0,null,"auto"],left:0,height:["1px",null,"auto"],width:[null,null,"1px"],background:"rgba(var(--foreground), var(--shadeForegroundSecondary))"}})]}),(0,p.BX)("div",{sx:{px:6,py:5,flex:1},children:[(0,p.tZ)("div",{sx:{fontWeight:500,color:"text",wordWrap:"break-word"},children:f}),(0,p.tZ)("div",{sx:{wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",height:"52px","-webkit-box-orient":"vertical","-webkit-line-clamp":"2",lineClamp:"2"},children:l.description}),l.url&&(0,p.BX)("div",{sx:{display:"flex",alignItems:"center",wordWrap:"break-word"},children:[(0,p.tZ)("svg",{fill:"currentColor",sx:{height:"17px",width:"17px"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,p.tZ)("path",{clipRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",fillRule:"evenodd"})}),(0,p.tZ)("div",{sx:{ml:2},children:d})]})]})]})})})})}function t_(){return(0,p.tZ)("div",{sx:tL(tL({},u.Z.container),{},{pointerEvents:"none"}),children:(0,p.tZ)("div",{sx:u.Z.loading,children:(0,p.tZ)(e5.Z,{})})})}function tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tU(){tU=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},tU.apply(this,arguments)}var t$=function(e){return e.match(tU(/(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,8}\b([-a-zA-Z0-9()!@:%_\+.~#?&\/\/=]*))/i,{href:1}))},tV=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).href,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:tH(tH(tH({},n?{"figure > div > a":g.dL}:{}),"editor"===i?g.vD:null),{},{maxWidth:"3xl",mx:"auto"}),onClick:o,children:(0,p.tZ)(tF,{href:r})})},tY=r(27812),tq=r(58091),tK=r(19485),tG=r(89755),tQ=r.n(tG),tJ=r(1011);function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var t2=function(e){var t,r,n,o,i,a,c,s,l=e.id,d=(0,ej.mA)().address,u=parseInt(l,10);(0,eB.U)();var f=(0,eS.a)(eP.OZf,{variables:{id:u}}),h=f.data,v=f.loading,b=k.useState(!1),g=(0,eO.Z)(b,2),m=g[0],y=g[1],x=k.useState(null),w=(0,eO.Z)(x,2),O=w[0],S=w[1],j=(0,eS.a)(eP.qSV,d?{variables:{pollId:u,address:d}}:{skip:!0}),P=j.data,C=j.loading,E=k.useCallback(function(){y(!1),S(null)},[y,S]),D=null==h?void 0:h.mirrorPoll,T=!!(null!=D&&D.startsAt)&&new Date>new Date(D.startsAt),B=!!(null!=D&&D.endsAt)&&new Date(D.endsAt)<new Date,A=null==P?void 0:null===(t=P.mirrorPollUser)||void 0===t?void 0:t.hasPermission,R=null==P?void 0:null===(r=P.mirrorPollUser)||void 0===r?void 0:r.existingVote,I=D&&Math.max.apply(Math,(0,tY.Z)(D.choices.map(function(e){return e.responses.length}))),M=B?D.choices.filter(function(e){return e.responses.length>=I}):[],L=B?D.choices.filter(function(e){return e.responses.length<I}):null!==(n=null==D?void 0:D.choices)&&void 0!==n?n:[],N=v?[]:[{label:"Winning Option",choices:M,winning:!0},{label:"Options",choices:L}],X=void 0,W=void 0;return D?T||v?T&&!B?(X={value:(0,p.BX)(Z.Kq,{align:"baseline",direction:"horizontal",space:"6px",children:[(0,p.tZ)(Z.xu,{backgroundColor:"green",borderRadius:"full",height:"16px",width:"16px"}),"Open"]}),meta:"You may cast your vote"},W={label:"Voting Ends",value:(0,tq.Z)(new Date(D.endsAt),"PPP"),meta:(0,tq.Z)(new Date(D.endsAt),"p")}):B&&(X={value:"Closed",meta:"Voting has ended"},W={label:"Voting Ended",value:(0,tq.Z)(new Date(D.endsAt),"PPP"),meta:(0,tq.Z)(new Date(D.endsAt),"p")}):(X={value:"Upcoming",meta:"Voting is not open yet"},W={label:"Voting Starts",value:(0,tq.Z)(new Date(D.startsAt),"PPP"),meta:(0,tq.Z)(new Date(D.startsAt),"p")}):(X={value:"",meta:""},W={label:"",value:"",meta:""}),(0,p.BX)(p.HY,{children:[(0,p.tZ)(Z.sI,{loading:v,children:(0,p.BX)(Z.Zb,{shadow:!0,children:[(0,p.BX)(Z.xu,{display:"flex",flexDirection:"column",gap:"24px",padding:"24px",children:[(0,p.BX)(Z.Kq,{space:"6px",children:[(0,p.tZ)(Z.Od,{height:"40px",width:"288px",children:(0,p.tZ)(Z.X6,{as:"div",level:"2",children:null==D?void 0:D.title})}),(0,p.tZ)(Z.Od,{height:"32px",width:"full",children:(0,p.tZ)(Z.xv,{color:"textSecondary",variant:"large",children:null==D?void 0:D.description})})]}),(0,p.BX)(Z.Kq,{direction:{xs:"vertical",sm:"horizontal"},space:"16px",children:[(0,p.tZ)(Z.xu,{width:"full",children:(0,p.tZ)(Z.kN,{label:(0,p.tZ)(Z.Od,{height:"20px",width:"80px",children:"Voting Status"}),meta:(0,p.tZ)(Z.Od,{height:"24px",width:"80px",children:null===(o=X)||void 0===o?void 0:o.meta}),size:"small",value:(0,p.tZ)(Z.Od,{height:"28px",width:"128px",children:null===(i=X)||void 0===i?void 0:i.value})})}),(0,p.tZ)(Z.xu,{width:"full",children:(0,p.tZ)(Z.kN,{label:(0,p.tZ)(Z.Od,{height:"20px",width:"80px",children:null===(a=W)||void 0===a?void 0:a.label}),meta:(0,p.tZ)(Z.Od,{height:"24px",width:"80px",children:null===(c=W)||void 0===c?void 0:c.meta}),size:"small",value:(0,p.tZ)(Z.Od,{height:"28px",width:"128px",children:null===(s=W)||void 0===s?void 0:s.value})})})]})]}),N.length?N.filter(function(e){return e.choices.length}).map(function(e){return(0,p.BX)(Z.xu,{children:[(0,p.tZ)(Z.xu,{backgroundColor:"foregroundTertiary",paddingX:"24px",paddingY:"16px",children:(0,p.tZ)(Z.xv,{color:"textTertiary",variant:"label",children:e.label})}),e.choices.map(function(t,r){var n;return(0,p.BX)(k.Fragment,{children:[(0,p.tZ)(t4,{description:t.description,disabled:!!R,hasEnded:B,hasStarted:T,hasVoted:R===t.id,isFirst:e.winning&&I===t.responses.length,loading:C,responses:null===(n=t.responses)||void 0===n?void 0:n.filter(Boolean),title:t.title,onClick:function(){S(t.id),y(!0)}}),r!==D.choices.length-1&&(0,p.tZ)(Z.xu,{backgroundColor:"foregroundTertiary",height:"2px"})]},"mirror_poll_choice_".concat(t.id))})]},e.label)}):(0,p.BX)(Z.xu,{children:[(0,p.tZ)(Z.xu,{backgroundColor:"foregroundTertiary",height:"48px",paddingX:"24px",paddingY:"16px"}),(0,p.tZ)(t4,{}),(0,p.tZ)(Z.xu,{backgroundColor:"foregroundTertiary",height:"2px"}),(0,p.tZ)(t4,{})]})]})}),(0,p.tZ)(t6,{canRespond:A,currentChoice:O,handleClose:E,open:m,pollId:u})]})},t4=function(e){var t=e.description,r=e.disabled,n=e.hasEnded,o=e.hasStarted,i=e.hasVoted,a=e.isFirst,c=e.loading,s=e.responses,l=void 0===s?[]:s,d=e.title,u=e.onClick,f=n&&a,h=c||n||i||r;return(0,p.tZ)(p.HY,{children:(0,p.tZ)(Z.xu,{marginTop:a?"none":"8px",padding:"24px",children:(0,p.BX)(Z.Kq,{direction:{xs:"vertical",sm:"horizontal"},justify:"space-between",space:"24px",children:[(0,p.BX)(Z.Kq,{children:[(0,p.BX)(Z.Kq,{space:"4px",children:[(0,p.BX)(Z.Kq,{direction:"horizontal",space:"4px",children:[f&&(0,p.tZ)(Z.NO,{color:"accent",size:"32px"}),(0,p.tZ)(Z.Od,{height:"32px",width:"128px",children:(0,p.tZ)(Z.xv,{color:f?"accent":"text",variant:"extraLarge",weight:"semiBold",children:d})})]}),(0,p.tZ)(Z.Od,{height:"24px",width:"224px",children:(0,p.tZ)(Z.xv,{color:"textSecondary",children:t})})]}),(0,p.BX)(Z.Kq,{align:"center",direction:"horizontal",space:"8px",children:[i&&(0,p.tZ)(Z.Vp,{tone:"accent",children:"You voted for this"}),(0,p.tZ)(Z.Kq,{direction:"horizontal",children:(0,p.tZ)(Z.HE,{as:tQ(),ensAvatarHook:tJ.u,limit:4,members:l.map(function(e){var t,r,n,o;return{address:e.address,label:null!==(t=null===(r=e.twitter)||void 0===r?void 0:r.name)&&void 0!==t?t:e.address,src:null===(n=e.twitter)||void 0===n?void 0:n.avatarURL,placeholder:!(null!==(o=e.twitter)&&void 0!==o&&o.avatarURL)}}),size:"24px"})})]})]}),o&&(0,p.tZ)(Z.xu,{width:{xs:"full",sm:"auto"},children:(0,p.BX)(Z.Kq,{direction:"horizontal",space:"2px",children:[(0,p.tZ)(Z.xu,{alignItems:"center",backgroundColor:h||n&&!a?"foregroundTertiary":"accentSecondary",borderBottomLeftRadius:"large",borderRadius:n?"large":void 0,borderTopLeftRadius:"large",display:"flex",height:"56px",paddingX:"24px",width:{xs:"full",sm:"auto"},children:(0,p.tZ)(Z.xv,{color:!h||a&&n?"accent":"textSecondary",weight:"semiBold",children:l.length.toLocaleString()})}),!n&&(0,p.BX)(Z.xu,{alignItems:"center",as:"button",backgroundColor:h||n?"textTertiary":"accent",borderBottomRightRadius:"large",borderTopRightRadius:"large",cursor:h?"not-allowed":"pointer",disabled:h,display:"flex",height:"56px",paddingX:"16px",onClick:u,children:[(0,p.tZ)(Z.TX,{children:"Vote"}),(0,p.tZ)(Z.Cz,{color:"background"})]})]})})]})})})},t6=function(e){var t=e.handleClose,r=e.open,n=e.currentChoice,o=e.pollId,i=e.canRespond,a=(0,ej.mA)().address,c=(0,ej.qL)().disconnect,s=k.useState({step:"connect_wallet"}),l=(0,eO.Z)(s,2),d=l[0],u=l[1];return k.useEffect(function(){u(function(e){return t1(t1({},e),{},{step:e.back?e.step:a?"confirm":"connect_wallet"})})},[a,i]),(0,p.tZ)(el.Z,{isOpen:r,onClose:t,children:function(){switch(d.step){case"confirm":return(0,p.tZ)(t5,{canRespond:i,choiceId:n,pollId:o,onBack:function(){c(),u(function(e){return t1(t1({},e),{},{back:!0,step:"connect_wallet"})})},onClose:t});case"connect_wallet":return(0,p.tZ)(Z.$j,{})}}()})},t5=function(e){var t,r=e.onClose,n=e.canRespond,o=e.onBack,i=(0,ej.mA)().address,a=i&&tK.getAddress(i),c=k.useState({checkWallet:!1,loading:!1}),s=(0,eO.Z)(c,1)[0],l=k.useCallback((0,ew.Z)(ek().mark(function e(){return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}},e)})),[r]);t=s.checkWallet?"Check Wallet":n?"Cast 1 Vote":"No available votes";var d=s.loading||s.checkWallet;return(0,p.tZ)(ef.Z,{isOpen:!0,title:"Vote",onBack:o,onClose:r,children:(0,p.BX)(Z.Kq,{space:"16px",children:[(0,p.tZ)(ep.Z,{address:a}),(0,p.tZ)(Z.zx,{center:!0,disabled:d||!n,loading:d,width:"full",onClick:l,children:t}),s.error&&(0,p.tZ)(Z.xu,{"aria-live":"polite",color:"red",fontSize:"small",wordBreak:"break-word",children:s.error})]})})};function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t7(){t7=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},t7.apply(this,arguments)}var t8=function(e){return e.match(t7(/^(?:mirror\x2Dpoll:\/\/)([0-9]*)$/,{id:1}))},re=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).id,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:t9(t9({maxWidth:"3xl",mx:"auto"},n?{"figure > div":g.dL}:{}),"editor"===i?g.vD:null),onClick:o,children:(0,p.tZ)("figure",{children:(0,p.tZ)(t2,{id:r})})})};function rt(){rt=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},rt.apply(this,arguments)}var rr=function(e){return e.match(rt(/^(https?:\/\/.*.mp4)((?:&?[^=&]*=[^=&]*)*)$/i,{src:1,params:2}))},rn=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).src,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n),s=c.get("height"),l=c.get("width"),d=null!==c.get("autoplay"),u=null!==c.get("loop"),f=null!==c.get("muted"),h=c.get("size"),v=[h?"figure-size-"+h:null].join(" "),b={};if(l&&s){var m=parseInt(s),y=parseInt(l);b.paddingBottom="".concat(m/y*100,"%")}return(0,p.tZ)("div",{sx:"editor"===a?g.vD:void 0,onClick:i,children:(0,p.tZ)("figure",{className:v,sx:{maxWidth:"3xl"},children:(0,p.tZ)("div",{className:"embed-video",style:b,children:(0,p.tZ)("video",{autoPlay:d,controls:!0,loop:u,muted:f,src:r,sx:o?g.dL:{}})})})})},ro=r(42708),ri=r(1004),ra=r(53109),rc=r(1033),rs=r(17243),rl=r(95465),rd={media:{display:"flex",minHeight:"10rem",position:"relative",justifyContent:"center",alignItems:"center","& > img, & > video":{display:"block",height:"auto",width:"100%",borderRadius:"0 !important",maxHeight:"none !important"},"&::after":{content:'""',border:"1px solid rgba(var(--black), var(--shadeGroupBorder))",borderLeft:0,borderRight:0,position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2,pointerEvents:"none"}},mediaBlockWrapper:{px:[4,null,0],maxWidth:"lg",width:"100%"},mediaBlockContainer:{display:"block",backgroundColor:"groupBackground",color:"textSecondary",fontSize:"base",position:"relative",borderRadius:"xl",mx:"auto",width:"100%","&::after":{content:'""',boxShadow:"0 0 1rem rgba(var(--groupBorder), var(--shadeGroupBorder))",border:"1px solid rgba(var(--groupBorder), var(--shadeGroupBorder))",borderRadius:"xl",position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},"&::before":{content:'""',borderRadius:"xl",position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",transition:"125ms ease-in-out box-shadow, 125ms ease-in-out background",zIndex:"-1"}}},ru=(0,k.forwardRef)(function(e,t){var r=e.mediaPageUrl,n=e.mediaUrl,o=e.mediaMimeType,i=e.mediaSecondaryUrl,a=e.mediaSecondaryMimeType,c=e.ownerAddress,s=e.ownerUrl,l=e.ownerName,d=e.creatorAddress,u=e.creatorUrl,f=e.metadata,h=e.isLoading,v=e.error,b=f&&f.createdBy?f.createdBy.replace("@",""):null,g=(0,ei.d)(null==f?void 0:f.platform)?(0,ei.kS)(f.platform):null==f?void 0:f.platform;return(0,p.tZ)("figure",{ref:t,children:(0,p.tZ)("div",{sx:rd.mediaBlockWrapper,children:(0,p.BX)("div",{sx:rd.mediaBlockContainer,children:[(0,p.BX)("div",{sx:{py:[4,5],px:[4,6],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,p.tZ)(ra.ZP,{contributor:{displayName:b,address:d},href:u,isLoading:h||!!v}),(0,p.tZ)("a",{href:r,rel:"noreferrer",target:"_blank",children:(0,p.tZ)(rs.Z,{hover:!0,size:"md"})})]}),h?(0,p.tZ)("div",{sx:rd.media,children:(0,p.tZ)(e5.Z,{size:"48px"})}):v?(0,p.tZ)("div",{sx:rd.media,children:"This NFT is unsupported"}):n?(0,p.tZ)("div",{sx:rd.media,children:(0,p.tZ)(rl.Z,{autoPlay:!0,media:n,mediaMimeType:o,mediaSecondary:i,mediaSecondaryMimeType:a,unoptimized:!0})}):null,(0,p.BX)("div",{sx:{py:[4,5],px:[4,6],lineHeight:"normal"},children:[(0,p.tZ)(ra.ZP,{contributor:{displayName:l,address:c},href:s,isLoading:h||!!v,label:"Collected by",sx:{fontSize:"sm"}}),(0,p.BX)("div",{sx:{wordWrap:"break-word"},children:[(0,p.BX)("div",{sx:{my:4},children:[(0,p.tZ)("span",{sx:{display:"inline-block",mr:2,fontWeight:500,color:"text",width:h?"100%":"auto"},children:h||v?(0,p.tZ)(rc.Z,{width:"100%"}):f?(0,p.tZ)("a",{href:r,rel:"noreferrer",sx:{color:"text"},target:"_blank",children:f.name}):null}),h||v?(0,p.tZ)(p.HY,{children:(0,p.tZ)(rc.Z,{width:"65%"})}):f?f.description:null]}),(0,p.tZ)("div",{sx:{fontSize:"sm",fontWeight:500},children:h||v?(0,p.tZ)(rc.Z,{}):f?(0,p.BX)("div",{sx:{display:"flex"},children:[f.dateCreated?(0,p.tZ)("div",{sx:{mr:4},children:f.dateCreated}):void 0,g?(0,p.tZ)("div",{children:(0,p.BX)("a",{href:r,rel:"noreferrer",target:"_blank",children:[g,(0,p.tZ)("span",{sx:{display:"inline-block",transform:"rotate(-45deg)"},children:""})]})}):void 0]}):null})]})]})]})})})});function rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rh=function(e){var t=e.nftAddress,r=e.nftId,n=(0,ro.YD)({threshold:0,triggerOnce:!0}),o=n.ref,i=n.inView,a=k.useState({error:void 0,data:void 0,fetching:!1}),c=(0,eO.Z)(a,2),s=c[0],l=s.data,d=s.fetching,u=c[1];return(k.useEffect(function(){if(i){var e;(e=(0,ew.Z)(ek().mark(function e(){var n,o;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(function(e){return rf(rf({},e),{},{fetching:!0})}),e.next=4,fetch("/api/nft-data?contract=".concat(t,"&tokenId=").concat(r));case 4:if((n=e.sent).ok){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.json();case 9:o=e.sent,u(function(e){return rf(rf({},e),{},{data:o,fetching:!1})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u(function(t){return rf(rf({},t),{},{error:e.t0,fetching:!1})});case 16:case"end":return e.stop()}},e,null,[[0,13]])})),function(){return e.apply(this,arguments)})()}},[i,t,r]),i&&!d&&l)?(0,p.tZ)(ru,{creatorUrl:l.creatorOfUrl,mediaMimeType:l.mediaMimeType,mediaPageUrl:l.mediaPageUrl,mediaSecondaryMimeType:l.mediaSecondaryMimeType,mediaSecondaryUrl:l.mediaSecondaryUrl,mediaUrl:l.mediaUrl,metadata:{name:l.name,createdBy:l.creatorOf,dateCreated:(0,ri.wQ)(parseInt(l.timestamp)),description:l.description,platform:l.platform},ownerName:l.ownerOf,ownerUrl:l.ownerOfUrl}):(0,p.tZ)(ru,{isLoading:!0,ref:o})};function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rg(){rg=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},rg.apply(this,arguments)}var rm=function(e){return e.match(rg(/^(?:ethereum:\/\/)([a-zA-Z0-9]{42})\/([a-zA-Z0-9]*)$/i,{address:1,id:2}))},ry=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.id,o=e.isSelected,i=e.onClick,a=e.renderContext;return(0,p.tZ)("div",{sx:rb(rb({},o?{"figure > div > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)(rh,{nftAddress:r,nftId:parseInt(n)})})},rx=r(87014),rw=r(33048),rO=r(77255);function rZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rZ(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rS(){rS=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},rS.apply(this,arguments)}var rj=function(e){return e.match(rS(/^(?:nft:\/\/)([0-9]*)\/([a-zA-Z0-9]{42})\/([a-zA-Z0-9]*)(\?.*)?$/i,{chainId:1,contractAddress:2,tokenId:3,queryParams:4}))},rP=function(e){return e.match(/^nft:\/\/loading\?(.*)$/i)},rC={showBuying:!0,showMeta:!0,size:"small",extraParams:null},rE=function(e){var t=e.attrs.matches.groups,r=e.isSelected,n=e.onClick,o=e.renderContext,i=null!=t?t:{},a=i.contractAddress,c=i.chainId,s=i.tokenId,l=i.queryParams,d=k.useMemo(function(){return(0,rO.Z)(l,rC)},[l]);return(0,p.tZ)("div",{sx:rk(rk({mx:"auto"},r?{"figure > div":g.dL}:{}),"editor"===o?g.vD:null),onClick:n,children:(0,p.tZ)(rw.D,{chainId:parseInt(c),contractAddress:a,extraParams:null==d?void 0:d.extraParams,showBuying:null==d?void 0:d.showBuying,showMeta:null==d?void 0:d.showMeta,size:d.size,tokenId:s})})},rD=function(e){var t=e.isSelected,r=e.onClick,n=e.renderContext;return(0,p.tZ)("div",{sx:rk(rk({mx:"auto"},t?{"figure > div":g.dL}:{}),"editor"===n?g.vD:null),onClick:r,children:(0,p.tZ)("figure",{children:(0,p.tZ)(rx.h,{data:{},isLoading:!0,isSnft_removeWhenNftEmbedSupportsSnfts:!1,showBuying:!0,showMeta:!0,showPlaceholder:!1,size:"small"})})})},rT=r(81571),rB=r(78779);function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rI(e){var t=(0,rB.s)({splitAddress:e.splitAddress});return(0,p.tZ)(rT.Z,rR(rR({},t),{},{className:e.className}))}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rN(e){return(0,p.tZ)("figure",{children:(0,p.tZ)("div",{sx:{px:[4,null,0],width:"100%"},children:(0,p.tZ)(rI,rL(rL({},e),{},{sx:u.Z.container}))})})}function rX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rX(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rF(){rF=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},rF.apply(this,arguments)}var r_=function(e){return e.match(rF(/^(?:split:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},rz=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:rW(rW({maxWidth:"3xl",mx:"auto"},n?{"figure > div > div":g.dL}:{}),"editor"===i?g.vD:null),onClick:o,children:(0,p.tZ)(rN,{splitAddress:r})})},rH=r(28332),rU=r(37474),r$=r(86931),rV=function(e){var t=k.useContext(rU._),r=(0,ej.mA)().address;return k.useEffect(function(){rH.track("subscribe__embed_rendered",{address__project:t,address__subscriber:r,source__:"entry_subscribe_block"})},[]),(0,p.tZ)(Z.xu,{display:"flex",justifyContent:"center",width:"full",children:(0,p.tZ)(r$.Z,{projectAddress:t,source:"EntrySubscribeBlock"})})};function rY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rY(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rK=function(e){return e.match(/^(?:subscribe:\/\/)$/)},rG=function(e){var t=e.isSelected,r=e.onClick,n=e.renderContext;return(0,p.tZ)("div",{sx:rq(rq({maxWidth:"3xl",mx:"auto"},t?{"figure > div":g.dL}:{}),"editor"===n?g.vD:null),onClick:r,children:(0,p.tZ)("figure",{children:(0,p.tZ)(rV,{})})})},rQ=r(69884),rJ=r(8089),r0=r(83072),r1=r(75026),r2=r(97467),r4=r(87536),r6=r(4730),r5=r(37385),r3=["className","error","description","disabled","highlight","label","placeholder","prefix","required","rows","setValue","sxInput","value"];function r9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r9(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var r8=function(e,t){var r=e.className,n=e.error,o=e.description,i=e.disabled,a=e.highlight,c=e.label,s=e.placeholder,l=e.prefix,d=e.required,u=e.rows,f=e.setValue,h=e.sxInput,v=e.value,b=(0,r6.Z)(e,r3);return(0,p.BX)("div",{children:[c?(0,p.tZ)("div",{className:"label",sx:r7(r7({},r5.Z.inputLabel),{},{color:!i&&a?"rgb(var(--accent)) !important":"text"}),children:c}):null,(0,p.tZ)("div",{className:r,sx:{position:"relative",pointerEvents:i?"none":"auto",lineHeight:1},children:(0,p.tZ)("textarea",r7({disabled:i,placeholder:s,ref:t,required:d,rows:void 0===u?4:u,sx:r7(r7(r7({},r5.Z.input),{},{borderColor:!i&&a?"rgb(var(--accent)) !important":void 0},v&&l?{pl:8}:{}),{},{height:"auto",lineHeight:"normal",py:4,resize:"vertical",fontWeight:400},h),value:v,onChange:function(e){return null==f?void 0:f(e.target.value)}},b))}),o?(0,p.tZ)("div",{sx:r7(r7({},r5.Z.description),{},{lineHeight:1.5}),children:o}):null,n&&(0,p.tZ)("div",{sx:r7(r7({},r5.Z.error),{},{lineHeight:1.5}),children:n})]})};r8.displayName="InnerInputTextarea";var ne=(0,k.forwardRef)(r8);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var nn=function(e){var t,r,n=e.className,o=e.backersMap,i=e.loading,a=e.description,c=e.question,s=e.surveyId,l=e.title,d=(0,r4.cI)(),u=d.register,f=d.handleSubmit,h=(0,ej.mA)().address,v=(0,eS.a)(eP.Nhd,{variables:{surveyId:s,address:h},skip:!h}).data,b=k.useState({error:void 0,showConnectWalletModal:!1}),g=(0,eO.Z)(b,2),m=g[0],y=g[1];try{r="string"==typeof h&&(null==o?void 0:o.hasOwnProperty(tK.getAddress(h)))}catch(e){r=!1}var x=k.useCallback((t=(0,ew.Z)(ek().mark(function e(t){return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y(function(e){return nr(nr({},e),{},{error:void 0})});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[]);return(0,p.tZ)("div",{className:n,sx:{width:"100%"},children:(0,p.tZ)("div",{sx:{px:[4,6],py:6,maxWidth:"4xl",mx:"auto"},children:i?(0,p.tZ)("div",{sx:{display:"flex",justifyContent:"center",py:8},children:(0,p.tZ)(e5.Z,{})}):(0,p.BX)(p.HY,{children:[(0,p.BX)("header",{sx:{mb:6},children:[(0,p.tZ)("div",{sx:nr(nr({},et.h2),{},{mb:2}),children:l}),(0,p.tZ)("div",{sx:{color:"textTertiary"},children:a})]}),null!=v&&v.hasUserSubmittedSurvey?(0,p.BX)("div",{sx:nr(nr({},no),{},{py:12,px:4}),children:[(0,p.tZ)("div",{sx:{display:"flex",color:"accent",justifyContent:"center",alignItems:"center",height:20,width:20,border:function(e){var t;return"4px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.accent)},borderRadius:"full",mb:2.5},children:(0,p.tZ)(r2.nQG,{width:40})}),(0,p.tZ)("div",{sx:{color:"accent",fontSize:"lg"},children:"Success"})]}):r?(0,p.tZ)("div",{sx:{borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)},pt:6},children:(0,p.BX)("form",{onSubmit:f(x),children:[(0,p.BX)("div",{sx:{mb:4},children:[(0,p.tZ)("div",{sx:{color:"text",fontWeight:500},children:c}),m.error&&(0,p.tZ)("div",{sx:{color:"danger",fontSize:"sm",mt:2},children:m.error})]}),(0,p.tZ)(ne,nr({maxLength:100,sx:{mb:6,width:"100%"},onChange:function(e){return y(function(t){return nr(nr({},t),{},{response:e.target.value})})}},u("response",{required:!0})))]})}):(0,p.tZ)("div",{sx:nr(nr({},no),{},{py:17,px:4}),children:o?(0,p.tZ)("div",{sx:{textAlign:"center",fontWeight:500},children:"Your wallet is not included in the list of qualifying backers."}):(0,p.tZ)(e5.Z,{size:"48px"})})]})})})},no={display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",borderRadius:"2xl",backgroundColor:"foregroundTertiary"};function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var nc=function(e){var t=e.address,r=e.className,n=e.surveyId,o=k.useState(),i=(0,eO.Z)(o,2),a=i[0],s=i[1],l=(0,eS.a)(eP.lR7,{variables:{surveyId:n,crowdfundAddress:t}}),d=l.data,f=l.loading,h=(0,eS.a)(eP.VoG,{variables:{address:t}}),v=h.data,b=h.refetch,g=(0,eS.a)(eP._7j,{variables:{address:t}}).data,m=null==d?void 0:d.getSurvey,y=k.useCallback((0,ew.Z)(ek().mark(function e(){var r;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,r1.Hi)({address:t,refetchCrowdfundBlockData:b,oldEvents:v.crowdfundBlockData.events});case 5:r=e.sent.data,s((0,rQ.Z)(r.crowdfundBlockData.backers,"address")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error({err:e.t0}),eT.Tb(e.t0);case 15:case"end":return e.stop()}},e,null,[[2,11]])})),[b,t,v]);return k.useEffect(function(){null!=m&&m.backers&&s(m.backers.reduce(function(e,t){return na(na({},e),{},(0,c.Z)({},t,1))},{}))},[m]),k.useEffect(function(){if(null!=v&&v.crowdfundBlockData&&null!=g&&null!==(r=g.crowdfundAtAddress)&&void 0!==r&&r.version){var e,r;(e=(0,ew.Z)(ek().mark(function e(){var r,n,o,i;return ek().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=g.crowdfundAtAddress.version,n=eo.ZP.NETWORK,!(null!=r&&r.includes("tiered"))){e.next=12;break}return o=new r0.Z(n,!0),e.next=7,o.getCallableProxyWithProvider(t);case 7:(i=e.sent).on("Contribution",y),i.on("ContributionForEdition",y),e.next=14;break;case 12:new rJ.ZP(t,n,!0).crowdfund.on("Contribution",y);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])})),function(){return e.apply(this,arguments)})()}},[v,g,t,y]),(0,p.tZ)("figure",{sx:{mx:"auto",width:"100%"},children:(0,p.tZ)("div",{sx:{px:[4,null,0],width:"100%"},children:(0,p.tZ)(nn,{action:"Submit",address:t,backersMap:a,className:r,description:null==m?void 0:m.description,loading:f,question:null==m?void 0:m.prompt,surveyId:n,sx:u.Z.container,title:null==m?void 0:m.title})})})};function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nd(){nd=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},nd.apply(this,arguments)}var nu=function(e){return e.match(nd(/^(?:survey:\/\/)([0-9])((?:&?[^=&]*=[^=&]*)*)$/,{id:1,params:2}))},np=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).id,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=new URLSearchParams(n).get("address");return(0,p.tZ)("div",{sx:nl(nl({maxWidth:"3xl",mx:"auto"},o?{"figure > div > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:(0,p.tZ)(nc,{address:c,surveyId:parseInt(r)})})},nf=r(19602),nh=r(57442);function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ng(){ng=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},ng.apply(this,arguments)}var nm=function(e){return e.match(ng(/^(?:subscriber\x2Dedition:\/\/)([a-zA-Z0-9]{42})((?:&?[^=&]*=[^=&]*)*)$/,{address:1,params:2}))},ny={tokenId:null,size:"small"},nx=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).address,n=t.params,o=e.isSelected,i=e.onClick,a=e.renderContext,c=k.useMemo(function(){return(0,rO.Z)(n,ny)},[n]),s=k.useContext(nh.I).setSubscriberNft;return k.useEffect(function(){return c.tokenId&&r&&s({address:r,tokenId:parseInt(c.tokenId)}),function(){s(void 0)}},[r,c.tokenId,s]),(0,p.tZ)("div",{sx:nb(nb({mx:"auto"},o?{"figure > div":g.dL}:{}),"editor"===a?g.vD:null),onClick:i,children:!!c.tokenId&&!!r&&(0,p.tZ)(nf.u9,{address:r,size:c.size,tokenId:parseInt(c.tokenId)})})},nw=r(26555),nO=r(37010),nZ=r(11794),nk=r(81933),nS=r(746);function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var nC=function(e){var t,r,n,o=e.id,i=(0,eS.a)(eP.VMc,{variables:{cid:o}}),a=i.data,c=i.loading,s=null==a?void 0:a.proposal,l=null==s?void 0:s.title,d=null==s?void 0:s.description,f=null==s?void 0:s.status,h=null==s?void 0:s.startDate,v=null==s?void 0:s.endDate,b=(0,nZ.c)(null==s?void 0:null===(t=s.publisher)||void 0===t?void 0:null===(r=t.project)||void 0===r?void 0:r.domain),g=(0,nO.J7)({startDate:h,endDate:v,skip:!s||"ENDED"===f}),m=[];if(g&&"CREATED"===f){var y=h&&(0,nw.Z)(new Date(parseInt(h)),new Date);n="Voting opens ".concat(y.includes("today")?"":"on"," ").concat(y),m=g.opensIn}else if(g&&"LIVE"===f){var x=v&&(0,nw.Z)(new Date(parseInt(v)),new Date);n="Voting closes ".concat(x.includes("today")?"":"on"," ").concat(x),m=g.endsIn}else if(g&&"ENDED"===f){var w=v&&(0,nw.Z)(new Date(parseInt(v)),new Date);n="Voting ended ".concat(w),m=g.endsIn}return(0,p.tZ)("figure",{children:(0,p.tZ)("div",{sx:{px:[4,null,0],width:"100%"},children:(0,p.BX)("div",{sx:nP(nP({},u.Z.container),{},{px:[4,6],py:6}),children:[(0,p.tZ)(nS.R,{background:"accentTertiary",padding:!0,radius:"md",children:(0,p.tZ)(nO.bj,{compact:!0,inactive:"ENDED"===f,opensIn:m,votingDate:n})}),(0,p.BX)("header",{sx:{mt:8},children:[(0,p.tZ)("div",{sx:et.h2,children:null!=l?l:(0,p.tZ)(rc.Z,{sx:{width:48}})}),(0,p.tZ)("div",{sx:{color:"textTertiary",mt:[1],pr:[0,4],fontSize:"base"},children:null!=d?d:(0,p.tZ)(rc.Z,{sx:{width:"20rem"}})})]}),(0,p.tZ)(nk.Z,{href:"/token-race/".concat(o),subdomain:b,children:(0,p.tZ)(Q.ZP,{alignment:"center",disabled:c,sx:{mt:6,width:"100%"},variant:"highlight",children:"LIVE"===f?"Cast Your Vote":"ENDED"===f?"View The Results":"View The Race"})})]})})})};function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nT(){nT=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},nT.apply(this,arguments)}var nB=function(e){return e.match(nT(/^(?:proposal:\/\/)([a-zA-Z0-9]*)((?:&?[^=&]*=[^=&]*)*)$/,{id:1,params:2}))},nA=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).id,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:nD(nD({maxWidth:"3xl",mx:"auto"},n?{"figure > div > div":g.dL}:{}),"editor"===i?g.vD:null),onClick:o,children:(0,p.tZ)(nC,{id:r})})},nR=r(88079);function nI(e){var t=e.className,r=e.tweetId,n=k.useState(!0),o=(0,eO.Z)(n,2),i=o[0],a=o[1];return(0,p.BX)("figure",{children:[i&&(0,p.tZ)(e5.Z,{}),(0,p.tZ)(nR.Z,{className:t,id:r,sx:{visibility:i?"hidden":"unset",borderRadius:"xl",overflow:"hidden",px:[4,null,0],width:"100%",display:"flex",justifyContent:"center",maxWidth:"lg","& > div":{mt:"0 !important",mb:"0 !important"}},onTweetLoadError:function(){return a(!1)},onTweetLoadSuccess:function(){return a(!1)}})]})}function nM(){nM=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},nM.apply(this,arguments)}var nL=function(e){return e.match(nM(/^(?:https?:\/\/)?(?:www\.)?(twitter|x).com\/([A-Za-z0-9_]+)\/status\/([0-9]+)/i,{username:2,tweetId:3}))},nN=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).tweetId,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:"editor"===i?g.vD:void 0,onClick:o,children:(0,p.tZ)(nI,{sx:n?g.dL:{},tweetId:r})})};function nX(){nX=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},nX.apply(this,arguments)}var nW=function(e){return e.match(nX(/^(http|https)?:\/\/(www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|)(\d+)(?:|\/\?)$/i,{videoId:4}))},nF=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).videoId,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:"editor"===i?g.vD:void 0,onClick:o,children:(0,p.tZ)("figure",{sx:{maxWidth:"3xl"},children:(0,p.tZ)("div",{className:"embed-video",children:(0,p.tZ)("iframe",{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:n?"ProseMirror-selectednode":"",frameBorder:0,loading:"lazy",src:"https://player.vimeo.com/video/".concat(r,"?byline=0")})})})})};function n_(){n_=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var i=new RegExp(e,n);return t.set(i,o||t.get(e)),(0,l.Z)(i,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce(function(t,r){return t[r]=e[n[r]],t},Object.create(null))}return(0,s.Z)(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var i=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,function(e,t){return"$"+i[t]}))}if("function"==typeof o){var a=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,a)),o.apply(this,e)})}return e[Symbol.replace].call(this,r,o)},n_.apply(this,arguments)}var nz=function(e){return e.match(n_(/^(?:(https?:)?\/\/)?(?:(www|m)\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([a-zA-Z0-9_-]{11})(\S*)$/i,{videoId:3}))},nH=function(e){var t=e.attrs.matches.groups,r=(t=void 0===t?{}:t).videoId,n=e.isSelected,o=e.onClick,i=e.renderContext;return(0,p.tZ)("div",{sx:"editor"===i?g.vD:void 0,onClick:o,children:(0,p.tZ)("figure",{sx:{maxWidth:"3xl"},children:(0,p.tZ)("div",{className:"embed-video",children:(0,p.tZ)("iframe",{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:n?"ProseMirror-selectednode":"",frameBorder:0,loading:"lazy",src:"https://www.youtube-nocookie.com/embed/".concat(r)})})})})}},22073:function(e,t,r){r.d(t,{r:function(){return o}});var n=r(91065),o=new Map([["auction",{title:"Auction",matcher:n.B5,component:n.zN}],["collect",{title:"Collect",matcher:n.cW,component:n.Lf}],["crowdfund",{title:"Crowdfund",matcher:n.Ym,component:n.lc}],["edition",{title:"Edition",matcher:n.QM,component:n.k9}],["edition_airdrop",{title:"Edition Airdrop",matcher:n.$k,component:n.LA}],["edition_burn_to_redeem",{title:"Edition Burn to Redeem",matcher:n.HO,component:n.wu}],["iframe",{title:"IFrame",matcher:n.KX,component:n.OH}],["mp4",{title:"MP4",matcher:n.lu,component:n.xh}],["nft_preview",{title:"NFT Preview",matcher:n.Sw,component:n.tk}],["nft_preview_loader",{title:"NFT Preview Loader",matcher:n._L,component:n.mD}],["nft_preview_v2",{title:"NFT Preview v2",matcher:n.A7,component:n.PM}],["split",{title:"Split",matcher:n.ok,component:n.l5}],["subscribe",{title:"Subscribe",matcher:n.WA,component:n.wf}],["subscriber_edition",{title:"Subscriber Edition",matcher:n.H1,component:n.oZ}],["survey",{title:"Survey",matcher:n.EL,component:n.i5}],["token_race",{title:"Token Race",matcher:n.Qj,component:n.vn}],["twitter",{title:"Twitter",matcher:n.no,component:n.LT}],["vimeo",{title:"Vimeo",matcher:n.py,component:n.it}],["youtube",{title:"YouTube",matcher:n.ur,component:n.He}],["mirror_poll",{title:"Mirror Poll",matcher:n.Xb,component:n.at}],["link_preview",{title:"Link Preview",matcher:n.z,component:n.D9}]])},6032:function(e,t,r){r.d(t,{Fh:function(){return u},M2:function(){return s},dL:function(){return l},vD:function(){return d}});var n=r(59499),o=r(93205),i=r(40829);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={position:"absolute",height:1,width:1,overflow:"hidden",clip:"rect(1px, 1px, 1px, 1px)",whiteSpace:"nowrap"},l={boxShadow:function(e){var t;return"0 0 0 2px ".concat(null===(t=e.colors)||void 0===t?void 0:t.accent)}},d={userSelect:"none","*":{pointerEvents:"none"}},u=c(c(c({},{".ProseMirror":{position:"relative",outline:"none",wordWrap:"break-word",whiteSpace:"pre-wrap",fontVariantLigatures:"none",fontFeatureSettings:"'liga' 0",WebkitFontVariantLigatures:"none"},".ProseMirror[contenteditable='false']":{".caption":{pointerEvents:"none"},".caption:empty":{visibility:"hidden"}},".ProseMirror-hideselection *::selection":{background:"transparent !important"},".ProseMirror-hideselection *::-moz-selection":{background:"transparent !important"},".ProseMirror-hideselection":{caretColor:"transparent"},".ProseMirror-selectednode":l,"li.ProseMirror-selectednode":{outline:"none"},"math-inline.ProseMirror-selectednode":{borderRadius:"md",padding:"0.25rem",boxShadow:"inset 0 0 0 1px rgba(var(--groupBorder), var(--shadeGroupBorder)), 0 0 0 0 rgba(var(--foreground), var(--shadeForegroundSecondaryHover))",backgroundColor:"groupBackground",fontFamily:'"iAWriter Mono", monospace',"& > .math-src":{color:function(e){var t;return"".concat(null===(t=e.colors)||void 0===t?void 0:t.text)},"&::after, &::before":{content:'""'}}},"math-block.ProseMirror-selectednode":{borderRadius:"md",padding:"1.5rem",boxShadow:"inset 0 0 0 1px rgba(var(--groupBorder), var(--shadeGroupBorder)), 0 0 0 0 rgba(var(--foreground), var(--shadeForegroundSecondaryHover))",backgroundColor:"groupBackground",fontFamily:'"iAWriter Mono", monospace',"& > .math-src":{color:function(e){var t;return"".concat(null===(t=e.colors)||void 0===t?void 0:t.text)}}},"math-block.math-node.empty-math":{padding:"1.5rem"},"math-inline.math-node.empty-math":{padding:"0.25rem"},".math-node.empty-math ":{borderRadius:"md",backgroundColor:"groupBackground",boxShadow:"inset 0 0 0 1px rgba(var(--groupBorder), var(--shadeGroupBorder)), 0 0 0 0 rgba(var(--foreground), var(--shadeForegroundSecondaryHover))","& > .math-render::before":{color:"".concat(o.gR.colors.textTertiary),content:"'(Missing equation)'"}},".math-block:not(.ProseMirror-selectednode) .math-render:has(.katex-error)":{width:"100%",display:"inline-block"},".math-node:not(.ProseMirror-selectednode) .math-render .katex-error":{color:"".concat(o.gR.colors.red,"!important"),display:"inline-block",width:"100%",textAlign:"center","&::before":{content:"'Error parsing equation: '"}},"math-inline .katex-error":{padding:"0.25rem"},"math-inline":{maxWidth:"100%","& > .math-render":{maxWidth:"100%",overflowX:"auto",verticalAlign:"middle"}},"math-block .katex-error":{padding:"1.5rem"},"math-block":{overflow:"auto",paddingY:[4,null,6,6,6],position:"relative"},".katex-display":{marginY:0,fontSize:".9rem",lineHeight:"1.625em","& > .katex":{display:"inline-block",whiteSpace:"nowrap",overflowX:"visible",textAlign:"initial"}},"li.ProseMirror-selectednode:after":{content:'""',position:"absolute",left:"-32px",right:"-2px",top:"-2px",bottom:"-2px",border:function(e){var t;return"2px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.accent)},pointerEvents:"none"},".ProseMirror-gapcursor":{display:"none",pointerEvents:"none",position:"relative"},".ProseMirror-gapcursor:after":{content:'""',display:"block",position:"absolute",top:"-2px",width:"20px",borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.text)},animation:"ProseMirror-cursor-blink 1.1s steps(2, start) infinite"},"@keyframes ProseMirror-cursor-blink":{to:{visibility:"hidden"}},".ProseMirror-focused .ProseMirror-gapcursor":{display:"block",maxWidth:"3xl"}}),{"ul li, ol li":{position:"relative",whiteSpace:"initial",p:{whiteSpace:"pre-wrap"},"> div":{width:"100%"}},"ul li::before, ol li::before":{cursor:"move"},"ul li.ProseMirror-selectednode::after, ol li.ProseMirror-selectednode::after":{display:"none"},"li p:first-child":{margin:0,wordBreak:"break-word"}}),{},{color:"text",backgroundColor:"background",width:"100%",pre:{whiteSpace:"pre-wrap"},li:{position:"relative"},"h1, h2, h3, h4, h5, h6":{cursor:"text"}},i.kQ)},46685:function(e,t,r){r.d(t,{i:function(){return n}});var n=r(67294).createContext(void 0)},22771:function(e,t,r){r.d(t,{k:function(){return c}});var n=r(59499),o=r(58561),i=r(15277);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=e.value,r=e.goal,c=e.active,s=e.funded,l=e.loading,d=e.goalStretch,u=e.variant,p=l?0:s?1:t>=r&&t<d?.95:Math.min(1,t/r),f=l||c&&p<1?"move":"stop";return(0,i.tZ)("div",{children:(0,i.tZ)("div",{sx:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderRadius:"999px",height:"md"===(void 0===u?"md":u)?8:4,background:"rgba(var(--accent), var(--shadeAccentSecondary))",overflow:"hidden",position:"relative",transform:"translateZ(0)"},!l&&s?{"--accent":"var(--green)"}:{}),children:(0,i.tZ)("svg",{fill:"none",preserveAspectRatio:"none",sx:{width:"100%",height:"100%",display:"block"},viewBox:"0 0 100 10",children:(0,i.tZ)(o.E.g,{animate:f,variants:{move:{x:"5px",transition:{repeat:1/0,repeatType:"mirror",duration:1}},stop:{x:"5px",transition:{duration:1}}},children:(0,i.tZ)(o.E.rect,{animate:{width:"".concat(95*p+10,"px")},fill:"rgb(var(--accent))",height:"10",width:"0",x:"-5px"})},f)})})})}},89324:function(e,t,r){r.d(t,{Z:function(){return eu},n:function(){return ed}});var n=r(59499),o=r(27812),i=r(67294),a=r(39890),c=r(15531),s=r(54783),l=r(45704),d=r(65428),u=r(67334),p=r(48617),f=r(3425),h=r(1324),v=r(89290),b=r(79730),g=r(71641),m=r(40829),y=r(39640),x=r(17243),w=r(35266),O=r(1766),Z=r(15277);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=function(e){var t=e.isActive,r=e.action,n=e.count,o=e.symbol,i=e.editions,a=e.hasEnded,c=e.onClickEdition;return(0,Z.BX)("div",{sx:{px:[4,6],pb:6,maxWidth:"4xl",mx:"auto"},children:[(0,Z.tZ)("div",{sx:S(S({},r?{}:{borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)}}),{},{pb:[4,6]})}),(0,Z.BX)("div",{sx:{display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6],mb:4},children:[(0,Z.BX)("div",{children:[(0,Z.BX)("div",{sx:m.h2,children:[n," Edition",n>1?"s":""]}),(0,Z.tZ)("div",{sx:{color:"textSecondary",mt:[1],pr:[0,4],fontSize:"base"},children:"Collectable NFTs available exclusively for backers."})]}),r&&r]}),(0,Z.tZ)("div",{sx:{display:"grid",gap:[4,6],gridAutoColumns:"max-content",alignItems:"flex-end",gridTemplateColumns:"repeat(auto-fill, minmax(13rem, 1fr))"},children:i.map(function(e){return(0,Z.tZ)(P,{edition:e,hasEnded:a,isActive:t,symbol:o,onClick:function(e){return c(e)}},e.id)})})]})},P=function(e){var t,r,n,o,i,a=e.isActive,c=e.hasEnded,s=e.edition,l=e.symbol,d=e.onClick,u=s.editionId,p=(0,g.a)(w.IXq,{variables:{editionId:u,editionContractAddress:s.editionContractAddress}}),f=p.data,h=p.loading,v=!a||s.numSold&&s.numSold===s.quantity||c;return(0,Z.BX)("button",{disabled:v,sx:{background:"transparent",border:"none",cursor:v?"not-allowed":"pointer",display:"flex",flexDirection:"column",padding:0},onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){d(v?void 0:{id:u,amount:s.price})}),children:[(0,Z.tZ)("div",{sx:{mb:2,display:"grid",position:"relative",width:"100%",borderRadius:"lg",background:"radial-gradient(rgba(255,255,255,0.066) 50%, rgba(0, 0, 0, 0.05) 100%)","&::after":{borderRadius:"lg",content:'""',boxShadow:"inset 0 0 0 1px rgba(var(--foreground), var(--shadeForegroundTertiary))",position:"absolute",top:0,left:0,right:0,bottom:0}},children:(0,Z.tZ)(O.Z,{disableLightbox:!0,editionMedia:null==f?void 0:null===(t=f.edition)||void 0===t?void 0:t.primaryMedia,editionMediaURL:null!==(r=null==f?void 0:null===(n=f.edition)||void 0===n?void 0:n.mediaURL)&&void 0!==r?r:null==f?void 0:null===(o=f.edition)||void 0===o?void 0:null===(i=o.primaryMedia)||void 0===i?void 0:i.url,isLoading:h,sxContainer:{height:"auto",minHeight:"13.3rem",borderRadius:"lg",overflow:"hidden",width:"100%",transform:"translateZ(0)",py:0,"& > div > div > div ":{position:"relative !important"},"* img, * video":{padding:0,height:"auto !important",width:"100% !important",position:"relative !important"},".videoMute":{display:"none"},"&::after":{display:"none"}}})}),(0,Z.tZ)("div",{sx:{color:"text",fontSize:"lg",fontWeight:500,letterSpacing:"snug",mb:1,textAlign:"left"},children:s.title}),(0,Z.BX)("div",{sx:{color:"textSecondary",display:"flex",flexWrap:"wrap",fontSize:"base",lineHeight:"snug"},children:[(0,Z.tZ)(y.Z,{color:"accent",label:v?"Sold out":"",sx:{mb:2,mr:2},children:(0,Z.BX)(Z.HY,{children:[s.numSold,"/",s.quantity]})}),(0,Z.tZ)(y.Z,{color:"accent",sx:{mb:2,mr:2},children:(0,Z.BX)(Z.HY,{children:[s.price," ETH"]})}),(0,Z.tZ)(x.Z,{size:"md",sx:{mr:2,mb:2}}),(0,Z.tZ)(y.Z,{sx:{mb:2},children:(0,Z.BX)(Z.HY,{children:[(1e3*parseFloat(s.price)).toLocaleString()," $",l]})})]})]})},C=r(81933),E=r(53109),D=r(1033),T=r(11794),B=r(44233),A=function(e){var t,r=e.setShowContributeModals,n=e.state,o=n.contractAddress,i=n.hasCreator,a=n.hasEnded,c=n.isActive,s=n.isFunded,l=n.isLoading,d=n.name,u=n.network,p=n.symbol,f=n.tokensIssued,h=n.publisher,v=(0,T.c)(null==h?void 0:null===(t=h.project)||void 0===t?void 0:t.domain),g=(0,Z.BX)("div",{sx:{color:"text",flex:1},children:[(0,Z.tZ)("div",{sx:m.h2,children:l?(0,Z.tZ)(D.Z,{width:"75%"}):d}),(0,Z.tZ)(B.Z,{contractAddress:o,ensLabel:null!=v?v:void 0,isLoading:l,network:u,symbol:p,tokensIssued:f})]}),y=(0,Z.tZ)(b.$,{hasEnded:a,isActive:c,isFunded:s,isLoading:l,onClick:function(){return r(!0)}});return(0,Z.BX)("div",{sx:{color:"textSecondary",maxWidth:"5xl",mx:"auto"},children:[i&&!e.state.isEmbeddedOnOperatorPublication?(0,Z.tZ)("div",{sx:{p:2},children:(0,Z.tZ)(C.Z,{href:"/",subdomain:v,target:"_blank",children:(0,Z.tZ)(E.ZP,{avatarFallback:!0,contributor:null==h?void 0:h.project})})}):null,(0,Z.BX)("div",{sx:{display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6]},children:[g,y]})]})},R=r(91560),I=r(66261),M=r(32749),L=r(22982),N=r(94724),X=r(65847);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _={textAlign:"right",pr:[4,6]};function z(e){var t=e.username,r=e.account,n=e.splitAmount,o=e.avatarURL,i=e.value,a=e.noFunding,c=e.ethInUsd,s=t&&"0x517bab7661c315c63c6465eed1b4248e6f7fe183"!==r?"https://twitter.com/".concat(t):"goerli"===X.ZP.NETWORK?"https://goerli.etherscan.io/address/".concat(r):"https://etherscan.io/address/".concat(r),l=!i||i<.01?"< 0.01":i.toFixed(2).toString(),d=N.Z.ethToUsd({ethValue:i,ethInUsd:c}),u=(100*n).toFixed(1).toString(),p=0===parseFloat(u)?"< 0.1":u;return(0,Z.BX)("tr",{sx:{color:"text"},children:[(0,Z.tZ)("td",{children:(0,Z.BX)("div",{sx:{display:"flex",position:"relative",mr:"auto",pr:[4,6]},children:[(0,Z.tZ)(M.Z,{contributor:{address:r,displayName:"0x517bab7661c315c63c6465eed1b4248e6f7fe183"===r?t:t?"@".concat(t):null,avatarURL:o},iconSize:L.am.xxs,sx:{width:"auto",fontSize:"base",fontWeight:400,pointerEvents:"none"}}),(0,Z.tZ)("a",{href:s,rel:"noreferrer",sx:{opacity:0,display:"block",position:"absolute",top:0,left:0,right:0,bottom:0},target:"_blank",children:"Visit"})]})}),!a&&(0,Z.tZ)(Z.HY,{children:(0,Z.BX)("td",{sx:F(F({},_),{},{display:"flex",justifyContent:"flex-end"}),children:[i&&i>.01?(0,Z.BX)("div",{sx:{mr:[2,3],color:"textSecondary"},children:["$",d]}):null,(0,Z.BX)("div",{children:[l," ETH"]})]})}),(0,Z.BX)("td",{sx:_,children:[p,"%"]})]})}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var $={textAlign:"right",pr:[4,6]};function V(e){var t,r=e.state.splitData;if(!r||!r.splitAllocations)return null;var n=e.action,o=null===(t=e.state)||void 0===t?void 0:t.valueCurrent,i="0.00"===o,a=r.splitAllocations.sort(function(e,t){return t.splitAmount-e.splitAmount}).map(function(e){return U(U({},e),{},{value:i?0:parseFloat(o)*e.splitAmount})});return(0,Z.BX)("div",{children:[(0,Z.tZ)("div",{sx:{px:[4,6],maxWidth:"4xl",mx:"auto"},children:(0,Z.BX)("div",{sx:U({display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6],py:[4,6]},n?{}:{borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)}}),children:[(0,Z.BX)("div",{children:[(0,Z.BX)("div",{sx:m.h2,children:[a.length," split recipient",a.length>1?"s":""]}),(0,Z.tZ)("div",{sx:{mt:1},children:"Funds received through this crowdfund are split between these recipients."})]}),n&&n]})}),(0,Z.tZ)(I.Z,{heading:(0,Z.BX)("tr",{children:[(0,Z.tZ)("td",{children:"Recipient"}),!i&&(0,Z.tZ)("td",{sx:$,children:"Value"}),(0,Z.tZ)("td",{sx:$,children:"Ownership"})]}),paginateBy:5,rows:a.map(function(t,r){return(0,Z.tZ)(z,U(U({index:r},t),{},{ethInUsd:e.state.ethInUSD,noFunding:i}),t.account)}),sx:{pb:4,maxWidth:"4xl",mx:"auto"}})]})}var Y=r(9084),q=r(73996),K=r(22771),G=r(75417);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var J={fontWeight:500},ee=(0,Z.tZ)("a",{href:"https://dev.mirror.xyz/llJ_AboiDJwB_ZAFz-CXU7fL2p8v5Wz6MjfluLafewQ",rel:"noreferrer",sx:{ml:1,color:"textSecondary"},target:"_blank",children:(0,Z.tZ)(q.Z,{sx:{display:"inline-block",verticalAlign:"middle",mb:"2px",height:"18px",width:"18px"}})}),et=function(e){var t=e.state,r=t.symbol,n=t.isLoading,o=t.operatorEquityPercent;return(0,Z.tZ)("div",{sx:{color:"textSecondary",pr:[0,4],fontSize:"base"},children:n?(0,Z.tZ)(D.Z,{width:"90%"}):(0,Z.BX)(Z.HY,{children:["The creator retains ",(0,Z.BX)("span",{sx:J,children:[o,"%"]})," of"," ",(0,Z.BX)("span",{sx:J,children:["$",r]})," token\xa0supply.",ee]})})},er=function(e){var t=e.countdown,r=e.state,o=r.valueCurrent,i=r.valueGoal,a=r.isActive,c=r.hasPadding,s=r.isFunded,l=r.stretchGoal,d=r.ethInUSD,u=r.isLoading,p=r.contractAddress,f=r.noDescription,h=(+parseFloat(o).toFixed(2)).toLocaleString(),v=null==i?void 0:i.toString(),b="0xff2f509668048D4fde4f40FedAB3334ce104a39B"===p,g=(0,Z.tZ)(Y.Z,{heading:"".concat(h," ETH "),isLoading:u,label:"Funds raised",subheading:b?null:"$".concat(N.Z.ethToUsd({ethValue:parseFloat(o),ethInUsd:d}))}),m=(0,Z.tZ)(Y.Z,{heading:"".concat(parseFloat(v).toLocaleString()," ETH "),isLoading:u,label:"Funding goal",subheading:b?null:"$".concat(N.Z.ethToUsd({ethValue:parseFloat(v),ethInUsd:d}))}),y=t>0,x=(0,Z.tZ)(Y.Z,{heading:(0,Z.tZ)("div",{sx:{fontFeatureSettings:"'kern' 1, 'tnum' 1",fontVariantNumeric:"tabular-nums"},children:(0,G.u6)(t)}),isLoading:u,label:"Time remaining"});return(0,Z.BX)("div",{sx:{maxWidth:"5xl",mx:"auto"},children:[!1!==c&&!f&&(0,Z.tZ)("div",{sx:{backgroundColor:f?void 0:"foregroundSecondary",height:"1px",mb:[4,6]}}),(0,Z.tZ)(K.k,{active:a,funded:s,goal:i,goalStretch:l,loading:u,value:parseFloat(o)}),(0,Z.BX)("div",{sx:{display:"grid",gridTemplateColumns:["1fr",y?"1fr 1fr 1fr":"1fr 1fr"],gap:[4,6],py:[4,6],pb:!1===c?[0,0]:void 0},children:[g,m,y&&x]}),f?null:(0,Z.tZ)(et,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))]})},en=r(51747),eo=r(89022),ei=r(22729),ea=r(11517);function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var el=function(e,t){return(null==t?void 0:t.indexOf(e))===0},ed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<3?Array(3-e).fill({empty:!0}):[]};function eu(e){var t=e.state,r=t.backers,n=t.connectedBacker,g=t.contractAddress,m=t.editions,y=t.endsAt,x=t.ethInUSD,w=t.features,O=t.noDescription,k=t.hasEnded,S=t.isActive,P=t.isFunded,C=t.isConnectedOperator,E=t.isLoading,D=t.isRedeemInputOpen,T=t.network,B=t.noHeading,I=t.podiumDuration,M=t.podiumMedia,L=t.podiumStartTime,N=t.redeemableEth,X=t.redeemableUsd,W=t.symbol,F=t.tokenBalance,_=t.hasPadding,z=t.tokensIssued,H=e.actions,U=H.setIsRedeemInputOpen,$=H.setIsBackInputOpen,Y=H.refetch,q=void 0===w||(null==w?void 0:w.length)===0,K=el("podium",w),G=i.useMemo(function(){return!!y&&new Date(parseInt(y))},[y]),Q=(0,en.a)(G),J=null==r?void 0:r.slice(),ee=(0,p.C)(null!=J?J:[],g),et=(0,u.i)(g)?1:3,ec=i.useMemo(function(){return ee?[].concat((0,o.Z)(ee),(0,o.Z)(ed(ee.length))).slice(0,3):ed()},[ee,et]);ec=(0,u.i)(g)?ec.slice(0,1):ec;var eu=(0,eo.Z)({refetchCrowdfundBlockLogic:Y}),ep=eu.actions,ef=ep.setStep,eh=ep.setShowContributeModals,ev=(0,ei.Z)({setStep:ef,crowdfundAddress:e.state.contractAddress}),eb={hasEnded:e.state.hasEnded,isActive:e.state.isActive,isFunded:e.state.isFunded,isLoading:e.state.isLoading,onClick:function(){return eh(!0)}},eg=(0,i.useCallback)(function(){eh(!1),$(!1),U(!1)},[]),em=(0,d.D)({startTime:L,duration:I});return(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{children:[(q||(null==w?void 0:w.includes("overview")))&&(0,Z.BX)(Z.HY,{children:[B?null:(0,Z.tZ)("div",{sx:!1===_?{}:{p:[4,6]},children:(0,Z.tZ)(A,es({setShowContributeModals:eh},e))}),B?null:(0,Z.tZ)("div",{sx:{px:_?6:void 0},children:(0,Z.tZ)(v.Z,{backer:n,ethInUSD:x,isActive:S,isConnectedOperator:C,isLoading:E,redeemableEth:N,redeemableUsd:X,setIsRedeemInputOpen:e.actions.setIsRedeemInputOpen,symbol:W,tokenBalance:F})}),(0,Z.tZ)("div",{sx:O?{py:!1===_?0:2,px:_?6:void 0}:{pt:[0,0],px:_?[4,6]:void 0,pb:_?[4,6]:void 0},children:(0,Z.tZ)(er,es({countdown:Q},e))})]}),(null==m?void 0:m.length)>0&&(q||(null==w?void 0:w.includes("editions")))&&(0,Z.tZ)(j,{action:el("editions",w)&&(0,Z.tZ)(b.$,es({},eb)),count:m.length,editions:m,hasEnded:k,isActive:S,symbol:W,onClickEdition:function(e){ev.actions.setSelectedAmount(null==e?void 0:e.amount),ev.actions.setSelectedEditionId(null==e?void 0:e.id),eh(!0)}}),(q||(null==w?void 0:w.includes("podium")))&&M&&(0,Z.tZ)("div",{sx:{px:[4,6]},children:(0,Z.tZ)(R.$,{action:(0,Z.tZ)(b.$,es(es({title:(0,u.i)(g)?"Join The Leaderboard":"Take The Lead"},eb),{},{variant:(null==w?void 0:w.length)===1?"primary":"secondary"})),backers:ec,countdown:(null!=Q?Q:null==em?void 0:em.time)?null==em?void 0:em.time:null,isActive:S,isFunded:P,isLoading:E,isStatefulCrowdfund:(0,u.i)(g),media:M,network:T,showBorder:!K,status:null==em?void 0:em.podiumStatus})}),(q||(null==w?void 0:w.includes("backers")))&&(0,Z.tZ)("div",{sx:{paddingBottom:s.Dh.md},children:(0,Z.tZ)(f.Z,es({action:(el("backers",w)||K)&&(0,Z.tZ)(b.$,es({variant:K?a.Dw.Primary:void 0},eb)),setShowContributeModals:eh},es(es({},e),{},{state:es(es({},e.state),{},{backers:ee})})))}),(q||(null==w?void 0:w.includes("split")))&&(0,Z.tZ)(V,es({action:el("split",w)&&(0,Z.tZ)(b.$,es({},eb))},e))]}),(0,Z.tZ)(l.Z,{contributeStepsLogic:eu,purchaseLogic:ev}),(0,Z.tZ)(c.Z,{isOpen:D,onClose:eg,children:(0,Z.tZ)(h.Z,{action:ea.H.Redeem,contractAddress:g,network:T,symbol:W,title:"Redeem",tokensIssued:z,onClose:eg})})]})}},3425:function(e,t,r){var n=r(40829),o=r(54783),i=r(30587),a=r(15277);t.Z=function(e){var t=e.action,r=e.setShowContributeModals,c=e.state,s=c.symbol,l=c.backers,d=c.contractAddress,u=c.isLoading,p=c.network,f=c.paginateBy,h=c.hasPadding,v=!t,b=!(null!=l&&l.length);return u||v&&(!v||b)?null:(0,a.BX)("div",{sx:{width:"100%"},children:[(0,a.BX)("div",{sx:{pb:[0,2],px:h?o.Dh.md:void 0,maxWidth:"5xl",mx:"auto"},children:[v&&(0,a.tZ)("div",{sx:{borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)},pb:[4,6]}}),(0,a.BX)("div",{sx:{alignItems:"center",display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6],pb:2},children:[null!=l&&l.length?(0,a.BX)("div",{sx:n.h2,children:[l.length," Backer",l.length>1?"s":""]}):(0,a.tZ)("div",{sx:n.h2,children:"Backers"}),t&&t]})]}),b?(0,a.tZ)("div",{sx:{pt:[2,4],pb:[4,6],maxWidth:"5xl",mx:"auto"},children:(0,a.tZ)("button",{sx:{backgroundColor:"foregroundTertiary",border:0,p:4,textAlign:"center",gridColumn:"1 / -1",fontWeight:400,color:"textSecondary",borderRadius:"xl",cursor:"pointer",WebkitAppearance:"none",width:"100%"},onClick:function(){return r(!0)},children:"Become the first backer"})}):(0,a.tZ)(i.ZP,{backers:l,contractAddress:d,inset:e.inset,network:p,paginateBy:f,symbol:s})]})}},30587:function(e,t,r){r.d(t,{YJ:function(){return h},ZP:function(){return f}});var n=r(59499),o=r(32749),i=r(22982),a=r(92366),c=r(58154),s=r(66261),l=r(15277);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var u={textAlign:"right",display:"flex",justifyContent:"flex-end"},p={textAlign:"right",pr:[4,6]};function f(e){var t=e.symbol,r=e.backers,o=e.contractAddress,i=e.network,a=e.paginateBy,c=e.inset;return(0,l.tZ)(s.Z,{heading:(0,l.BX)("tr",{children:[(0,l.tZ)("td",{children:"Backer"}),(0,l.tZ)("td",{sx:p,children:"Ownership"}),(0,l.tZ)("td",{sx:u,children:"Contribution"})]}),inset:c,paginateBy:a,rows:r.map(function(e,r){return(0,l.tZ)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({contractAddress:o,index:r,network:i,symbol:t},e),e.address)}),sx:{maxWidth:"5xl",mx:"auto"}})}function h(e){return["\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"][e]}function v(e){var t=e.address,r=e.percentage,n=e.tokens,s=e.eth,d=e.contractAddress,f=e.index,h=e.symbol,v=e.network,b=e.twitterUsername,g=e.avatarURL,m=b?"https://twitter.com/".concat(b):"goerli"===v?"https://goerli.etherscan.io/token/".concat(d,"?a=").concat(t):"https://etherscan.io/token/".concat(d,"?a=").concat(t),y=parseFloat(s).toFixed(2).toString(),x=b?"@".concat(b):null,w=(0,c.p)({address:t,network:v,skip:!!b}).data;return(0,l.BX)("tr",{children:[(0,l.tZ)("td",{children:(0,l.BX)("div",{sx:{display:"flex",position:"relative",mr:"auto",pr:[4,6]},children:[(0,l.tZ)("div",{sx:{textAlign:"center",position:"relative",backgroundColor:"foregroundSecondary",color:"textSecondary",height:6,width:6,borderRadius:"full",mr:2},children:(0,l.tZ)("div",{sx:{fontSize:f+1<100?"xxs":"0.5rem",lineHeight:"1.5rem",fontWeight:f+1<100?600:700},children:f+1})}),(0,l.tZ)(o.Z,{contributor:{address:t,displayName:null!=x?x:w,avatarURL:g},iconSize:i.am.xxs,sx:{width:"auto",fontSize:"base",fontWeight:400,pointerEvents:"none"}}),(0,l.tZ)("a",{href:m,rel:"noreferrer",sx:{opacity:0,display:"block",position:"absolute",top:0,left:0,right:0,bottom:0},target:"_blank",children:"Visit"})]})}),(0,l.BX)("td",{sx:p,children:[(0,a.x6)(n)," $",h]}),(0,l.BX)("td",{sx:u,children:["Infinity"!==r&&(0,l.BX)("div",{sx:{mr:[2,3],color:"textSecondary"},children:[r,"%"]}),(0,l.BX)("div",{children:[y," ETH"]})]})]})}},1324:function(e,t,r){r.d(t,{Z:function(){return B}});var n,o,i,a,c=r(50029),s=r(87794),l=r.n(s),d=r(71641),u=r(95421),p=r(67294),f=r(69077),h=r(39890),v=r(45871),b=r(35266),g=r(8089),m=r(72095),y=r(66574),x=r(65847),w=r(70794),O=r(37850),Z=r(81822),k=r(11517),S=r(15277),j=function(e){var t,r,n=e.amount,o=e.setAmount,i=e.onSubmit,a=e.onClose,s=e.ethAddress,d=(e.contractAddress,e.tokensIssued),u=e.action,f=e.title,b=e.symbol,g=e.contributionLimit,m=new w.O(n||"0"),y=(0,p.useState)(""),x=y[0],j=y[1],P=(0,p.useState)(""),C=P[0],E=P[1],D=(0,p.useState)(!1),T=D[0],B=D[1],A=(0,p.useRef)(null),R=(0,p.useRef)(null);if(m.gt(0)){var I=m.times(1e3),M=parseFloat(d),L=I.plus(M);r=I.div(L).times(100).toNumber()}else r=0;(0,p.useEffect)(function(){"0"!==m.toString()&&(j(m.toString()),E(m.times(1e3).toString()))},[]);var N=(0,p.useCallback)((t=(0,c.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),B(!0),i();case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[i]),X=(0,p.useCallback)(function(e){E(new w.O(e||"0").times(1e3).toString()),j(e),o(e)},[o]),W=(0,p.useCallback)(function(e){var t=new w.O(e||"0").div(1e3).toFixed(2).toString();E(e),j(t.toString()),o(t.toString())},[o]),F=(0,S.tZ)(O.Z,{label:"ETH",max:parseFloat(g).toFixed(2).toString(),min:"0",placeholder:"0.00",ref:R,step:"0.000000000000000001",value:x,onChange:X}),_=(0,S.tZ)(O.Z,{disabled:!1,initialValue:"0",label:"$".concat(b.toUpperCase()),max:(1e3*parseFloat(g)).toString(),min:"0",ref:A,step:"0.000000000000001",value:C,onChange:W}),z=(0,S.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,S.tZ)("div",{sx:{height:"2px",borderRadius:"4px",backgroundColor:"foregroundSecondary",flex:1}}),(0,S.tZ)("div",{sx:{fontWeight:600,color:"accent",fontSize:"base",my:"-0.75rem",mx:2},children:""}),(0,S.tZ)("div",{sx:{height:"2px",borderRadius:"4px",backgroundColor:"foregroundSecondary",flex:1}})]}),H=(0,S.BX)("div",{sx:{fontSize:"base",color:"textSecondary"},children:["You will own"," ",(0,S.BX)("span",{sx:{fontWeight:500,color:"accent",fontFeatureSettings:"'kern' 1,  'tnum' 1, 'calt' 0"},children:[r.toFixed(2),"%"]})," ","of ",(0,S.BX)("span",{sx:{fontWeight:500,color:"accent"},children:["$",b]}),". Individual contributions are capped at ",g," ETH."]}),U=(0,S.BX)("div",{sx:{fontSize:"base",color:"textSecondary"},children:["You will burn"," ",(0,S.BX)("span",{sx:{fontWeight:500,color:"accent",fontFeatureSettings:"'kern' 1,  'tnum' 1, 'calt' 0"},children:[m?m.times(1e3).toFixed(2).toString():m," ",b]})," ",(0,S.tZ)("strong",{})]});return(0,S.tZ)(v.Z,{title:f,onClose:a,children:(0,S.BX)("form",{sx:{display:"grid",gap:4},onSubmit:N,children:[(0,S.tZ)(Z.Z,{address:s}),function(){switch(u){case k.H.Back:return(0,S.BX)(S.HY,{children:[F,z,_,H]});case k.H.Redeem:return(0,S.BX)(S.HY,{children:[_,z,F,U]})}}(),(0,S.tZ)(h.ZP,{disabled:!m||T,loading:T,sx:{justifyContent:"center"},variant:h.Dw.Highlight,children:T?"Check Wallet":"Submit"})]})},"back-form")},P=r(11943),C=r.n(P),E=function(e){var t,r,n=e.amount,o=e.setAmount,i=e.onSubmit,a=e.onClose,s=e.ethAddress,d=e.contractAddress,u=(e.tokensIssued,e.action,e.title),f=e.symbol,b=e.tokenBalance,m=(e.amountEth,e.amountUsd,e.redeemableEth);e.redeemableUsd,e.backer;var y=new w.Z(n||"0"),k=(0,p.useState)(""),j=k[0],P=k[1],E=(0,p.useState)("")[1],D=(0,p.useState)(!1),T=D[0],B=D[1],A=(0,p.useRef)(null),R=(0,p.useRef)(null);(0,p.useEffect)(function(){"0"!==y.toString()&&(P(y.toString()),E(y.times(1e3).toString()))},[]);var I=(0,p.useCallback)((t=(0,c.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),B(!0),i();case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[i]),M=(0,p.useCallback)((r=(0,c.Z)(l().mark(function e(t){var r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new g.ZP(d,x.ZP.NETWORK),E(t.toString()),o(t),e.prev=3,t){e.next=7;break}return P("0"),e.abrupt("return");case 7:return e.next=9,r.getRedeemableFromTokens(t);case 9:P(e.sent.eth),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[3,14]])})),function(e){return r.apply(this,arguments)}),[o,d,g.ZP]),L=(0,p.useCallback)(function(e){var t=new w.Z(e||"0").times(1e3).toString();E(t),P(e),o(t)},[o]),N=(0,S.tZ)(O.Z,{disabled:!0,label:"ETH",max:m?parseInt(m).toFixed(2).toString():null,min:"0",ref:A,step:"0.000000000000000001",value:j,onChange:L}),X=(0,S.tZ)(O.Z,{disabled:!m,initialValue:"0",label:"$".concat(f),max:b,min:"0",placeholder:"$".concat(f),ref:R,step:"0.000000000000001",sx:{flexWrap:"wrap"},value:y.toString(),onChange:M}),W=(0,S.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,S.tZ)("div",{sx:{height:"2px",borderRadius:"4px",backgroundColor:"foregroundSecondary",flex:1}}),(0,S.tZ)("div",{sx:{fontWeight:600,color:m?"accent":"textSecondary",fontSize:"base",my:"-0.75rem",mx:2},children:""}),(0,S.tZ)("div",{sx:{height:"2px",borderRadius:"4px",backgroundColor:"foregroundSecondary",flex:1}})]}),F=(0,S.BX)("div",{sx:{fontSize:"base",color:"textSecondary"},children:["You will burn"," ",(0,S.BX)("span",{sx:{fontWeight:500,color:"accent",fontFeatureSettings:"'kern' 1,  'tnum' 1, 'calt' 0"},children:[y?y.toFixed(2).toString():""," $",f]})," ","for a proportional share of ETH in the contract.",(0,S.tZ)("strong",{})]}),_=(0,S.BX)("div",{sx:{backgroundColor:"foregroundTertiary",borderRadius:"lg",px:4,py:3,minHeight:14,fontSize:"base",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.tZ)("div",{children:"There is no redeemable ETH"}),(0,S.tZ)(C(),{sx:{height:"24px",width:"24px"}})]});return(0,S.tZ)(v.Z,{title:u,onClose:a,children:(0,S.BX)("form",{sx:{display:"grid",gap:4},onSubmit:I,children:[(0,S.tZ)(Z.Z,{address:s}),(0,S.BX)(S.HY,{children:[m?null:_,X,W,N,m?F:null]}),(0,S.tZ)(h.ZP,{disabled:!y||T||!m,loading:T,sx:{justifyContent:"center"},variant:h.Dw.Highlight,children:T?"Check Wallet":"Submit"})]})},"back-form")};(n=a||(a={}))[n.ConnectWallet=0]="ConnectWallet",n[n.Input=1]="Input",n[n.Error=2]="Error",n[n.Success=3]="Success",n[n.ConnectTwitter=4]="ConnectTwitter";var D=(o=(0,c.Z)(l().mark(function e(t,r,n){var o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new g.ZP(t,n),e.next=3,o.contribute(r);case 3:case"end":return e.stop()}},e)})),function(e,t,r){return o.apply(this,arguments)}),T=(i=(0,c.Z)(l().mark(function e(t,r,n){var o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new g.ZP(t,n),e.next=3,o.withdraw(r);case 3:case"end":return e.stop()}},e)})),function(e,t,r){return i.apply(this,arguments)});function B(e){var t,r=e.onClose,n=e.onSuccess,o=e.contractAddress,i=e.action,s=e.tokensIssued,h=e.title,v=e.symbol,w=e.network,O=e.contributionLimit,Z=e.backer,P=null===(t=(0,d.a)(b.Wku).data)||void 0===t?void 0:t.me,C=(0,p.useState)(a.ConnectWallet),B=C[0],R=C[1],I=(0,p.useState)(""),M=I[0],L=I[1],N=(0,p.useState)("0"),X=N[0],W=N[1],F=(0,p.useState)(null),_=F[0],z=F[1],H=(0,p.useState)(null),U=H[0],$=H[1],V=(0,p.useState)(null),Y=V[0],q=V[1],K=(0,p.useState)(null),G=K[0],Q=K[1],J=(0,p.useState)(null),ee=J[0],et=J[1],er=(0,p.useState)(null),en=er[0],eo=er[1],ei=(0,f.mA)(),ea=ei.address,ec=ei.connector;(0,p.useEffect)(function(){if(ea){var e;L(ea),R(a.Input),(e=(0,c.Z)(l().mark(function e(){var t,r,n,i,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.ZP(o,x.ZP.NETWORK),e.prev=1,e.next=4,t.balanceOf(ea);case 4:return r=e.sent,e.next=7,t.getRedeemableFromAddress(ea);case 7:i=(n=e.sent).eth,a=n.usd,z(i),$(a),et(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[1,15]])})),function(){return e.apply(this,arguments)})()}},[ea]),(0,p.useEffect)(function(){ec&&ec.getProvider().then(function(e){return y.Z.setProvider(e)}).catch(console.error)},[ec]),(0,p.useEffect)(function(){var e;X&&0!==parseInt(X)&&(e=(0,c.Z)(l().mark(function e(){var t,r,n,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.ZP(o,x.ZP.NETWORK),e.prev=1,e.next=4,t.getRedeemableFromTokens(X);case 4:n=(r=e.sent).eth,i=r.usd,q(n),Q(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])})),function(){return e.apply(this,arguments)})()},[X]),(0,p.useEffect)(function(){if(null!=P&&P.address){var e;(e=(0,c.Z)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getIdentities();case 2:e.sent[null==P?void 0:P.address]&&eo(!0);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}},[P]);var es=(0,p.useCallback)(function(){switch(i){case k.H.Back:return D;case k.H.Redeem:return T}},[i]),el=(0,p.useCallback)((0,c.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=es(),e.next=4,t(o,X,w);case 4:en?R(a.Success):R(a.ConnectTwitter),window.localStorage.setItem("crowdfund:".concat(o),"true"),n&&n(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),[o,X,es,w,en]);return(0,S.tZ)(u.M,{exitBeforeEnter:!0,children:function(){switch(B){case a.ConnectWallet:default:case a.Input:return i===k.H.Back?(0,S.tZ)(j,{action:i,amount:X,contractAddress:o,contributionLimit:O,ethAddress:M,setAmount:W,symbol:v,title:h,tokensIssued:s,onClose:r,onSubmit:el},"input"):(0,S.tZ)(E,{action:i,amount:X,amountEth:Y,amountUsd:G,backer:Z,contractAddress:o,ethAddress:M,redeemableEth:_,redeemableUsd:U,setAmount:W,symbol:v,title:h,tokenBalance:ee,tokensIssued:s,onClose:r,onSubmit:el},"input");case a.Success:return(0,S.tZ)(A,{onClose:r},"success")}}()})}function A(e){var t=e.onClose;return(0,S.tZ)(v.Z,{title:"Success",onClose:t,children:(0,S.BX)("div",{sx:{display:"grid",gap:4},children:[(0,S.tZ)("div",{children:"Your transaction has been sent. It may take several minutes for it to confirm and appear on Mirror."}),(0,S.tZ)(h.ZP,{sx:{justifyContent:"center"},onClick:t,children:"Continue"})]})},"success")}},89290:function(e,t,r){var n=r(67294),o=r(69077),i=r(39890),a=r(9084),c=r(40829),s=r(73996),l=r(54783),d=r(94724),u=r(15277);t.Z=function(e){var t=e.backer,r=e.ethInUSD,p=e.isActive,f=e.isConnectedOperator,h=e.isLoading,v=e.redeemableEth,b=e.redeemableUsd,g=e.symbol,m=e.tokenBalance,y=e.setIsRedeemInputOpen,x=(0,o.mA)().address,w=(0,n.useMemo)(function(){return!!parseFloat(v)},[v]),O=(0,n.useMemo)(function(){return!(null!=t&&t.address)&&!f},[t,f]);if(h)return null;var Z=(0,u.tZ)("a",{href:"https://dev.mirror.xyz/llJ_AboiDJwB_ZAFz-CXU7fL2p8v5Wz6MjfluLafewQ",rel:"noreferrer",sx:{ml:1,color:"textSecondary"},target:"_blank",children:(0,u.tZ)(s.Z,{sx:{display:"inline",verticalAlign:"middle",marginTop:"-3px",height:"18px",width:"18px"}})});return p||!w&&x?null:(0,u.tZ)("div",{sx:{p:l.Dh.md,backgroundColor:"foregroundTertiary",borderRadius:"3xl",marginBottom:"4"},children:(0,u.tZ)("div",{sx:a.S,children:(0,u.BX)("div",{sx:{display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:4},children:[(0,u.tZ)("div",{sx:{display:"flex",whiteSpace:"normal",flex:1,color:"text"},children:O?p?null:(0,u.BX)("div",{sx:{alignSelf:"center",fontSize:"base"},children:[(0,u.tZ)("div",{sx:c.h5,children:"Redeem"}),(0,u.BX)("div",{children:["Redeem by connecting your wallet if you backed this project",(0,u.BX)("span",{sx:{whiteSpace:"nowrap"},children:[".",Z]})]})]}):t?(0,u.BX)("div",{sx:{alignSelf:"center"},children:[(0,u.tZ)("div",{sx:c.h5,children:"Redeem"}),(0,u.BX)("div",{sx:{lineHeight:"relaxed",fontSize:"base",color:"text",whiteSpace:"normal"},children:["You backed this project with ",(0,u.BX)("strong",{children:[parseFloat(t.eth).toFixed(2)," ETH"]})," ",(0,u.BX)("span",{sx:{color:"textSecondary"},children:["$",d.Z.ethToUsd({ethValue:parseFloat(t.eth),ethInUsd:r})]}),function(){if(parseFloat(m))return(0,u.BX)("span",{children:[" ","and own"," ",(0,u.BX)("strong",{children:[parseFloat(m).toFixed(2)," $",g.toUpperCase()]})]})}(),function(){switch(!0){case!parseFloat(m):case p:return null;case!!parseFloat(v):return(0,u.BX)("span",{children:[", redeemable for ",(0,u.BX)("strong",{children:[parseFloat(v).toFixed(2)," ETH"]})," ",(0,u.BX)("span",{sx:{color:"textSecondary"},children:["$",b]})]});default:return(0,u.tZ)("span",{children:". There is no redeemable ETH"})}}(),(0,u.BX)("span",{sx:{whiteSpace:"nowrap"},children:[".",Z]})]})]}):null}),(0,u.tZ)(i.ZP,{sx:{justifyContent:"center",width:"100%"},variant:"secondary",onClick:function(){return y(!0)},children:v?"Redeem":"Connect Wallet"})]})})})}},79730:function(e,t,r){r.d(t,{$:function(){return s}});var n=r(59499),o=r(93205),i=r(15277);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e){var t=e.isActive,r=e.isFunded,n=e.isLoading,a=e.hasEnded,s=e.title,l=e.variant,d=void 0===l?"primary":l,u=e.onClick,p=("secondary"===d||"primary"===d)&&(!t||r||a)?{tone:"green"}:{};return(0,i.tZ)(o.xu,{display:"flex",flexWrap:"wrap",width:"full",children:(0,i.tZ)(o.xu,{flex:1,children:(0,i.tZ)(o.zx,c(c({disabled:n,suffix:r||a?(0,i.tZ)(o.NO,{}):void 0,variant:d,width:"full",onClick:!t||r||a?void 0:u},p),{},{children:r||a?(0,i.tZ)(i.HY,{children:"Project Funded"}):n||t?void 0===s?"Back This Project":s:"Funding Closed"}))})})}},91560:function(e,t,r){r.d(t,{$:function(){return y}});var n=r(59499);r(67294);var o=r(22113),i=r(19155),a=r(40829),c=r(1033),s=r(17243),l=r(75417),d=r(1766),u=r(92366),p=r(58154),f=r(30587),h=r(15277);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=function(e){return(null==e?void 0:e.includes("/videos/"))||(null==e?void 0:e.includes("stream.mux"))},m=function(e){var t=e.media,r=g(t);return(0,h.tZ)(d.Z,{editionMedia:r?{id:1,mimetype:"video",url:t}:void 0,editionMediaURL:t,sxContainer:{borderRadius:"md",width:"100%",height:"auto",py:0,"* img, * video":{padding:0,borderRadius:"md",filter:"none"},"div > div":{borderRadius:"md",overflow:"hidden",transform:"translateZ(0)"},"* video":{maxHeight:["unset","36rem"],height:"100%",padding:0},"&:not(.lightbox--active) .videoMute":{display:"none"},"&::after":{display:"none"}},sxMediaContainer:r?{}:{position:"absolute",height:"100%",width:"100%"}})},y=function(e){var t=e.action,r=e.backers,n=e.media,o=e.isFunded,i=e.isLoading,d=e.showBorder,u=e.countdown,p=e.status,f=e.network,v=e.isStatefulCrowdfund,g=v?{heading:"Leaderboard Auction",subheading:"The top 100 backers are awarded a book and an NFT when the crowdfund ends.",inactiveSubheading:"The top 100 backers have been awarded a book and this unique NFT."}:{heading:"Patron podium",subheading:"When the crowdfund ends, the top three backers are awarded a unique NFT. Take the lead and become a top three backer by contributing.",inactiveSubheading:"The top three backers have been awarded these three unique NFTs."};return(0,h.BX)("div",{sx:{width:"100%",pb:6,maxWidth:"5xl",mx:"auto"},children:[(0,h.tZ)("div",{sx:b(b({},d?{borderTop:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)}}:{}),{},{pb:[4,6]})}),(0,h.BX)("div",{sx:{display:"grid",gridTemplateColumns:["1fr","1fr auto"],gap:[4,6],mb:4},children:[(0,h.BX)("div",{children:[(0,h.tZ)("div",{sx:a.h2,children:g.heading}),(0,h.tZ)("div",{sx:{color:"textSecondary",mt:[1],pr:[0,4],fontSize:"base"},children:"completed"===p||o?(0,h.tZ)(h.HY,{children:g.inactiveSubheading}):(0,h.tZ)(h.HY,{children:g.subheading})})]}),t&&t]}),(0,h.BX)("div",{sx:{textAlign:"center",py:[4,6],backgroundColor:"foregroundTertiary",my:[4,6],borderRadius:"lg"},children:[(0,h.tZ)("div",{sx:b(b({color:"textSecondary"},a.h5),{},{mb:1}),children:"Time Remaining"}),"completed"===p||o?(0,h.tZ)("div",{sx:b(b({},a.h2),{},{mb:1,fontVariantNumeric:"tabular-nums"}),children:"Winners Selected"}):(0,h.BX)(h.HY,{children:[i?(0,h.BX)("div",{sx:{mb:1},children:[(0,h.tZ)(c.Z,{height:"2.375rem"}),"\xa0",(0,h.tZ)(c.Z,{height:"2.375rem"}),"\xa0",(0,h.tZ)(c.Z,{height:"2.375rem"})]}):(0,h.tZ)("div",{sx:b(b({},a.h2),{},{mb:1,fontVariantNumeric:"tabular-nums"}),children:(0,l.u6)(u)}),(0,h.tZ)("div",{sx:{maxWidth:"lg",mx:"auto",color:"textSecondary"},children:"If a contribution is placed within the last 15 minutes and changes the podium positions, the time is reset to 15 minutes."})]})]}),(0,h.BX)("div",{sx:b({boxShadow:function(e){var t;return"0 0 0 1px ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundTertiary)},background:"radial-gradient(rgba(255,255,255,0.066) 50%, rgba(0, 0, 0, var(--shadeForegroundTertiary)) 100%)",borderRadius:"xl",p:[4,6],alignItems:"flex-end",overflowX:"auto"},v?{display:"flex",flexDirection:"column"}:{display:"grid",gridTemplateColumns:function(e){return["1fr 1fr 1fr ".concat(e.sizes["4"]),null,"1fr 1fr 1fr"]},columnGap:[4,6]}),children:[v?(0,h.tZ)(m,{media:null==n?void 0:n[0]}):r.map(function(e,t){return(0,h.tZ)(x,{backer:e,isStatefulCrowdfund:v,media:null==n?void 0:n[t],network:f,position:t+1},"".concat(e.address,"-").concat(t))}),(0,h.tZ)("div",{sx:{order:4,height:"1px",width:"1px"}})]}),v&&(0,h.BX)(h.HY,{children:[(0,h.BX)("div",{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,h.tZ)("div",{sx:b(b({},a.h2),{},{mt:[4,6]}),children:"Genesis Edition [Beacon Book]"}),(0,h.tZ)("div",{children:"Top 100 Contributors"}),(0,h.tZ)("div",{sx:{my:1,display:"flex",alignContent:"flex-start"},children:(0,h.tZ)(s.Z,{size:"md"})})]}),(0,h.tZ)("div",{sx:{mt:[4,6],mb:["-1rem","-1.5rem"],height:"1px",backgroundColor:"foregroundSecondary"}})]})]})},x=function(e){var t,r,n=e.backer,s=e.media,l=e.network,v=e.position,b=v-1,m=(0,p.p)({address:n.address,network:l,skip:!n.address||!!n.twitterUsername}),y=m.data,x=m.fetching;n.twitterUsername?(t="@".concat(n.twitterUsername),r=(0,h.tZ)(i.rU,{href:"https://twitter.com/".concat(n.twitterUsername),children:t})):n.address&&(t=n.address&&(null!=y?y:(0,u.kS)(n.address)),r=!x&&(0,h.tZ)("div",{children:t}));var Z=g(s);return(0,h.BX)("div",{sx:{order:w(v)},children:[(0,h.BX)("div",{sx:{minWidth:64,width:"100%",display:"flex",mb:2.5,justifyContent:"space-between",whiteSpace:"nowrap",maxHeight:"1.625rem"},children:[(0,h.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,h.tZ)("div",{sx:{mr:1.5},children:n.address?(0,h.tZ)(o.Z,{alt:t,as:"div",size:"xxs",src:n.avatarURL}):(0,h.tZ)(c.Z,{sx:{height:6,width:6,borderRadius:"full"}})}),(0,h.tZ)("div",{sx:{fontWeight:500,color:"text",letterSpacing:"snug"},children:r||(0,h.tZ)(c.Z,{height:"1rem"})})]}),(0,h.tZ)("div",{children:n.eth?(0,h.BX)("div",{sx:{color:"text",letterSpacing:"snug"},children:[parseFloat(n.eth).toFixed(2).toString()," ETH"]}):(0,h.tZ)(c.Z,{height:"1rem"})})]}),(0,h.BX)("div",{sx:{position:"relative",mb:2,display:"flex"},children:[(0,h.tZ)("div",{sx:{width:0,paddingBottom:"100%"}}),(0,h.tZ)(d.Z,{editionMedia:Z?{id:1,mimetype:"video",url:s}:void 0,editionMediaURL:s,sxContainer:{backgroundColor:"foregroundTertiary",borderRadius:"md",minHeight:64,minWidth:"100%",width:"100%",height:"auto",py:0,"* img, * video":{padding:0,borderRadius:"md"},"div > div":{borderRadius:"md",overflow:"hidden",transform:"translateZ(0)"},"* video":{maxHeight:["unset","36rem"],height:"100%",padding:0},"&:not(.lightbox--active) .videoMute":{display:"none"},"&::after":{display:"none"}},sxMediaContainer:Z?{}:{position:"absolute",height:"100%",width:"100%"}}),(0,h.tZ)("div",{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"md",border:function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)}}})]}),(0,h.tZ)("div",{sx:{alignItems:"center",backgroundColor:"foregroundSecondary",display:["flex"],borderRadius:"md",height:["auto",null,null,"".concat((4-v)*42+20,"px")],p:3,pt:3,width:"100%",justifyContent:"center",position:"relative"},children:(0,h.BX)("div",{children:[(0,h.BX)("div",{sx:a.h5,children:[O(v)," Place"]}),(0,h.tZ)("div",{sx:{color:"white",textAlign:"center"},children:(0,f.YJ)(b)})]})})]})},w=function(e){switch(e){case 1:return[0,0,0,1];case 2:return[1,1,1,0];default:return 2}},O=function(e){switch(e){case 1:return"First";case 2:return"Second";case 3:return"Third"}}},44233:function(e,t,r){var n=r(1033),o=r(39640),i=r(37437),a=r(92366),c=r(15277),s={pr:2,pt:1};t.Z=function(e){var t=e.contractAddress,r=e.ensLabel,l=e.className,d=e.isLoading,u=e.network,p=e.symbol,f=e.tokensIssued,h=e.hasPermalink,v="goerli"===u?"https://goerli.etherscan.io/address/".concat(t):"https://etherscan.io/address/".concat(t),b="goerli"===u?"https://goerli.etherscan.io/token/".concat(t):"https://etherscan.io/token/".concat(t),g=(0,c.tZ)("div",{sx:s,children:(0,c.tZ)(o.Z,{hover:!0,label:"Tokens",children:(0,c.tZ)(c.HY,{children:(0,c.BX)("a",{href:b,rel:"noreferrer",target:"_blank",children:[(0,a.x6)(f)," $",p]})})})}),m=(0,c.tZ)("div",{sx:s,children:(0,c.tZ)("a",{href:v,rel:"noreferrer",target:"_blank",children:(0,c.tZ)(o.Z,{hover:!0,label:"Crowdfund",children:(0,c.tZ)(c.HY,{children:(0,a.FP)(t)})})})}),y=(0,c.tZ)("div",{sx:s,children:(0,c.tZ)(i.Z,{href:"/crowdfunds/".concat(t),subdomain:r})});return(0,c.tZ)("div",{className:l,sx:{color:"textSecondary",position:"relative",userSelect:"none",mt:1},children:(0,c.tZ)("div",{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",position:"relative"},children:d?(0,c.tZ)(n.Z,{width:"50%"}):(0,c.BX)(c.HY,{children:[m,g,!1!==h?y:null]})})})}},86608:function(e,t,r){var n=r(50029),o=r(59499),i=r(87794),a=r.n(i),c=r(71641),s=r(19485),l=r(55284),d=r(67294),u=r(69077),p=r(35266),f=r(28413),h=r(4360),v=r(8089),b=r(83072),g=r(94724),m=r(35346),y=r(11794),x=r(21480),w=r(75026),O=r(95553);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S={valueCurrent:"0",tokensIssued:"0",fundingCap:0,isRedeemable:!1,isActive:!1,symbol:"CROWD",name:"Crowdfund Token",contributionLimit:"1",features:void 0,events:[]};t.Z=function(e){var t,r,o,i,Z,j,P,C,E,D,T,B,A,R,I,M,L,N,X,W,F,_,z,H,U,$,V,Y,q=e.address,K=e.features,G=e.softCap,Q=e.network,J=e.hasPadding,ee=e.hasCreator,et=e.version,er=e.paginateBy,en=e.noHeading,eo=e.noDescription,ei=O.cB.includes(q)?"".concat(O.qt.getTime()):e.endsAt?e.endsAt:null,ea=(0,u.mA)().address,ec=(0,d.useState)(!1),es=ec[0],el=ec[1],ed=(0,d.useState)(!1),eu=ed[0],ep=ed[1],ef=(0,d.useState)(null),eh=ef[0],ev=ef[1],eb=(0,d.useState)(!1),eg=eb[0],em=eb[1],ey=(0,d.useState)(!1),ex=ey[0],ew=ey[1],eO=(0,d.useState)(null),eZ=eO[0],ek=eO[1],eS=(0,d.useState)(null),ej=eS[0],eP=eS[1],eC=(0,d.useState)(null),eE=eC[0],eD=eC[1],eT=(0,d.useState)(null),eB=eT[0],eA=eT[1],eR=(0,d.useState)(null),eI=eR[0],eM=eR[1],eL=(0,d.useState)(et),eN=eL[0],eX=eL[1],eW=(0,d.useState)(null),eF=eW[0],e_=eW[1],ez=(0,c.a)(p.VoG,{variables:{address:q}}),eH=ez.data,eU=ez.refetch,e$=(0,c.a)(p._7j,{variables:{address:q}}).data,eV=null==e$?void 0:null===(Z=e$.crowdfundAtAddress)||void 0===Z?void 0:null===(j=Z.metadata)||void 0===j?void 0:j.podium,eY=!!(null!=eV&&null!==(P=eV.first)&&void 0!==P&&P.primaryMedia)&&!!(null!=eV&&null!==(C=eV.second)&&void 0!==C&&C.primaryMedia)&&!!(null!=eV&&null!==(E=eV.third)&&void 0!==E&&E.primaryMedia),eq=e.podiumMedia;eY&&(eq=[null==eV?void 0:null===(L=eV.first)||void 0===L?void 0:null===(N=L.primaryMedia)||void 0===N?void 0:null===(X=N.sizes)||void 0===X?void 0:null===(W=X.og)||void 0===W?void 0:W.src,null==eV?void 0:null===(F=eV.second)||void 0===F?void 0:null===(_=F.primaryMedia)||void 0===_?void 0:null===(z=_.sizes)||void 0===z?void 0:null===(H=z.og)||void 0===H?void 0:H.src,null==eV?void 0:null===(U=eV.third)||void 0===U?void 0:null===($=U.primaryMedia)||void 0===$?void 0:null===(V=$.sizes)||void 0===V?void 0:null===(Y=V.og)||void 0===Y?void 0:Y.src]);var eK=k(k({},S),{},{contractAddress:q,endsAt:ei,valueGoal:G,network:Q}),eG=(0,d.useState)({isLoading:!0,error:null,crowdfundProps:eK}),eQ=eG[0],eJ=eG[1],e0=null!==(D=eQ.crowdfundProps)&&void 0!==D&&D.backers?eQ.crowdfundProps.backers.length:0,e1=null!==(T=eQ.crowdfundProps)&&void 0!==T&&T.endsAt?parseInt(null===(B=eQ.crowdfundProps)||void 0===B?void 0:B.endsAt):null,e2=e1&&e1<Date.now(),e4=(0,y.c)(null==e$?void 0:null===(A=e$.crowdfundAtAddress)||void 0===A?void 0:null===(R=A.publisher)||void 0===R?void 0:null===(I=R.project)||void 0===I?void 0:I.domain),e6=function(e){eJ({error:null,isLoading:!1,crowdfundProps:k(k({},e),{},{endsAt:ei,valueGoal:e.fundingCap,network:Q})})};(0,d.useEffect)(function(){null!=eH&&eH.crowdfundBlockData&&e6(eH.crowdfundBlockData)},[eH]),(0,d.useEffect)(function(){var e,t,r;ea&&e$&&s.getAddress(ea)===(null==e$?void 0:null===(e=e$.crowdfundAtAddress)||void 0===e?void 0:null===(t=e.publisher)||void 0===t?void 0:null===(r=t.member)||void 0===r?void 0:r.address)&&ew(!0)},[ea,null==eQ?void 0:eQ.crowdfundProps,e$]),(0,d.useEffect)(function(){var e,t;null!=e$&&null!==(e=e$.crowdfundAtAddress)&&void 0!==e&&e.version&&eX(null==e$?void 0:null===(t=e$.crowdfundAtAddress)||void 0===t?void 0:t.version)},[e$]),(0,d.useEffect)(function(){em((0,m.VW)(window.location.host)===e4)},[e4]),(0,d.useEffect)(function(){var e;(e=(0,n.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.ethInUsd();case 2:ek(e.sent);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[]),(0,d.useEffect)(function(){var e,t,r=null==eQ?void 0:null===(t=eQ.crowdfundProps)||void 0===t?void 0:t.fundingRecipientAddress;r&&(e=(0,n.Z)(a().mark(function e(){var t,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.v)(r);case 3:if((t=e.sent.data).split){e.next=7;break}return e.abrupt("return");case 7:return n=new h.Z,e.next=10,n.getSplitWithAllocations(t);case 10:eM({splitAllocations:e.sent.split.splitAllocations}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}},e,null,[[0,14]])})),function(){return e.apply(this,arguments)})()},[eQ]),(0,d.useEffect)(function(){if(ea&&e0){var e=eQ.crowdfundProps.backers.find(function(e){return e.address===ea});e&&ev(e)}},[ea,e0,eQ.crowdfundProps.backers]);var e5=(0,d.useCallback)((t=(0,n.Z)(a().mark(function e(t){var r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.U)(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:e_((0,l.Z)(r,function(e){return e.price}));case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[]);(0,d.useEffect)(function(){if(eN&&e$){var e,t=null===(e=eQ.crowdfundProps)||void 0===e?void 0:e.events;if(null!=eN&&eN.includes("tiered")||null!=eN&&eN.includes("podium"))(r=(0,n.Z)(a().mark(function e(t){var r,o,i,c,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.crowdfundDBRecord,o=t.oldEvents,i=t.refetchCrowdfundBlockData,e.prev=1,c=new b.Z(Q,!0),e.next=5,c.getCallableProxyWithProvider(q);case 5:(s=e.sent).on("Contribution",function(){var e=(0,n.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:i,oldEvents:o});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s.on("ContributionForEdition",function(){var e=(0,n.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e9({address:q,refetchCrowdfundBlockData:i,oldEvents:o}),e.next=3,e5(r);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s.on("Redeemed",function(){var e=(0,n.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:i,oldEvents:o});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),s.on("FundingClosed",function(){var e=(0,n.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:i,oldEvents:o}),e3(ea);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}},e,null,[[1,12]])})),function(e){return r.apply(this,arguments)})({crowdfundDBRecord:e$,oldEvents:t,refetchCrowdfundBlockData:eU});else{var r,o,i,c,s=new v.ZP(q,Q,!0);s.crowdfund.on("Contribution",(o=(0,n.Z)(a().mark(function e(r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:eU,oldEvents:t});case 1:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})),s.crowdfund.on("Redeemed",(i=(0,n.Z)(a().mark(function e(r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:eU,oldEvents:t});case 1:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})),s.crowdfund.on("FundingClosed",(c=(0,n.Z)(a().mark(function e(r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e9({address:q,refetchCrowdfundBlockData:eU,oldEvents:t}),e3(ea);case 2:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}))}}},[eN,e$,eU,null==eQ?void 0:null===(M=eQ.crowdfundProps)||void 0===M?void 0:M.events]),(0,d.useEffect)(function(){var e;(e=(0,n.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e3(ea);case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[ea]),(0,d.useEffect)(function(){var e;(e=(0,n.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e5(e$);case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[e$]);var e3=(r=(0,n.Z)(a().mark(function e(t){var r,n,o,i,c;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=new v.ZP(q,Q),e.prev=3,e.next=6,r.balanceOf(t);case 6:return n=e.sent,e.next=9,r.getRedeemableFromAddress(t);case 9:i=(o=e.sent).eth,c=o.usd,eP(i),eD(c),eA(n),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(3);case 19:case"end":return e.stop()}},e,null,[[3,17]])})),function(e){return r.apply(this,arguments)}),e9=(o=(0,n.Z)(a().mark(function e(t){var r,n,o,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.address,n=t.refetchCrowdfundBlockData,o=t.oldEvents,e.prev=1,e.next=4,(0,w.Hi)({address:r,refetchCrowdfundBlockData:n,oldEvents:o});case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return");case 7:eJ({error:null,isLoading:!1,crowdfundProps:k(k({},i),{},{endsAt:ei,valueGoal:i.fundingCap,network:Q})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),eJ({error:e.t0.toString(),isLoading:!1,crowdfundProps:eK});case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(e){return o.apply(this,arguments)}),e7=(i=(0,n.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e9({address:q,refetchCrowdfundBlockData:eU,oldEvents:eQ.crowdfundProps.events});case 2:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),e8=parseFloat(eQ.crowdfundProps.valueCurrent)&&!eQ.crowdfundProps.isActive||parseFloat(eQ.crowdfundProps.valueCurrent)===eQ.crowdfundProps.stretchGoal;return{state:k(k({},eQ.crowdfundProps),{},{isLoading:eQ.isLoading,isBackInputOpen:es,isRedeemInputOpen:eu,isFunded:e8,endsAt:ei,backersCount:e0,hasEnded:e2,ethInUSD:eZ,hasCreator:ee,connectedBacker:eh,redeemableEth:ej,redeemableUsd:eE,tokenBalance:eB,isEmbeddedOnOperatorPublication:eg,isConnectedOperator:ex,splitData:eI,editions:eF,features:K,hasPadding:J,podiumMedia:eq,paginateBy:er,noHeading:en,noDescription:eo}),actions:{setIsBackInputOpen:el,setIsRedeemInputOpen:ep,refetch:e7}}}},65428:function(e,t,r){r.d(t,{D:function(){return l}});var n=r(59499),o=r(16835),i=r(67294);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={podiumStatus:void 0,time:void 0},l=function(e){var t=e.startTime,r=e.duration,n=i.useState(s),a=(0,o.Z)(n,2),l=a[0],d=a[1],u=i.useRef(),p=function(e,t){var r=e+t-+new Date/1e3;return r<0?0:r};return i.useEffect(function(){if(!t){d(function(e){return c(c({},e),{},{podiumStatus:"not_started",time:r})});return}var e=p(t,r);if(d(function(t){return c(c({},t),{},{time:e})}),!e){d(function(t){return c(c({},t),{},{podiumStatus:"completed",time:e})});return}return u.current=setInterval(function(){var e=p(t,r);d(function(t){return c(c({},t),{},{podiumStatus:e<0?"completed":"started",time:e})})},1e3),function(){return clearInterval(u.current)}},[t,r]),l}},77255:function(e,t,r){var n=r(16835);t.Z=function(e,t){var r;if(!e)return t;try{r=new URLSearchParams(e)}catch(e){return t}return Object.fromEntries(Object.entries(t).map(function(e){var t,o=(0,n.Z)(e,2),i=o[0],a=o[1],c=r.get(i);switch(!0){case null===c:t=a;break;case"true"===c:t=!0;break;case"false"===c:t=!1;break;default:t=c}return[i,t]}))}}}]);