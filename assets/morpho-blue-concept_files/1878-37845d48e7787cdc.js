(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1878],{6289:function(e,t,r){"use strict";r.d(t,{$G:function(){return l},AM:function(){return i},Hs:function(){return d},JN:function(){return u},LN:function(){return p},Ly:function(){return n},Ym:function(){return s},qu:function(){return c},wm:function(){return o},zM:function(){return a}}),r(97710);var n="chprmq9",i="chprmq8",o="chprmq3",a="var(--chprmq0)",l="chprmq2",c="chprmq1",d="chprmq7",s="chprmq4",u="chprmq6",p="chprmq5"},20946:function(e,t,r){"use strict";r.d(t,{U4:function(){return i},oH:function(){return o},qj:function(){return n}}),r(11277),(0,r(70234).c)({defaultClassName:"bc5nci54i bc5ncix7 bc5nci1pe bc5nci1py bc5nci4ti bc5nci598 bc5nci4tp _13cl2t44",variantClassNames:{},defaultVariants:{},compoundVariants:[]});var n="_13cl2t43",i="_13cl2t42 _13cl2t41",o="_13cl2t40"},93302:function(e,t,r){"use strict";r.d(t,{H:function(){return h}});var n=r(59499),i=r(4730),o=r(93205),a=r(67294),l=r(14154),c=r(15277),d=["outline","stop1","stop2","id"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={dark:["accent","background"],light:["background","accent"]},h=function(e){var t=e.outline,r=e.size,n=void 0===r?"128px":r,i=e.stop1,d=e.stop2,s=e.alignSelf,u=(0,l.tm)(),h=(0,o.Fg)().mode,g=a.useId(),x=p[u?h:"light"],v="number"==typeof n;return(0,c.tZ)(o.xu,{alignSelf:s,as:f,display:"block",height:"auto",id:g,style:v?{width:n}:void 0,width:v?void 0:n,outline:void 0===t?"accent":t,stop1:null!=i?i:x[0],stop2:null!=d?d:x[1]})},f=function(e){var t=e.outline,r=e.stop1,n=e.stop2,a=e.id,l=(0,i.Z)(e,d);return(0,c.BX)("svg",u(u({viewBox:"0 0 144 185",xmlns:"http://www.w3.org/2000/svg"},l),{},{children:[(0,c.tZ)("path",{d:"M0 71.6129C0 32.0622 32.0622 0 71.6129 0C111.164 0 143.226 32.0622 143.226 71.6129V174.118C143.226 180.128 138.354 185 132.343 185H10.8824C4.87222 185 0 180.128 0 174.118V71.6129Z",fill:"url(#".concat(a,")")}),(0,c.tZ)("path",{clipRule:"evenodd",d:"M134.717 176.111V71.8216C134.717 36.8684 106.465 8.53326 71.6129 8.53326C36.7613 8.53326 8.50846 36.8684 8.50846 71.8216V176.111C8.50846 176.308 8.66719 176.467 8.86298 176.467H134.363C134.559 176.467 134.717 176.308 134.717 176.111ZM71.6129 0C32.0622 0 0 32.1556 0 71.8216V176.111C0 181.02 3.96809 185 8.86298 185H134.363C139.258 185 143.226 181.02 143.226 176.111V71.8216C143.226 32.1556 111.164 0 71.6129 0Z",fill:t?o.gR.colors[t]:void 0,fillRule:"evenodd"}),(0,c.tZ)("defs",{children:(0,c.BX)("linearGradient",{gradientUnits:"userSpaceOnUse",id:a,x1:"18.435",x2:"143.747",y1:"10.6666",y2:"209.447",children:[(0,c.tZ)("stop",{offset:"0.265625",stopColor:r?o.gR.colors[r]:void 0}),(0,c.tZ)("stop",{offset:"0.734375",stopColor:n?o.gR.colors[n]:void 0})]})})]}))}},53445:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(93205),i=r(93302),o=r(15277),a=function(){return(0,o.BX)(n.Vp,{size:"small",tone:"green",children:[(0,o.tZ)(n.xu,{alignItems:"center",backgroundColor:"green",borderRadius:"full",display:"flex",height:"14px",justifyContent:"center",marginLeft:"-4px",width:"14px",children:(0,o.tZ)(i.H,{outline:"green",size:"6px",stop1:"white",stop2:"white"})}),"Rewards"]})}},61878:function(e,t,r){"use strict";r.d(t,{N:function(){return eN},f:function(){return i}});var n,i,o=r(71641),a=r(93205),l=r(89755),c=r.n(l),d=r(11163),s=r(67294),u=r(69077),p=r(8243),h=r(8765),f=r(50029),g=r(16835),x=r(87794),v=r.n(x),m=r(28332),b=r(50319),y=r(66010),w=r(31800),Z=r(35266),O=r(75938),k=r(59499),j=r(86419),C=r(42708),S=r(25675),P=r.n(S),z=r(41664),B=r.n(z),D=r(33751),E=r(99816),X=r(1011),_=r(1004),R=r(15277),L=function(e){var t,r,n,i,l,c,d=e.notification,s=null===(t=(0,o.a)(Z.Qo2,{variables:{projectAddress:d.data.address}}).data)||void 0===t?void 0:t.projectFeed;return(0,R.tZ)(B(),{href:null!==(r=(0,E.no)({project:s,fallbackAddress:d.data.address}))&&void 0!==r?r:"",passHref:!0,onClick:function(){return m.track("notification__clicked_new_collection")},children:(0,R.tZ)(a.xu,{paddingY:"8px",children:(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",space:"8px",children:[(0,R.tZ)(D.H,{project:null!=s?s:void 0,source:"notification",trackingSurface:"notification_menu",children:(0,R.tZ)(a.qE,{address:null!==(n=d.data.address)&&void 0!==n?n:void 0,ensAvatarHook:X.u,label:"",size:"40px",src:null!==(i=d.data.avatarURL)&&void 0!==i?i:void 0})}),(0,R.BX)(a.xu,{flexBasis:"full",children:[(0,R.BX)(a.xv,{lineHeight:"1.25",size:"small",weight:"semiBold",children:[null===(l=(0,E.pY)(d.data))||void 0===l?void 0:l.value," ",(0,R.BX)(a.xv,{as:"span",size:"extraSmall",children:[" ",(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"collected your entry."})]})]}),(0,R.BX)(a.Kq,{direction:"horizontal",space:"8px",children:[d.data.reward?(0,R.BX)(a.Vp,{size:"small",tone:"green",children:["+ ","".concat(d.data.reward," ").concat(null!==(c=d.data.rewardCurrency)&&void 0!==c?c:"ETH")]}):null,(0,R.tZ)(a.xv,{color:"textTertiary",size:"label",children:(0,_.tn)(d.createdAt/1e3)})]})]}),(0,R.tZ)(a.xu,{borderRadius:"medium",boxShadow:"0.5",height:"56px",minWidth:"56px",overflow:"hidden",width:"56px",children:(0,R.tZ)(P(),{alt:"Entry WNFT Image",height:56,src:d.data.entryWnftImageUrl,style:{width:"100%",height:"100%",objectFit:"cover"},width:56})})]})})})},I=function(e){var t,r,n,i,l,c,d=e.notification,s=null===(t=(0,o.a)(Z.Qo2,{variables:{projectAddress:d.data.address}}).data)||void 0===t?void 0:t.projectFeed;return(0,R.tZ)(B(),{href:null!==(r=(0,E.no)({project:s,fallbackAddress:d.data.address}))&&void 0!==r?r:"",passHref:!0,onClick:function(){return m.track("notification__clicked_first_minter_reward")},children:(0,R.tZ)(a.xu,{paddingY:"8px",children:(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",space:"8px",children:[(0,R.tZ)(D.H,{project:null!=s?s:void 0,source:"notification",trackingSurface:"notification_menu",children:(0,R.tZ)(a.qE,{address:null!==(n=d.data.address)&&void 0!==n?n:void 0,ensAvatarHook:X.u,label:"",size:"40px",src:null!==(i=d.data.avatarURL)&&void 0!==i?i:void 0})}),(0,R.BX)(a.xu,{flexBasis:"full",children:[(0,R.BX)(a.xv,{lineHeight:"1.25",size:"small",weight:"semiBold",children:[(0,R.BX)(a.xv,{as:"span",size:"extraSmall",children:[(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"You earned a first minter reward from"})," "]}),null===(l=(0,E.pY)(d.data))||void 0===l?void 0:l.value,(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"."})]}),(0,R.BX)(a.Kq,{direction:"horizontal",space:"8px",children:[(0,R.BX)(a.Vp,{size:"small",tone:"green",children:["+ ","".concat(d.data.reward," ").concat(null!==(c=d.data.rewardCurrency)&&void 0!==c?c:"ETH")]}),(0,R.tZ)(a.xv,{color:"textTertiary",size:"label",children:(0,_.tn)(d.createdAt/1e3)})]})]}),(0,R.tZ)(a.xu,{borderRadius:"medium",boxShadow:"0.5",height:"56px",minWidth:"56px",overflow:"hidden",width:"56px",children:(0,R.tZ)(P(),{alt:"Entry WNFT Image",height:56,src:d.data.entryWnftImageUrl,style:{width:"100%",height:"100%",objectFit:"cover"},width:56})})]})})})},N=function(e){var t,r,n,i,l,c,d=e.notification,s=null===(t=(0,o.a)(Z.Qo2,{variables:{projectAddress:d.data.address}}).data)||void 0===t?void 0:t.projectFeed;return(0,R.tZ)(B(),{href:null!==(r=(0,E.no)({project:s,fallbackAddress:d.data.address}))&&void 0!==r?r:"",passHref:!0,onClick:function(){return m.track("notification__clicked_referral_reward")},children:(0,R.tZ)(a.xu,{paddingY:"8px",children:(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",space:"8px",children:[(0,R.tZ)(D.H,{project:null!=s?s:void 0,source:"notification",trackingSurface:"notification_menu",children:(0,R.tZ)(a.qE,{address:null!==(n=d.data.address)&&void 0!==n?n:void 0,ensAvatarHook:X.u,label:"",size:"40px",src:null!==(i=d.data.avatarURL)&&void 0!==i?i:void 0})}),(0,R.BX)(a.xu,{flexBasis:"full",children:[(0,R.BX)(a.xv,{lineHeight:"1.25",size:"small",weight:"semiBold",children:[(0,R.BX)(a.xv,{as:"span",size:"extraSmall",children:[(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"You earned a referral reward from"})," "]}),null===(l=(0,E.pY)(d.data))||void 0===l?void 0:l.value,(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"."})]}),(0,R.BX)(a.Kq,{direction:"horizontal",space:"8px",children:[(0,R.BX)(a.Vp,{size:"small",tone:"green",children:["+ ","".concat(d.data.reward," ").concat(null!==(c=d.data.rewardCurrency)&&void 0!==c?c:"ETH")]}),(0,R.tZ)(a.xv,{color:"textTertiary",size:"label",children:(0,_.tn)(d.createdAt/1e3)})]})]}),(0,R.tZ)(a.xu,{borderRadius:"medium",boxShadow:"0.5",height:"56px",minWidth:"56px",overflow:"hidden",width:"56px",children:(0,R.tZ)(P(),{alt:"Entry WNFT Image",height:56,src:d.data.entryWnftImageUrl,style:{width:"100%",height:"100%",objectFit:"cover"},width:56})})]})})})},H=r(6830),T=r(62201);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,k.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=function(e){var t,r,n,i,l,c=e.notification,d=(0,T.W_)({projectAddress:c.data.address}),s=(0,H.u)({projectAddress:c.data.address,isSubscribed:d,source:"NotificationMenu"}),u=null===(t=(0,o.a)(Z.Qo2,{variables:{projectAddress:c.data.address}}).data)||void 0===t?void 0:t.projectFeed;return(0,R.tZ)(B(),{href:null!==(r=(0,E.no)({project:u,fallbackAddress:c.data.address}))&&void 0!==r?r:"",passHref:!0,onClick:function(){return m.track("notification__clicked_new_subscription")},children:(0,R.tZ)(a.xu,{paddingY:"8px",width:"full",children:(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",justify:"space-between",space:"8px",children:[(0,R.tZ)(D.H,{project:null!=u?u:void 0,source:"notification",trackingSurface:"notification_menu",children:(0,R.tZ)(a.qE,{address:null!==(n=c.data.address)&&void 0!==n?n:void 0,ensAvatarHook:X.u,label:"",size:"40px",src:null!==(i=c.data.avatarURL)&&void 0!==i?i:void 0})}),(0,R.BX)(a.xu,{flexBasis:"full",children:[(0,R.BX)(a.xv,{lineHeight:"1.25",size:"small",weight:"semiBold",children:[null===(l=(0,E.pY)(c.data))||void 0===l?void 0:l.value," ",(0,R.BX)(a.xv,{as:"span",size:"extraSmall",children:[" ",(0,R.tZ)(a.xv,{as:"span",size:"small",weight:"normal",children:"subscribed to you."})]})]}),(0,R.tZ)(a.xv,{color:"textTertiary",size:"label",children:(0,_.tn)(c.createdAt/1e3)})]}),(0,R.tZ)(a.zx,Y(Y({},s.buttonProps),{},{size:"extraSmall",onClick:function(e){e.preventDefault(),s.buttonProps.onClick(),m.track("notification__subscribed_to_new_subscriber")}}))]})})})},q=r(94371);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,k.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U=function(e){var t;return F(F({},e),{},{data:"string"==typeof e.data?JSON.parse(null!==(t=e.data)&&void 0!==t?t:""):e.data})},V=function(e){var t=e.notifications,r=e.label;return(0,R.BX)(R.HY,{children:[(0,R.tZ)(q.L,{size:"8px"}),(0,R.tZ)(a.xv,{size:"label",weight:"semiBold",children:r}),(0,R.tZ)(q.L,{size:"10px"}),t.map(function(e){return"Subscribed"===e.type?(0,R.tZ)(j.xp,{asChild:!0,children:(0,R.tZ)(A,{notification:U(e)},"subscription-notif-".concat(e.createdAt))}):"entryCollected"===e.type?(0,R.tZ)(j.xp,{asChild:!0,children:(0,R.tZ)(L,{notification:U(e)},"entry-collect-notif-".concat(e.createdAt))}):"entryFirstMinter"===e.type?(0,R.tZ)(j.xp,{asChild:!0,children:(0,R.tZ)(I,{notification:U(e)},"entry-collect-notif-".concat(e.createdAt))}):"entryReferral"===e.type?(0,R.tZ)(j.xp,{asChild:!0,children:(0,R.tZ)(N,{notification:U(e)},"entry-collect-notif-".concat(e.createdAt))}):null})]})},K=function(e){var t=e.unreadNotifications,r=e.readNotifications,n=e.loadMore,i=(0,R.BX)(R.HY,{children:[null!=t&&t.length?(0,R.tZ)(V,{label:"New",notifications:t}):null,null!=r&&r.length?(0,R.tZ)(V,{label:"Older",notifications:r}):null,(0,R.tZ)(C.df,{onChange:function(e){e&&(null==n||n())}})]});return r.length||t.length||(i=(0,R.tZ)(a.xu,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",justifyContent:"center",textAlign:"center",width:"full",children:(0,R.tZ)(a.xv,{color:"textSecondary",size:"large",weight:"semiBold",children:"You have no notifications"})})),(0,R.BX)(a.xu,{display:"flex",flexDirection:"column",height:"full",padding:"16px",style:{overflowX:"hidden",overflowY:"scroll"},children:[(0,R.tZ)(a.xv,{size:"extraLarge",weight:"semiBold",children:"Notifications"}),i]})},G=r(53487),Q=r(1033),$=function(){var e,t,r,n=(0,b.D)(Z.AXC),i=(0,g.Z)(n,1)[0],l=(0,o.a)(Z.ByC),c=l.data,d=l.loading,s=(0,o.a)(Z.Dzf,{variables:{limit:20},skip:!d&&!c,pollInterval:6e4}),u=s.data,p=s.loading,h=s.fetchMore,x=null==u?void 0:null===(t=u.getNotifications)||void 0===t?void 0:t.notifications.filter(function(e){return!e.isRead}),k=null==u?void 0:null===(r=u.getNotifications)||void 0===r?void 0:r.notifications.filter(function(e){return e.isRead}),j=(e=(0,f.Z)(v().mark(function e(){var t;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(!u||!(null!==(t=u.getNotifications)&&void 0!==t&&t.cursorEnd))){e.next=3;break}throw Error();case 3:return e.next=5,h({variables:{limit:20,cursorStart:u.getNotifications.cursorEnd}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y.ZP.error(w.DU);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)});return(0,R.tZ)(O.x,{align:"end",trigger:function(e){var t,r;return(0,R.tZ)(a.xu,{display:"flex",gap:"8px",children:(0,R.tZ)(G.Z,{menuOpen:e,newNotificationsNumber:null!==(t=null==c?void 0:null===(r=c.getNotificationsCount)||void 0===r?void 0:r.unread)&&void 0!==t?t:0})})},onOpenChange:function(e){e&&m.track("global_nav__notifications_opened"),e||p||null==x||!x.length||i({variables:{notificationIds:x.map(function(e){return e.id})},refetchQueries:[Z.Dzf,Z.ByC]})},children:(0,R.tZ)(a.xu,{borderRadius:"large",boxShadow:"1",height:"384px",width:"448px",children:p?(0,R.tZ)(Q.Z,{height:"100%",width:"100%"}):(0,R.tZ)(K,{loadMore:j,readNotifications:null!=k?k:[],unreadNotifications:null!=x?x:[]})})})},J=r(26520);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){(0,k.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var er=r(22396);function en(e){var t;return!!e.showLiteOnboarding&&!e.loading&&((null===(t=e.project)||void 0===t?void 0:t.displayName)==void 0||void 0==e.project.avatarURL)}r(48810);var ei=r(91131),eo=r(6546),ea=r(69426),el=r(49823),ec=r(87536),ed=r(92221),es=r(15531),eu=r(45871),ep=r(36162),eh=r(92366),ef=r(78242),eg=r(46288),ex=r(24503);function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(t){(0,k.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eb=function(e){var t,r,n,i,l,c=e.open,d=e.onClose,u=s.useState({}),p=(0,g.Z)(u,2),h=p[0],x=p[1],w=(0,o.a)(Z.Wku),O=(0,E.bG)(w),k=(0,ec.cI)(),j=k.register,C=k.handleSubmit,S=k.formState,P=k.reset,z=(0,k.watch)("displayName"),B=S.errors,D=s.useMemo(function(){return{setAvatarURL:function(e){x(function(t){return em(em({},t),{},{avatarURL:e})})},uploadError:function(e){y.ZP.error(e)},uploadStart:function(){x(function(e){return em(em({},e),{},{uploading:!0})})},uploadStop:function(){x(function(e){return em(em({},e),{},{uploading:!1})})}}},[]);s.useEffect(function(){var e;O&&(P({displayName:null!==(e=O.displayName)&&void 0!==e?e:void 0}),x(function(e){return em(em({},e),{},{avatarURL:O.avatarURL})}))},[O,P]);var X=(0,b.D)(Z.Kg_),_=(0,g.Z)(X,1)[0],L=s.useCallback((t=(0,f.Z)(v().mark(function e(t){var r,n,i,o,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.track("global_nav__onboarding_submitted"),e.prev=1,x(function(e){return em(em({},e),{},{loading:!0})}),r=O.address,n=em(em({},t),{},{avatarURL:h.avatarURL}),e.next=7,_({variables:{projectAddress:r,settings:JSON.stringify(n)}});case 7:return i=O.ens?(0,ep.l)(O.ens):(0,ed.K)(O.address),o=(0,ef.Ge)(O.domain),a=O.domain?void 0:"/".concat(i),e.next=13,(0,eg.A)(o,a);case 13:if(e.sent){e.next=16;break}throw Error("Failed to revalidate index");case 16:y.ZP.success("Saved"),m.track("global_nav__onboarding_success"),d(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),m.track("global_nav__onboarding_error"),y.ZP.error("Error saving changes");case 25:return e.prev=25,x(function(e){return em(em({},e),{},{loading:!1})}),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[1,21,25,28]])})),function(e){return t.apply(this,arguments)}),[h.avatarURL,_,O,d]),I=(0,E.pp)({project:O,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,R.tZ)(es.Z,{isOpen:c,children:(0,R.tZ)(eu.Z,{sx:{width:[600,600],maxWidth:[600,600]},title:"Profile Setup",onClose:d,children:(0,R.BX)(a.xu,{as:"form",display:"flex",flexDirection:"column",gap:"16px",width:"full",onSubmit:C(L),children:[(0,R.BX)(a.xu,{alignItems:"center",borderColor:"foregroundTertiary",display:"flex",flexDirection:"column",gap:"8px",paddingBottom:{xs:"16px",sm:"24px"},children:[(0,R.BX)(a.xu,{alignItems:"center",display:"flex",gap:"20px",children:[(0,R.tZ)(a.xv,{color:"textSecondary",size:"small",weight:"semiBold",children:"Profile Image"}),(0,R.tZ)(a.Vp,{size:"small",tone:"accent",children:"Required"})]}),(0,R.tZ)(a.S2,{accept:"image/gif, image/jpeg, image/png, image/webp",required:!0,onChange:(r=(0,f.Z)(v().mark(function e(t){var r,n,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D.uploadStart(),x(function(e){return em(em({},e),{},{uploadingAvatar:!0})}),e.next=5,(0,ex.Ix)(t);case 5:if(n=(r=e.sent).url,i=r.error,n&&D.setAvatarURL(n),!i){e.next=11;break}throw i;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),D.uploadError(e.t0);case 16:return e.prev=16,x(function(e){return em(em({},e),{},{uploadingAvatar:!1})}),D.uploadStop(),e.finish(16);case 20:case"end":return e.stop()}},e,null,[[0,13,16,20]])})),function(e){return r.apply(this,arguments)}),onError:D.uploadError,children:function(e){var t=h.uploading?e.previewUrl:h.avatarURL;return(0,R.BX)(a.xu,{backgroundColor:"background",borderColor:"background",borderRadius:"full",borderWidth:"8px",cursor:h.uploading?void 0:"pointer",height:"160px",isolation:"isolate",overflow:"hidden",width:"160px",children:[(0,R.tZ)(a.TX,{children:"Attach avatar image"}),(0,R.BX)(a.xu,{alignItems:"center",backgroundColor:{base:"foregroundTertiary",hover:h.uploading?void 0:"foregroundSecondary"},borderRadius:"full",color:{base:"textTertiary",hover:"text"},display:"flex",height:"full",justifyContent:"center",position:"relative",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",children:[t?(0,R.tZ)(a.xu,{height:"full",opacity:h.uploading?"50":void 0,width:"full",children:(0,R.tZ)(a.qE,{label:"Avatar",size:"full",src:t})}):(0,R.tZ)(a.bC,{color:"current"}),h.uploading&&(0,R.tZ)(a.xu,{alignItems:"center",display:"flex",inset:"0px",justifyContent:"center",position:"absolute",children:(0,R.tZ)(a.$j,{size:"small"})})]})]})}}),(0,R.tZ)(a.xu,{display:"flex",justifyContent:"center",paddingY:z?void 0:"4px",width:"full",children:(0,R.tZ)(a.Od,{height:"56px",loading:!z&&!(0,eh.FP)(null==O?void 0:O.address),maxWidth:"256px",width:"full",children:(0,R.tZ)(a.X6,{level:"3",children:z||(0,eh.FP)(null==O?void 0:O.address)})})}),(0,R.tZ)(a.Vp,{children:null!==(n=null==I?void 0:I.value)&&void 0!==n?n:(0,eh.FP)(null==O?void 0:O.address)})]}),(0,R.tZ)(a.C3,{legend:"Name",size:"small",space:"8px",status:"required",children:(0,R.tZ)(a.II,em({error:null===(i=B.displayName)||void 0===i?void 0:i.message,hideLabel:!0,label:"name",placeholder:"Name or project"},j("displayName",{required:{value:!0,message:"Name is required"}})))}),(0,R.tZ)(a.C3,{legend:"Bio",size:"small",space:"8px",status:"optional",children:(0,R.tZ)(a.gx,em({error:null===(l=B.description)||void 0===l?void 0:l.message,hideLabel:!0,label:"description",maxLength:140,placeholder:"Tell everyone a little about yourself"},j("description",{validate:function(e){return!((null==e?void 0:e.length)>140)||"Bio must be 140 characters or less"}})))}),(0,R.tZ)(a.zx,{center:!0,disabled:h.uploading||h.loading||!h.avatarURL||!z,loading:h.loading,size:"medium",width:"full",children:"Save Changes"})]})})})};function ey(e){var t=e.size,r=void 0===t?"24px":t,n=e.className;return(0,R.BX)("svg",{className:n,color:"currentColor",fill:"none",style:{height:r,width:r},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,R.BX)("g",{clipPath:"url(#clip0_1603_1852)",children:[(0,R.tZ)("path",{d:"M13.3334 4.16667L15 5.83333L18.3334 2.5",stroke:"#FF9500",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,R.tZ)("path",{d:"M8.33333 11.25C10.1743 11.25 11.6667 9.75766 11.6667 7.91671C11.6667 6.07576 10.1743 4.58337 8.33333 4.58337C6.49238 4.58337 5 6.07576 5 7.91671C5 9.75766 6.49238 11.25 8.33333 11.25Z",stroke:"#FF9500",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,R.tZ)("path",{d:"M18.3333 9.99996V13.5333C18.3333 15.2134 18.3333 16.0535 18.0063 16.6953C17.7187 17.2598 17.2598 17.7187 16.6953 18.0063C16.0535 18.3333 15.2134 18.3333 13.5333 18.3333H6.46663C4.78647 18.3333 3.94639 18.3333 3.30465 18.0063C2.74017 17.7187 2.28123 17.2598 1.99361 16.6953C1.66663 16.0535 1.66663 15.2134 1.66663 13.5333V6.46663C1.66663 4.78647 1.66663 3.94639 1.99361 3.30465C2.28123 2.74017 2.74017 2.28123 3.30465 1.99361C3.94639 1.66663 4.78647 1.66663 6.46663 1.66663H9.99996",stroke:"#FF9500",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,R.tZ)("path",{d:"M15 18V18C15 15.7909 13.2091 14 11 14H5.16037C3.65392 14 2.38468 14.9909 2 16.3411",stroke:"#FF9500",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}),(0,R.tZ)("defs",{children:(0,R.tZ)("clipPath",{id:"clip0_1603_1852",children:(0,R.tZ)("rect",{fill:"white",style:{height:r,width:r}})})})]})}var ew=function(e){var t=e.openModal;return(0,R.BX)(a.xu,{alignItems:"center",borderColor:"orange",borderRadius:"medium",borderWidth:"2px",color:"orange",cursor:"pointer",display:"flex",gap:"8px",height:"min",justifyContent:"space-between",marginX:"16px",paddingRight:"14px",paddingX:"16px",paddingY:"8px",style:{backgroundColor:"#FF950026"},onClick:function(){t(),m.track("global_nav__onboarding_opened")},children:[(0,R.BX)(a.xu,{alignItems:"center",display:"flex",gap:"8px",children:[(0,R.tZ)(ey,{size:"20"}),(0,R.tZ)(a.xv,{color:"orange",size:"extraSmall",weight:"semiBold",children:"Finish setting up your account"})]}),(0,R.tZ)(a.VG,{color:"orange",size:"20px",strokeWidth:"2px"})]})},eZ=function(e){var t,r,n,i,o,l=e.project,d=(0,u.mA)(),p=null===(t=(0,E.LR)(l))||void 0===t?void 0:t.value,f=null!==(r=null==l?void 0:l.address)&&void 0!==r?r:d.address,x=(0,eh.kS)(f),v=s.useState(!1),m=(0,g.Z)(v,2),b=m[0],y=m[1],w=function(){navigator.clipboard.writeText(f),y(!0),setTimeout(function(){y(!1)},750)},Z=function(){return(0,R.tZ)(a.xu,{children:b?(0,R.tZ)(a.NO,{color:"accent",size:"12px"}):(0,R.tZ)(a.vU,{color:{base:"inherit",hover:"accent"},size:"12px"})})},O=p?(0,R.BX)(R.HY,{children:[(0,R.tZ)(a.Od,{maxWidth:"112px",width:"full",children:(0,R.tZ)(a.xu,{alignItems:"center",display:"flex",gap:"8px",maxWidth:"full",width:"full",children:(0,R.tZ)(a.xv,{color:"text",ellipsis:!0,letterSpacing:"-0.01",lineHeight:"normal",size:"small",weight:"semiBold",children:p})})}),(0,R.tZ)(a.Od,{height:"20px",maxWidth:"160px",width:"full",children:(0,R.tZ)(a.xu,{color:b?"accent":{base:"textTertiary",hover:"accent"},cursor:"pointer",width:"fit",onClick:w,children:(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",space:"4px",children:[(0,R.tZ)(a.xv,{color:"inherit",ellipsis:!0,size:"extraSmall",children:x}),Z()]})})})]}):(0,R.tZ)(a.Od,{maxWidth:"112px",width:"full",children:(0,R.BX)(a.xu,{alignItems:"center",color:b?"accent":{base:"text",hover:"accent"},cursor:"pointer",display:"flex",gap:"8px",maxWidth:"fit",onClick:w,children:[(0,R.tZ)(a.xv,{color:"inherit",ellipsis:!0,letterSpacing:"-0.01",lineHeight:"normal",size:"small",weight:"semiBold",children:x}),Z()]})});return(0,R.BX)(a.xu,{alignItems:"center",display:"flex",gap:"12px",minWidth:"0px",padding:"16px",position:"relative",children:[(0,R.tZ)(a.Od,{radius:"full",children:(0,R.tZ)(j.x8,{asChild:!0,children:(0,R.tZ)(B(),{href:null!==(n=(0,E.no)({project:l}))&&void 0!==n?n:"",onClick:h.zp,children:(0,R.tZ)(a.zx,{shape:"circle",size:"small",variant:"tertiary",children:(0,R.tZ)(a.qE,{address:null!=f?f:void 0,as:c(),ensAvatarHook:X.u,label:null!==(i=null==l?void 0:l.displayName)&&void 0!==i?i:"",shape:"circle",size:"40px",src:null!==(o=null==l?void 0:l.avatarURL)&&void 0!==o?o:void 0})})})})}),(0,R.tZ)(a.xu,{display:"flex",flexDirection:"column",flexGrow:1,gap:"2px",height:"full",justifyContent:"center",minWidth:"0px",position:"relative",textAlign:"left",children:O})]})},eO=r(97467),ek=r(53445),ej=function(){var e,t=(0,o.a)(Z._ps),r=t.data,n=t.loading,i=null==r?void 0:null===(e=r.totalUserRewards)||void 0===e?void 0:e.rewardsTotal;return(0,R.tZ)(a.xu,{alignItems:"flex-start",borderColor:"green",borderRadius:"medium",borderWidth:"1px",display:"flex",flexBasis:"full",flexDirection:"column",gap:"2px",justifyContent:"center",padding:"8px",style:{backgroundColor:"#34C75926"},children:(0,R.BX)(a.xu,{alignItems:"center",display:"flex",height:"min",justifyContent:"space-between",width:"full",children:[(0,R.BX)(a.Kq,{align:"center",direction:"horizontal",space:"4px",children:[(0,R.tZ)(ek.W,{}),(0,R.tZ)(a.Od,{backgroundColor:"green",height:"16px",loading:n,children:(0,R.BX)(a.xv,{color:"green",size:"small",weight:"semiBold",children:[i&&0!==i?i.toFixed(6):"0"," ETH"]})})]}),(0,R.tZ)(a.xu,{as:"button",cursor:"pointer",height:"20px",children:(0,R.tZ)(B(),{href:"https://support.mirror.xyz/hc/en-us/articles/21917161046804",passHref:!0,target:"_blank",children:(0,R.tZ)(eO.zqj,{color:"#34C759",height:16,width:16})})})]})})},eC=r(77191),eS=r(76028);function eP(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(eP=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new eP(e)}var ez=function(e){(0,eC.Z)(e);var t,r,n=(0,u.qL)().disconnect,i=s.useState(null),o=(0,g.Z)(i,2),l=o[0],c=o[1],d=(0,eS.a)().login,p=s.useCallback((t=(0,f.Z)(v().mark(function e(t){var r,n,i,o,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),e.prev=1,r=!1,n=!1,e.prev=4,o=function(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new eP(t.call(e));r="@@asyncIterator",n="@@iterator"}throw TypeError("Object is not async iterable")}(d());case 6:return e.next=8,o.next();case 8:if(!(r=!(a=e.sent).done)){e.next=14;break}c(a.value);case 11:r=!1,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),n=!0,i=e.t0;case 20:if(e.prev=20,e.prev=21,!(r&&null!=o.return)){e.next=25;break}return e.next=25,o.return();case 25:if(e.prev=25,!n){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(20);case 30:h.CH(),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(1),c(null);case 36:case"end":return e.stop()}},e,null,[[1,33],[4,16,20,30],[21,,25,29]])})),function(e){return t.apply(this,arguments)}),[d]),x=null!==l;switch(l){case null:r="Sign in";break;case"check-wallet":r="Check Wallet";break;case"signing-in":r="Signing In"}return(0,R.tZ)(a.xu,{borderColor:"foregroundSecondary",borderTopWidth:"1px",paddingBottom:"20px",paddingTop:"16px",paddingX:"16px",width:"full",children:(0,R.BX)(a.Kq,{direction:"vertical",space:"24px",children:[(0,R.BX)(a.Kq,{align:"center",direction:"vertical",justify:"center",space:"8px",children:[(0,R.tZ)(a.xv,{align:"center",color:"text",weight:"semiBold",children:"You're signed out"}),(0,R.tZ)(a.xv,{align:"center",color:"textTertiary",size:"small",children:"Sign a message in your wallet to verify that you’re the owner of the connected address."})]}),(0,R.BX)(a.Kq,{align:"center",direction:"vertical",justify:"center",space:"10px",children:[(0,R.tZ)(a.zx,{center:!0,disabled:x,loading:x,size:"small",variant:"primary",width:"full",onClick:p,children:r}),(0,R.tZ)(a.xu,{as:"button",color:{base:"textTertiary",hover:"accent"},cursor:"pointer",transitionDuration:"150",transitionProperty:"colors",width:"fit",onClick:function(){return n()},children:(0,R.tZ)(a.xv,{align:"center",color:"inherit",size:"extraSmall",weight:"semiBold",children:"Disconnect"})})]})]})})};function eB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(r),!0).forEach(function(t){(0,k.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eE=function(e){var t=e.href,r=e.icon,n=e.name,i=e.openInNewTab,o=e.amplitudeEvent,l=e.onClick;return(0,R.tZ)(j.x8,{asChild:!0,children:(0,R.tZ)(B(),eD(eD({href:t,legacyBehavior:!1},i?{rel:"noreferrer",target:"_blank"}:null),{},{onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null==l||l(),o()}),children:(0,R.tZ)(a.xu,{alignItems:"center",backgroundColor:{hover:"foregroundTertiary"},borderRadius:"large",display:"flex",height:"52px",justifyContent:"space-between",paddingX:"8px",paddingY:"16px",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",width:"full",children:(0,R.BX)(a.Kq,{align:"center",as:"span",direction:"horizontal",space:"16px",children:[(0,R.tZ)(a.xu,{display:"flex",justifyContent:"center",width:"20px",children:(0,R.tZ)(a.Od,{radius:"full",children:s.cloneElement(r,{color:"text"})})}),(0,R.tZ)(a.Od,{children:(0,R.tZ)(a.xv,{as:"span",color:"text",lineHeight:"normal",size:"small",weight:"semiBold",children:n})})]})})}))})},eX=function(e){var t,r,n,i,l=(0,u.mA)().isConnected,c=(0,J.a)(),d=c.isLoggedIn,f=c.logOut,x=c.userAddress,v=(0,u.mA)(),m=(0,ei.KO)(eo.t),b=(0,g.Z)(m,2),y=(b[0],b[1]),O=null!=x?x:v.address,k=(0,o.a)(Z.XzQ,O?{variables:{address:O}}:{skip:!0}),C=k.data,S=k.loading,P=s.useState(!1),z=(0,g.Z)(P,2),D=z[0],X=z[1],_=en({project:null==C?void 0:null===(t=C.mirrorProject)||void 0===t?void 0:t.projectDetails,loading:S,showLiteOnboarding:!0}),L=(0,u.qL)().disconnect,I=[{key:"inbox",name:"Inbox",href:(0,el.k)(""),icon:a.M$,amplitudeEvent:h.Qq,onClick:function(){return y("inbox")}},{key:"explore",name:"Explore",href:(0,el.k)(""),icon:a.bO,amplitudeEvent:h.tq,onClick:function(){return y("explore")}},{key:"profile",name:"Profile",href:null!==(r=(0,E.no)({project:null==C?void 0:null===(n=C.mirrorProject)||void 0===n?void 0:n.projectDetails,fallbackAddress:O}))&&void 0!==r?r:void 0,icon:a.Zj,hidden:!C,amplitudeEvent:h.qL},{key:"dashboard",name:"Dashboard",href:(0,el.k)("dashboard"),icon:a.mF,amplitudeEvent:h.Qn},{key:"settings",name:"Settings",href:(0,el.k)("dashboard/settings"),icon:a.W2,amplitudeEvent:h.W3},{key:"support",name:"Support",href:w.gy,icon:a.EB,openInNewTab:!0,amplitudeEvent:h.LS}],N=d?{text:"Disconnect",onClick:function(){f(),L()}}:{text:"Disconnect",onClick:function(){L()}};return(0,R.BX)(a.xu,{display:"flex",flexDirection:"column",height:"full",maxWidth:e.maxWidth,position:"relative",width:e.width,children:[(0,R.tZ)(eZ,{project:null==C?void 0:null===(i=C.mirrorProject)||void 0===i?void 0:i.projectDetails}),_&&(0,R.BX)(R.HY,{children:[(0,R.tZ)(ew,{openModal:function(){return X(!0)}}),(0,R.tZ)(q.L,{size:"8px"})]}),l&&d&&(0,R.tZ)(a.xu,{marginX:"16px",children:(0,R.tZ)(a.Kq,{direction:"horizontal",space:"8px",children:(0,R.tZ)(ej,{})})}),d&&(0,R.tZ)(a.xu,{display:"flex",flex:1,flexDirection:"column",overflow:"auto",padding:"8px",children:I.filter(function(e){return!e.hidden}).map(function(e){var t={name:e.name,icon:(0,R.tZ)(e.icon,{size:"20px"})};if(e.href)return(0,R.tZ)(eE,eD(eD({},t),{},{amplitudeEvent:e.amplitudeEvent,href:e.href,openInNewTab:e.openInNewTab,onClick:e.onClick}),e.key)})}),l&&d&&(0,R.tZ)(j.x8,{asChild:!0,children:(0,R.tZ)(a.xu,{alignItems:"center",as:"button",backgroundColor:{hover:"foregroundTertiary"},borderColor:"foregroundSecondary",borderTopWidth:"1px",cursor:"pointer",display:"flex",height:"52px",justifyContent:"space-between",paddingX:"16px",paddingY:"24px",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",width:"full",onClick:N.onClick,children:(0,R.BX)(a.Kq,{align:"center",as:"span",direction:"horizontal",space:"16px",children:[(0,R.tZ)(a.xu,{display:"flex",justifyContent:"center",width:"20px",children:(0,R.tZ)(a.Od,{radius:"full",children:(0,R.tZ)(a.n0,{color:"red",size:"20px"})})}),(0,R.tZ)(a.Od,{children:(0,R.tZ)(a.xv,{as:"span",color:"red",lineHeight:"normal",size:"small",weight:"semiBold",children:N.text})})]})})}),d&&!l&&(0,R.tZ)(a.xu,{borderColor:"foregroundSecondary",borderTopWidth:"1px",paddingBottom:"20px",paddingTop:"16px",paddingX:"16px",width:"full",children:(0,R.BX)(a.Kq,{align:"center",direction:"vertical",justify:"center",space:"10px",children:[(0,R.tZ)(p.p,{size:"small",width:"full",children:"Connect"}),(0,R.tZ)(a.xu,{as:"button",color:{base:"textTertiary",hover:"accent"},cursor:"pointer",transitionDuration:"150",transitionProperty:"colors",width:"fit",onClick:N.onClick,children:(0,R.tZ)(a.xv,{align:"center",color:"inherit",size:"extraSmall",weight:"semiBold",children:"Log Out"})})]})}),l&&!d&&(0,R.tZ)(ez,{}),_&&(0,R.tZ)(eb,{open:D,onClose:function(){return X(!1)}}),(0,R.tZ)(a.xu,{alignItems:"center",borderColor:"foregroundSecondary",borderTopWidth:"1px",display:"flex",flexWrap:"wrap",justifyContent:"center",paddingX:"32px",paddingY:"16px",style:{gap:"12px 20px"},children:ea.a.map(function(e){return(0,R.tZ)(B(),{href:e.href,target:"_blank",children:(0,R.tZ)(a.xv,{color:{base:"textTertiary",hover:"textSecondary"},size:"label",children:e.text})},e.href)})})]})},e_=r(83851),eR=function(e){var t=e.href,r=e.icon,n=e.name,i=e.amplitudeEvent;return(0,R.tZ)(j.x8,{asChild:!0,children:(0,R.tZ)(B(),{href:t,legacyBehavior:!1,onClick:i,children:(0,R.BX)(a.xu,{alignItems:"center",backgroundColor:{hover:"foregroundTertiary"},borderRadius:"large",display:"flex",height:"52px",justifyContent:"space-between",paddingX:"8px",paddingY:"16px",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",width:"full",children:[(0,R.BX)(a.Kq,{align:"center",as:"span",direction:"horizontal",space:"16px",children:[(0,R.tZ)(a.xu,{display:"flex",justifyContent:"center",width:"20px",children:r}),(0,R.tZ)(a.xv,{as:"span",lineHeight:"normal",size:"small",weight:"semiBold",children:n})]}),(0,R.tZ)(a.VG,{color:"textTertiary",size:"20px"})]})})})},eL=function(e){var t=e.forceSmallCreateButton,r=s.useContext(e_.Vu);return(0,R.tZ)(O.x,{align:"end",trigger:function(e){var r=e?"secondary":"primary";return t?(0,R.tZ)(a.xu,{display:"flex",children:(0,R.tZ)(a.zx,{shape:"square",size:"small",variant:"tertiary",children:(0,R.tZ)(a.iU,{size:"20px"})})}):(0,R.BX)(a.xu,{display:"flex",children:[(0,R.tZ)(a.xu,{display:{xs:"contents",sm:"none"},children:(0,R.tZ)(a.zx,{shape:"square",size:"small",variant:r,children:(0,R.tZ)(a.iU,{size:"20px"})})}),(0,R.tZ)(a.xu,{display:{xs:"none",sm:"contents"},children:(0,R.tZ)(a.zx,{prefix:(0,R.tZ)(a.iU,{size:"20px"}),size:"small",variant:r,width:"112px",children:"Create\xa0"})})]})},onOpenChange:function(e){e?h.bG():h.Xv()},children:(0,R.BX)(a.xu,{backgroundColor:"background",display:"flex",flexDirection:"column",flexGrow:1,maxWidth:"full",padding:"16px",width:{xs:"screenSm",sm:"320px"},children:[(0,R.tZ)(eR,{amplitudeEvent:function(){h.LP(r)},href:(0,el.k)("write"),icon:(0,R.tZ)(a.$X,{size:"20px"}),name:"Entry"}),(0,R.tZ)(eR,{amplitudeEvent:function(){h.hw(r)},href:(0,el.k)("dashboard/nfts"),icon:(0,R.tZ)(a.AC,{size:"20px"}),name:"NFT"})]})})},eI=new Set(["/_/explore"]);function eN(e){var t,r,n,l,f,x,v,m,b=(0,d.useRouter)(),y=(0,u.mA)(),w=(0,J.a)(),k=null!==(t=w.userAddress)&&void 0!==t?t:y.address,j=(0,o.a)(Z.XzQ,k?{variables:{address:k}}:{skip:!0}),C=en({project:null===(r=j.data)||void 0===r?void 0:null===(n=r.mirrorProject)||void 0===n?void 0:n.projectDetails,loading:j.loading,showLiteOnboarding:!0}),S=(0,er.t)();switch(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=s.useState({val:e,minMs:t}),n=(0,g.Z)(r,2),i=n[0],o=n[1];return i.minMs||i.val===e||o({val:e,minMs:t}),s.useEffect(function(){if(i.minMs){var e={current:!0},t=window.setTimeout(function(){e.current&&o(function(e){return et(et({},e),{},{minMs:0})})},i.minMs);return function(){e.current=!1,window.clearTimeout(t)}}},[i.minMs]),i.val}(l=void 0!==e.DEV_ONLY_forceDisplay?e.DEV_ONLY_forceDisplay:k?j.loading?i.loading:i.project:S?i.connect:i.loading,l===i.loading?600:0)){case i.project:return(0,R.BX)(R.HY,{children:[w.isLoggedIn?(0,R.tZ)($,{}):null,(0,R.tZ)(O.x,{align:"end",trigger:(0,R.BX)(a.xu,{display:"flex",position:"relative",children:[(0,R.tZ)(a.zx,{shape:"circle",size:"small",variant:"tertiary",children:(0,R.tZ)(a.qE,{address:k,as:c(),ensAvatarHook:X.u,label:"avatar",size:"40px",src:null!==(f=null===(x=j.data)||void 0===x?void 0:null===(v=x.mirrorProject)||void 0===v?void 0:null===(m=v.projectDetails)||void 0===m?void 0:m.avatarURL)&&void 0!==f?f:void 0})}),C&&(0,R.tZ)(a.xu,{aspectRatio:"1/1",backgroundColor:"orange",borderRadius:"full",pointerEvents:"none",position:"absolute",right:"1px",top:"1px",width:"8px"})]}),onOpenChange:function(e){e&&h.gZ()},children:(0,R.tZ)(eX,{maxWidth:"full",width:{xs:"screenSm",sm:"384px"}})}),(0,R.tZ)(eL,{forceSmallCreateButton:e.forceSmallCreateButton})]});case i.connect:return(0,R.tZ)(p.p,{forcedSignIn:!eI.has(b.pathname),size:"small",variant:e.secondaryConnectButton?"secondary":"primary",children:"Connect"});case i.loading:return(0,R.tZ)(a.xu,{alignItems:"center",aspectRatio:"1/1",display:"flex",height:"40px",justifyContent:"center",style:{opacity:.4},children:(0,R.tZ)(a.$j,{color:"foreground",size:"small"})})}}(n=i||(i={}))[n.loading=0]="loading",n[n.connect=1]="connect",n[n.project=2]="project"},31870:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(15277);function i(e){var t=e.className,r=e.size,i=void 0===r?"24px":r;return(0,n.tZ)("svg",{className:t,fill:"none",stroke:"currentColor",style:{height:i,width:i,display:"block"},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.tZ)("path",{d:"M6 18L18 6M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})})}},1033:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(15277);function i(e){var t=e.className,r=e.height,i=e.width,o=e.maxWidth;return(0,n.tZ)("span",{className:t,sx:{display:"inline-block",verticalAlign:"middle",borderRadius:"md",backgroundColor:"foregroundSecondary",height:void 0===r?"1.25em":r,width:o?"100%":void 0===i?"4rem":i,maxWidth:o}})}},45871:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(59499),i=r(4730),o=r(93205),a=r(58561),l=r(67294),c=r(15277);function d(e){var t=e.size,r=void 0===t?"24px":t,n=e.className;return(0,c.tZ)("svg",{className:n,fill:"none",stroke:"currentColor",style:{height:r,width:r,display:"block"},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.tZ)("path",{d:"M15 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})})}var s=r(31870),u=["title","onBack","onClose","children","className","sxRoot","sxTitle","sxContent","actionRight","actionBottom"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={backgroundColor:o.gR.colors.groupBackground,borderTopLeftRadius:"xl",borderTopRightRadius:"xl",borderBottomLeftRadius:[0,"xl"],borderBottomRightRadius:[0,"xl"],display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",color:"text",fontSize:["base","lg"],fontWeight:"normal",width:"100%",maxWidth:["100%","sm"],minWidth:"0","--labelBackground":"var(--groupBackground)"},g={color:"textSecondary",outline:0,background:"none",border:"none",cursor:"pointer",display:"flex",margin:0,padding:0,alignItems:"center",transition:"125ms ease-in-out color","&:hover":{color:"text"}};function x(e){var t=e.title,r=e.onBack,n=e.onClose,p=e.children,x=e.className,v=e.sxRoot,m=e.sxTitle,b=e.sxContent,y=e.actionRight,w=e.actionBottom,Z=(0,i.Z)(e,u),O=(0,l.useRef)(null),k=(0,l.useState)(!1),j=k[0],C=k[1],S={initial:{y:"2rem",opacity:0},animate:{y:0,opacity:1},exit:{y:"2rem",opacity:0,transition:{ease:"easeIn"}}},P=(0,l.useCallback)(function(){var e,t,r=(null===(e=O.current)||void 0===e?void 0:null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.top)<-30;r!==j&&C(r)},[j]);return(0,l.useEffect)(function(){var e=O.current.parentNode;return e.addEventListener("scroll",P,!1),function(){e.removeEventListener("scroll",P,!1)}},[P,O]),(0,c.BX)(a.E.div,h(h({animate:S.animate,className:x,exit:S.exit,initial:S.initial,ref:O,sx:h(h({},f),v),variants:S},Z),{},{children:[t||n||r?(0,c.BX)("div",{sx:h({backgroundColor:t?"rgba(var(--groupBackground), 0.95)":void 0,backdropFilter:t?"blur(10px)":void 0,position:"sticky",top:["-5rem","-2rem","-3rem"],color:"text",display:"flex",alignItems:"center",justifyContent:"center",height:12,px:[4,6],zIndex:2,borderTopLeftRadius:j?"none":"2xl",borderTopRightRadius:j?"none":"2xl","--relativeBackground":"var(--groupBackground)"},m||{}),children:[r&&(0,c.tZ)("div",{sx:{position:"absolute",left:0,px:[4],cursor:"pointer"},children:(0,c.tZ)("button",{sx:g,onClick:r,children:(0,c.tZ)(d,{size:"20px"})})}),(0,c.tZ)(o.xv,{size:"small",weight:"semiBold",children:t}),n&&(0,c.tZ)("div",{sx:{position:"absolute",px:[4],right:0,cursor:"pointer"},children:(0,c.tZ)("button",{sx:g,onClick:n,children:(0,c.tZ)(s.Z,{size:"20px"})})}),y&&(0,c.tZ)("div",{sx:{position:"absolute",px:[4],right:0,cursor:"pointer"},children:y}),(0,c.tZ)("div",{sx:{borderBottom:t?function(e){var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.foregroundSecondary)}:void 0,position:"absolute",bottom:"-1px",left:0,right:0}})]}):void 0,(0,c.tZ)("div",{sx:h({display:"flex",flexDirection:"column",gap:4,padding:[4,6],pb:[12,6]},b||{}),children:p}),w]}))}},83851:function(e,t,r){"use strict";r.d(t,{Vu:function(){return h},Wi:function(){return u},yV:function(){return p}});var n=r(59499),i=r(67294),o=r(6289);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c={transform:"none",pointerEvents:"auto",opacity:1},d={transform:"translateY(35px)",opacity:0,pointerEvents:"none"},s={layoutContainer:{position:"sticky"},verticalSpacer:{height:"auto"},content:{position:"relative",top:"0px",animationName:"none"},mirrorIcon:c,data:{verticalSpacer:null,animatingSlideInFrom:null}},u=function(e){if("hidden"===e.forceState){var t,r,n=null!==(t=e.animatingSlideInFrom)&&void 0!==t?t:null!==e.verticalSpacer&&null!==e.scrollY?Math.min(Math.max(e.scrollY-e.verticalSpacer,0),e.headerHeight):null;return l(l({},s),{},{content:l(l({},s.content),{},{top:null!==n?"-".concat(n,"px"):"-".concat(e.headerHeight,"px"),animationName:o.LN}),mirrorIcon:c,data:l(l({},s.data),{},{verticalSpacer:Math.max((null!==(r=e.scrollY)&&void 0!==r?r:0)-e.headerHeight,0),animatingSlideInFrom:n})})}if(null===e.scrollY||!e.bodyScrollHeight)return s;var i=null!==e.mouseY&&null!==e.windowInnerHeight&&(e.mouseY<=100||e.mouseY>=e.windowInnerHeight-100),a=null!==e.windowInnerHeight&&null!==e.bodyScrollHeight&&null!==e.scrollY&&e.scrollY>=e.bodyScrollHeight-e.windowInnerHeight-90;if(i||"visible"===e.forceState||a){var u,p=null!==(u=e.animatingSlideInFrom)&&void 0!==u?u:null!==e.verticalSpacer?Math.min(Math.max(e.scrollY-e.verticalSpacer,0),e.headerHeight):null;return l(l({},s),{},{content:l(l({},s.content),{},{top:null!==p?"-".concat(p,"px"):s.content.top,animationName:null!==p?o.Ym:s.content.animationName}),data:l(l({},s.data),{},{verticalSpacer:e.scrollY,animatingSlideInFrom:p})})}if(null!==e.scrollY){var h,f,g=null!==(h=e.verticalSpacer)&&void 0!==h?h:e.scrollY;return e.scrollY>g+e.headerHeight?g=e.scrollY-e.headerHeight:e.scrollY<g&&(g=Math.max(e.scrollY,0)),f=g-e.scrollY>=0?c:d,{layoutContainer:{position:"relative"},verticalSpacer:{height:"".concat(g+e.headerHeight,"px")},content:{position:"sticky",animationName:"none",top:"0px"},mirrorIcon:f,data:l(l({},s.data),{},{verticalSpacer:g})}}return s},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e||null===t?null===e&&null===t:Object.keys(e).every(function(r){return e[r]===t[r]})},h=i.createContext(null)},53487:function(e,t,r){"use strict";var n=r(93205),i=r(15277);t.Z=function(e){var t=e.newNotificationsNumber,r=e.menuOpen;return(0,i.BX)(n.xu,{alignItems:"center",backgroundColor:{hover:"foregroundSecondary",base:r?"foregroundSecondary":"foregroundTertiary"},borderRadius:"full",boxShadow:{hover:"1"},boxShadowColor:"foregroundSecondary",cursor:"pointer",display:"flex",height:"40px",justifyContent:"center",position:"relative",transitionDuration:"150",transitionProperty:"default",transitionTimingFunction:"inOut",width:"40px",children:[(0,i.tZ)(n.c4,{color:"text",size:"24px"}),t?(0,i.tZ)(n.xu,{alignItems:"center",backgroundColor:"red",borderColor:"background",borderRadius:"full",borderWidth:"1px",color:"background",display:"flex",fontWeight:"semiBold",height:"14px",justifyContent:"center",left:"20px",minWidth:"14px",position:"absolute",style:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"3px",paddingRight:"3px",fontSize:"10px",lineHeight:"10px"},top:"6px",children:t>99?"99+":t}):null]})}},48810:function(e,t,r){"use strict";r.d(t,{y:function(){return a}});var n=r(16835),i=r(22150),o=r(67294);function a(e){var t=(0,i.rm)(e),r=(0,n.Z)(t,3),a=r[0],l=r[1],c=r[2];return{enabled:o.useMemo(function(){return!c&&!!l&&a.enabled},[a.enabled,l,c]),decision:a,isOptimizelyReady:l,didOptimizelyTimeout:c}}},75938:function(e,t,r){"use strict";r.d(t,{x:function(){return v},V:function(){return i}}),(n=i||(i={})).DRAFT="DRAFT",n.PUBLIC="PUBLIC",n.HIDDEN="HIDDEN";var n,i,o=r(59499),a=r(16835),l=r(86419),c=r(81472),d=r(93205),s=r(67294),u=r(15531),p=r(39470),h=r(20946),f=r(15277);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e){var t=e.children,r=e.open,n=e.onOpenChange,i=e.disabled,o=e.trigger,g=e.maxHeight,v=e.forceModal,m=e.align,b=void 0===m?"start":m,y=s.useState(!1),w=(0,a.Z)(y,2),Z=w[0],O=w[1],k=void 0===r?Z:r,j=s.useCallback(function(e){null==n||n(e),O(e)},[n]),C=(0,p.a)("(min-width: 640px)")&&!v,S=s.useMemo(function(){return{from:{opacity:0,y:-16},enter:{opacity:1,y:0},leave:{opacity:0,y:-16},config:{tension:500,friction:25,clamp:!0}}},[]),P=s.useCallback(function(){null==j||j(!1)},[j]),z=(0,c.useTransition)(k,S),B=C?z(function(e,r){return r?(0,f.tZ)(l.h_,{forceMount:!0,children:(0,f.tZ)(l.VY,{align:b,asChild:!0,collisionPadding:8,forceMount:!0,side:"bottom",onOpenAutoFocus:function(e){e.preventDefault()},children:(0,f.tZ)(d.xu,{as:c.animated.div,backgroundColor:"background",borderRadius:"2xLarge",className:h.oH,marginTop:"16px",maxWidth:"448px",overflow:"auto",style:x(x({},e),{},{maxHeight:g,scrollbarWidth:"none",boxShadow:"0.25rem 0.25rem 1rem rgba(0, 0, 0, 0.075), 0 0 0 1px rgba(var(--foreground), var(--shadeForegroundSecondary))"}),transitionDuration:"150",transitionProperty:"opacity",children:t})})}):null}):(0,f.tZ)(u.Z,{isOpen:k,onClose:P,children:(0,f.tZ)(d.xu,{backgroundColor:"background",borderBottomRadius:{xs:"none",sm:"3xLarge"},borderRadius:"3xLarge",display:"flex",overflow:"hidden",children:t})});return(0,f.BX)(l.fC,{modal:!0,open:k,onOpenChange:j,children:[(0,f.tZ)(l.xz,{asChild:!0,disabled:i,children:"function"==typeof o?o(k):o}),B]})}},6546:function(e,t,r){"use strict";r.d(t,{g:function(){return p},t:function(){return u}});var n=r(16835),i=r(28332),o=r(93205),a=r(91131),l=r(67294),c=r(26520),d=r(15277),s=(0,a.cn)("inbox"),u=(0,a.cn)(function(e){return e(s)},function(e,t,r){switch(r){case"inbox":i.track("discovery__inbox_tab_clicked");break;case"explore":i.track("discovery__explore_tab_clicked")}t(s,r)}),p=function(e){var t,r=(0,a.KO)(u),i=(0,n.Z)(r,2),s=i[0],p=i[1];return(0,c.a)().isLoggedIn?(0,d.BX)(o.xu,{alignSelf:"flex-start",display:"flex",gap:"16px",height:null!==(t=e.height)&&void 0!==t?t:"full",justifyContent:"center",position:"relative",width:e.width,children:[["inbox","explore"].map(function(e){return(0,d.tZ)(l.Fragment,{children:(0,d.BX)(o.xu,{as:"button",cursor:"pointer",height:"full",position:"relative",onClick:function(){p(e),scrollTo({top:0})},children:[(0,d.tZ)(o.xv,{color:e===s?"accent":"textSecondary",size:"small",weight:"semiBold",children:{inbox:"Inbox",explore:"Explore"}[e]}),(0,d.tZ)(o.xu,{backgroundColor:"accent",bottom:"0px",height:"2px",left:"0px",pointerEvents:"none",position:"absolute",right:"0px",visibility:s===e?"visible":"hidden"})]})},e)}),e.border&&(0,d.tZ)(o.xu,{backgroundColor:"foregroundSecondary",bottom:"0px",height:"1px",left:"0px",pointerEvents:"none",position:"absolute",right:"0px"})]}):null}},69426:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var n=r(31800),i=[{text:"Learn more",href:"https://mirror.xyz/about"},{text:"Blog",href:"https://dev.mirror.xyz"},{text:"Hiring",href:"https://paragraph.xyz/careers"},{text:"Support",href:n.gy},{text:"Twitter",href:"https://twitter.com/viamirror"},{text:"Privacy",href:n.vW},{text:"Terms & Conditions",href:n.Tq}]},1004:function(e,t,r){"use strict";r.d(t,{ig:function(){return d},tn:function(){return s},wQ:function(){return u}});var n=r(27484),i=r.n(n),o=r(28734),a=r.n(o),l=r(84110),c=r.n(l);function d(e){var t=(0,n.unix)(e);return i()().diff(t,"day")>=1?t.format("MMMM Do, YYYY"):t.fromNow()}function s(e){var t=(0,n.unix)(e);return i()().diff(t,"day")>=1?t.format("MMMM DD"):t.fromNow()}function u(e){return(0,n.unix)(e).format("MM/DD/YY")}(0,n.extend)(a()),(0,n.extend)(c())},36162:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(59873),i=function(e){return encodeURIComponent(n.normalize(e))}},46288:function(e,t,r){"use strict";r.d(t,{A:function(){return c}});var n,i=r(50029),o=r(87794),a=r.n(o),l=r(78242),c=(n=(0,i.Z)(a().mark(function e(){var t=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:(0,l.Ge)(),t.length>1&&void 0!==t[1]&&t[1],e.abrupt("return",!0);case 3:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},24503:function(e,t,r){"use strict";r.d(t,{$g:function(){return g},$x:function(){return y},Ix:function(){return b},pz:function(){return w},vY:function(){return v}});var n,i,o,a=r(16835),l=r(59499),c=r(50029),d=r(87794),s=r.n(d),u=r(1864),p=r(47480);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g={apiPath:"upload-profile-image",bucketPath:"publication-images",subdomain:"images.mirror-media.xyz"},x={apiPath:"upload-profile-image",bucketPath:"videos",subdomain:"images.mirror-media.xyz"},v={apiPath:"upload-nft-image",bucketPath:"nft",subdomain:"images.mirror-media.xyz"},m=(n=(0,c.Z)(s().mark(function e(t,r){var n,i,o,l,c,d,h,g,v,m;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name?(0,u.extname)(t.name):"",i=encodeURIComponent((0,p.x0)()+n),e.next=4,fetch("/api/".concat(r.apiPath,"?file=").concat(i,"&filetype=").concat(t.type,"&bucketPath=").concat(r.bucketPath));case 4:return o=e.sent,e.next=7,o.json();case 7:return c=(l=e.sent).url,d=l.fields,h=new FormData,Object.entries(f(f({},d),{},{file:t})).forEach(function(e){var t=(0,a.Z)(e,2),r=t[0],n=t[1];h.append(r,n)}),h.append("object_url",JSON.stringify({public:!0})),e.next=15,fetch(c,{method:"POST",body:h});case 15:if(!e.sent.ok){e.next=34;break}if(r.subdomain){e.next=19;break}throw Error("No subdomain");case 19:if(g=new URL("https://".concat(r.subdomain,"/").concat(r.bucketPath,"/").concat(i)),r.bucketPath!==x.bucketPath){e.next=24;break}return e.abrupt("return",{url:g.toString(),error:null});case 24:if("nft"!==r.bucketPath){e.next=26;break}return e.abrupt("return",{url:g.toString(),error:null});case 26:return e.next=28,w(t);case 28:return v=e.sent,g.searchParams.append("height",v.height.toString()),g.searchParams.append("width",v.width.toString()),e.abrupt("return",{url:g.toString(),height:parseInt(v.height.toString()),width:parseInt(v.width.toString()),error:null});case 34:return console.error(m="Upload failed."),alert("Unable to upload."),e.abrupt("return",{url:null,error:m});case 38:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),b=(i=(0,c.Z)(s().mark(function e(t){var r,n=arguments;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:g,e.abrupt("return",m(t,r));case 2:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),y=(o=(0,c.Z)(s().mark(function e(t){var r,n=arguments;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:x,e.abrupt("return",m(t,r));case 2:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});function w(e){return new Promise(function(t,r){var n=new FileReader;n.addEventListener("load",function(){var e=new Image;e.src=n.result,e.addEventListener("load",function(){t({height:e.naturalHeight,width:e.naturalWidth})})}),n.readAsDataURL(e)})}},97710:function(){},11277:function(){}}]);