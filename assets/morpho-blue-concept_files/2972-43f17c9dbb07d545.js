"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2972],{52972:function(e,r,t){t.d(r,{M:function(){return ev}});var n=t(50029),i=t(59499),o=t(16835),l=t(87794),c=t.n(l),a=t(28332),s=t(71641),d=t(93205),u=t(67294),p=t(66010),f=t(42708),v=t(25675),x=t.n(v),h=t(41664),b=t.n(h),g=t(20388),m=t(33751),y=t(99816),Z=t(1011),j=t(8891),w=t(1004),S=t(94371),O=t(78123),k=t(15277),C="collection";function z(e){var r,t,n,i,o,l,c,a,s,p,f,v=e.position,h=e.collector,z=e.digest,B=e.trackingSurface,P=e.wnft,X=e.collectedTimestamp,_=e.publisher,A=e.collectedBy,E=u.useCallback(function(){j.my({entryDigest:z,origin:B,isFeatured:!1,state__card_type:C,state__position:v})},[z,v,B]),D=null==P?void 0:null===(r=P.purchases)||void 0===r?void 0:null===(t=r.numSold)||void 0===t?void 0:t.toLocaleString(void 0,{notation:"compact"});return(0,k.BX)(d.xu,{backgroundColor:"background",borderRadius:"2xLarge",boxShadow:{base:"0.5",hover:"1",active:"0.5"},boxShadowColor:{base:"foregroundSecondary"},className:g.nC,display:"flex",flexDirection:"column",height:"full",transitionDuration:"150",transitionProperty:"shadow",transitionTimingFunction:"inOut",children:[(0,k.tZ)(d.xu,{alignItems:"center",backgroundColor:"foregroundTertiary",borderTopLeftRadius:"2xLarge",borderTopRightRadius:"2xLarge",display:"flex",flexGrow:1,minHeight:"0px",children:(0,k.tZ)(d.xu,{alignItems:"center",aspectRatio:"1/1",borderRadius:"large",display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"full",padding:"16px",children:(0,k.tZ)(d.xu,{aspectRatio:"1/1",borderRadius:"large",display:"flex",flexGrow:1,overflow:"hidden",position:"relative",children:!!(null!=P&&null!==(n=P.media)&&void 0!==n&&n.url)&&(0,k.BX)(k.HY,{children:[(0,k.tZ)(x(),{alt:"Nft media",fill:!0,sizes:"400px",src:P.media.url,style:{objectFit:"cover",objectPosition:"center"},unoptimized:!0}),(0,k.tZ)(d.xu,{borderColor:"foreground",borderRadius:"large",borderWidth:"2px",inset:"0px",pointerEvents:"none",position:"absolute",style:{opacity:.04}})]})})})}),(0,k.BX)(d.xu,{display:"flex",flexDirection:"column",padding:"16px",children:[(0,k.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,k.tZ)(m.H,{project:h,source:"collection_card",trackingSurface:B,children:(0,k.tZ)(b(),{className:g.f3,href:null!==(i=(0,y.no)({project:h}))&&void 0!==i?i:"",children:(0,k.tZ)(d.qE,{address:null==h?void 0:h.address,ensAvatarHook:Z.u,label:"Collection card publisher label",placeholder:!h,size:"40px",src:null==h?void 0:h.avatarURL})})}),(0,k.tZ)(S.L,{size:"12px"}),(0,k.BX)(d.xu,{display:"flex",flexDirection:"column",gap:"2px",overflow:"hidden",children:[(0,k.BX)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:[(0,k.tZ)(m.H,{project:h,source:"collection_card",trackingSurface:B,children:(0,k.tZ)(b(),{className:g.f3,href:null!==(o=(0,y.no)({project:h}))&&void 0!==o?o:"",children:null===(l=(0,y.pY)(h))||void 0===l?void 0:l.value})})," ",(0,k.BX)(d.xv,{as:"span",color:"textTertiary",size:"extraSmall",children:["â€¢"," ",(0,k.tZ)(d.xv,{as:"span",color:"inherit",weight:"normal",children:(0,w.tn)(X)})]})]}),(0,k.BX)(d.xv,{color:"textTertiary",ellipsis:!0,size:"small",whiteSpace:"nowrap",children:["Minted an entry from"," ",(0,k.tZ)(m.H,{project:_,source:"collection_card",trackingSurface:B,children:(0,k.tZ)(b(),{className:g.f3,href:null!==(c=(0,y.no)({project:_}))&&void 0!==c?c:"",children:(0,k.tZ)(d.xv,{as:"span",weight:"semiBold",children:null===(a=(0,y.pY)(_))||void 0===a?void 0:a.value})})})]})]})]}),(0,k.tZ)(S.L,{size:"12px"}),(0,k.tZ)(O.Z,{cardType:C,collectedBy:A,digest:null!=z?z:void 0,formattedNumSold:D,isFeatured:!1,position:v,publisher:null!==(s=null==P?void 0:null===(p=P.publisher)||void 0===p?void 0:p.project)&&void 0!==s?s:void 0,referrerAddress:null!==(f=h.address)&&void 0!==f?f:void 0,showIframe:!0,surface:B})]}),(0,k.tZ)(b(),{className:g.Aw,href:"".concat((0,y.no)({project:_}),"/").concat(z),onClick:E})]})}var B=t(88373),P=t(31800),X=t(18913),_=t(64799),A=t(58315),E=t(1643),D=t(35266),L=t(48254),T=t(58372),I=t(6830),N=t(52779);function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function W(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function H(e){var r,t,i,o,l,a,s,u=(0,T.X)(),p=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),f=W(W({},p.buttonProps),{},{variant:e.isSubscribed?"secondary":"primary",width:"full",size:"extraSmall"}),v=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,k.BX)(d.xu,{alignItems:"center",borderColor:"foregroundSecondary",borderRadius:"2xLarge",borderWidth:"1px",display:"flex",flexDirection:"column",gap:"8px",padding:"16px",style:{minWidth:240,height:272},textAlign:"center",children:[(0,k.tZ)(b(),{href:null!==(t=(0,y.no)({project:e.project}))&&void 0!==t?t:"",children:(0,k.BX)(d.Kq,{align:"center",space:"4px",children:[(0,k.tZ)(d.qE,{label:"Suggested Curator Avatar",size:"40px",src:null!==(i=null===(o=e.project)||void 0===o?void 0:o.avatarURL)&&void 0!==i?i:void 0}),(0,k.tZ)(d.xv,{size:"base",weight:"semiBold",children:(0,E.Z)(null!==(l=null===(a=(0,y.pY)(e.project))||void 0===a?void 0:a.value)&&void 0!==l?l:"",{length:28})}),(0,k.tZ)(d.Vp,{size:"small",children:null==v?void 0:v.value})]})}),(0,k.tZ)(d.xu,{as:"text",color:"textSecondary",fontSize:"label",style:{WebkitLineClamp:"4",WebkitBoxOrient:"vertical",overflow:"hidden",display:"-webkit-box"},children:null===(s=e.project)||void 0===s?void 0:s.description}),(0,k.tZ)(S.L,{grow:!0}),(0,k.tZ)(d.zx,W(W({shape:"square"},f),{},{onClick:(0,n.Z)(c().mark(function r(){var t;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.buttonProps.onClick();case 2:if(u.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,N.l8.refetchQueries({include:[D.K3U]});case 11:case"end":return r.stop()}},r)})),children:e.isSubscribed?"Subscribed":"Subscribe"}))]})}function M(e){var r,t,i,o,l,a,s,u,p,f=(0,T.X)(),v=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),x=W(W({},v.buttonProps),{},{variant:e.isSubscribed?"secondary":"primary",size:"small"}),h=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,k.BX)(d.xu,{borderColor:"foregroundSecondary",borderRadius:"2xLarge",borderWidth:"1px",display:"flex",flexDirection:"column",gap:"8px",minHeight:"96px",padding:"16px",children:[(0,k.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,k.tZ)(b(),{href:null!==(t=(0,y.no)({project:e.project}))&&void 0!==t?t:"",children:(0,k.BX)(d.xu,{alignItems:"center",display:"flex",gap:"4px",children:[(0,k.tZ)(d.qE,{address:null!==(i=null===(o=e.project)||void 0===o?void 0:o.address)&&void 0!==i?i:void 0,label:"",size:"40px",src:null!==(l=null===(a=e.project)||void 0===a?void 0:a.avatarURL)&&void 0!==l?l:void 0}),(0,k.BX)(d.xu,{marginLeft:"8px",children:[(0,k.tZ)(b(),{href:null!==(s=(0,y.no)({project:e.project}))&&void 0!==s?s:"",children:(0,k.tZ)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:(0,E.Z)(null===(u=(0,y.pY)(e.project))||void 0===u?void 0:u.value,{length:22})})}),(0,k.tZ)(d.xv,{color:"textTertiary",size:"small",children:null==h?void 0:h.value})]})]})}),(0,k.tZ)(S.L,{grow:!0,size:"16px"}),(0,k.tZ)(d.zx,W(W({shape:"square"},x),{},{onClick:(0,n.Z)(c().mark(function r(){var t;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.buttonProps.onClick();case 2:if(f.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,N.l8.refetchQueries({include:[D.K3U]});case 11:case"end":return r.stop()}},r)})),children:e.isSubscribed?(0,k.tZ)(d.mi,{size:"20px"}):(0,k.tZ)(d.c4,{size:"20px"})}))]}),(0,k.tZ)(d.xu,{as:"text",color:"textSecondary",fontSize:"label",style:{WebkitLineClamp:"3",WebkitBoxOrient:"vertical",overflow:"hidden",display:"-webkit-box"},children:null===(p=e.project)||void 0===p?void 0:p.description})]})}var U=t(44731);function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function K(e){var r=(0,T.X)(),t=(0,u.useContext)(U.kH),i=(0,u.useState)(!1),o=i[0],l=i[1];return(0,k.tZ)(d.zx,F(F({disabled:e.disabled||o,loading:e.isLoading||o,onClick:(0,n.Z)(c().mark(function n(){var i;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.prev=1,n.next=4,t();case 4:if(i=n.sent,r.current){n.next=7;break}throw Error();case 7:if(i){n.next=9;break}throw Error();case 9:if(!e.projectAddresses){n.next=15;break}return a.track("discovery__suggested_subscribe_to_all"),n.next=13,Promise.allSettled(e.projectAddresses.map(function(e){return N.l8.mutate({mutation:D.ngk,variables:{projectAddress:e,source:"InboxExplore"},update:L.T})}));case 13:return n.next=15,N.l8.refetchQueries({include:[D.K3U]});case 15:n.next=19;break;case 17:n.prev=17,n.t0=n.catch(1);case 19:l(!1);case 20:case"end":return n.stop()}},n,null,[[1,17]])}))},e),{},{children:"Subscribe to All"}))}var Y=t(15531);function V(e){var r=e.isOpen,t=e.onClose,n=e.suggestedCurators,i=u.useState(0),l=(0,o.Z)(i,2),c=l[0],a=l[1],s=null==n?void 0:n.slice(4*c,(c+1)*4),p=Math.ceil(((null==n?void 0:n.length)||0)/4-1);return(0,k.tZ)(Y.Z,{isOpen:r,onClose:t,children:(0,k.BX)(d.xu,{backgroundColor:"background",borderRadius:"3xLarge",style:{width:600},children:[(0,k.BX)(d.xu,{alignItems:"center",borderBottomWidth:"1px",borderColor:"foregroundSecondary",display:"flex",justifyContent:"center",padding:"16px",position:"relative",children:[(0,k.tZ)(d.xv,{size:"small",weight:"semiBold",children:"Suggestions"}),(0,k.tZ)(d.xu,{as:"button",cursor:"pointer",position:"absolute",right:"20px",onClick:function(){a(0),t()},children:(0,k.tZ)(d.bM,{color:"textTertiary",size:"20px"})})]}),(0,k.BX)(d.xu,{alignItems:"center",display:"flex",flexDirection:"column",gap:"16px",paddingX:"40px",paddingY:"24px",children:[(0,k.tZ)(d.xu,{display:{xs:"flex",sm:"none"},flexDirection:"column",gap:"16px",minWidth:"256px",width:"full",children:null==s?void 0:s.map(function(e){var r=e.curator,t=e.isSubscribed;return(0,k.tZ)(M,{isSubscribed:t,project:r},"suggestions-curator-modal-compact-".concat(r.address,"}"))})}),(0,k.tZ)(d.xu,{display:{xs:"none",sm:"grid"},gap:"16px",minWidth:"256px",style:{gridTemplateColumns:"repeat(2, 252px)",gridTemplateRows:"repeat(2, 272px)"},children:null==s?void 0:s.map(function(e){var r=e.curator,t=e.isSubscribed;return(0,k.tZ)(H,{isSubscribed:t,project:r},"suggestions-curator-modal-".concat(r.address,"}"))})}),(0,k.tZ)(K,{projectAddresses:null==s?void 0:s.map(function(e){return e.curator.address?e.curator.address:null}).filter(Boolean),size:"small",variant:"secondary",width:"full"}),(0,k.BX)(d.xu,{display:"flex",gap:"8px",children:[(0,k.tZ)(d.xu,{opacity:0===c?"50":void 0,children:(0,k.tZ)(d.zx,{disabled:0===c,shape:"square",size:"extraSmall",variant:"tertiary",onClick:function(){return a(function(e){return e-1})},children:(0,k.tZ)(d.ed,{color:"inherit",size:"20px",strokeWidth:"2px"})})}),(0,k.tZ)(d.xu,{opacity:c===p?"50":void 0,children:(0,k.tZ)(d.zx,{disabled:c===p,shape:"square",size:"extraSmall",variant:"tertiary",onClick:function(){return a(function(e){return e+1})},children:(0,k.tZ)(d.VG,{color:"inherit",size:"20px",strokeWidth:"2px"})})})]})]})]})})}var G=t(26520);function Q(){var e,r,t=(0,G.a)(),n=null===(e=(0,s.a)(D.K3U,t.userAddress?{variables:{address:t.userAddress,limit:20}}:{skip:!0}).data)||void 0===e?void 0:null===(r=e.suggestedCurators)||void 0===r?void 0:r.suggestedCurators,i=u.useState(!1),l=(0,o.Z)(i,2),c=l[0],a=l[1];return(0,k.BX)(d.xu,{children:[(0,k.BX)(d.xu,{display:"flex",marginBottom:"12px",paddingX:"16px",children:[(0,k.tZ)(d.xv,{size:"base",weight:"semiBold",children:"Suggestions"}),(0,k.tZ)(S.L,{grow:!0}),(0,k.tZ)(d.zx,{size:"extraSmall",variant:"transparent",onClick:function(){return a(!0)},children:"View All"})]}),(0,k.tZ)(d.xu,{display:"flex",gap:"16px",overflow:"auto",paddingX:"16px",children:Array.from({length:5}).map(function(e,r){var t=null==n?void 0:n[r];return(0,k.tZ)(H,{isSubscribed:null==t?void 0:t.isSubscribed,project:null==t?void 0:t.curator},r)})}),(0,k.tZ)(V,{isOpen:c,suggestedCurators:n,onClose:function(){return a(!1)}})]})}var $=t(69426),J=t(14154);function ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function er(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ee(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function et(){var e,r,t=(0,G.a)(),n=(0,s.a)(D.K3U,t.userAddress?{variables:{address:t.userAddress,limit:20}}:{skip:!0}),i=null===(e=n.data)||void 0===e?void 0:null===(r=e.suggestedCurators)||void 0===r?void 0:r.suggestedCurators,l=u.useState(!1),c=(0,o.Z)(l,2),a=c[0],p=c[1];return(0,k.BX)(d.Kq,{space:"16px",children:[(0,k.BX)(d.xu,{children:[(0,k.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,k.tZ)(d.xv,{size:"large",weight:"semiBold",children:"Suggestions"}),(0,k.tZ)(S.L,{grow:!0}),(0,k.tZ)(d.zx,{size:"extraSmall",variant:"transparent",onClick:function(){return p(!0)},children:"View All"})]}),(0,k.tZ)(S.L,{size:"8px"}),(0,k.tZ)(d.xv,{color:"textTertiary",children:"Subscribe to receive updates whenever a new entry is created or collected."})]}),(0,k.BX)(d.xu,{display:"flex",flexDirection:"column",gap:"16px",children:[Array.from({length:5}).map(function(e,r){var t=null==i?void 0:i[r];return(0,k.tZ)(en,{isSubscribed:null==t?void 0:t.isSubscribed,project:null==t?void 0:t.curator},r)}),(0,k.tZ)(K,{isLoading:n.loading,projectAddresses:null==i?void 0:i.slice(0,5).map(function(e){return e.curator.address?e.curator.address:null}).filter(Boolean),size:"small",variant:"secondary",width:"full"})]}),(0,k.tZ)(V,{isOpen:a,suggestedCurators:i,onClose:function(){return p(!1)}})]})}function en(e){var r,t,i,o,l,a,s,u,p,f=(0,J.XM)(),v=(0,I.u)({isSubscribed:{value:!!e.isSubscribed,loading:void 0===e.isSubscribed},projectAddress:null===(r=e.project)||void 0===r?void 0:r.address,source:"InboxSuggested",forceModal:!0}),x=(0,y.pp)({project:e.project,displayStrings:["ens","address"],formatWalletAddress:function(e){return e.substring(0,6)}});return(0,k.tZ)(d.Od,{height:"48px",loading:!e.project,width:"full",children:(0,k.BX)(d.xu,{alignItems:"center",display:"flex",children:[(0,k.tZ)(m.H,{align:"end",project:null!==(t=e.project)&&void 0!==t?t:void 0,side:"left",source:"suggested_curator_list",children:(0,k.tZ)(b(),{href:null!==(i=(0,y.no)({project:e.project}))&&void 0!==i?i:"",children:(0,k.BX)(d.xu,{alignItems:"center",display:"flex",gap:"4px",children:[(0,k.tZ)(d.qE,{address:null!==(o=null===(l=e.project)||void 0===l?void 0:l.address)&&void 0!==o?o:void 0,label:"",size:"40px",src:null!==(a=null===(s=e.project)||void 0===s?void 0:s.avatarURL)&&void 0!==a?a:void 0}),(0,k.BX)(d.xu,{marginLeft:"8px",children:[(0,k.tZ)(b(),{href:null!==(u=(0,y.no)({project:e.project}))&&void 0!==u?u:"",children:(0,k.tZ)(d.xv,{lineHeight:"none",size:"small",weight:"semiBold",children:(0,E.Z)(null===(p=(0,y.pY)(e.project))||void 0===p?void 0:p.value,{length:22})})}),(0,k.tZ)(d.xv,{color:"textTertiary",size:"small",children:null==x?void 0:x.value})]})]})})}),(0,k.tZ)(S.L,{grow:!0,size:"16px"}),(0,k.tZ)(d.zx,er(er({},v.buttonProps),{},{shape:"square",size:"small",width:"fit",onClick:(0,n.Z)(c().mark(function r(){var t;return c().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.buttonProps.onClick();case 2:if(f.current){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,(0,L.O)(null===(t=e.project)||void 0===t?void 0:t.address,{fetchPolicy:"cache-only"});case 6:if(r.sent){r.next=9;break}return r.abrupt("return");case 9:N.l8.refetchQueries({include:[D.K3U]});case 10:case"end":return r.stop()}},r)})),children:e.isSubscribed?(0,k.tZ)(d.mi,{size:"20px"}):(0,k.tZ)(d.c4,{size:"20px"})}))]})})}var ei=t(95150),eo=t(67277),el=function(e){var r=e.children;return(0,k.tZ)(d.xu,{alignItems:"center",backgroundColor:"background",display:"flex",flexDirection:"column",width:"full",children:(0,k.BX)(d.xu,{className:ei.G8,children:[r,(0,k.tZ)(es,{})]})})},ec=function(){return(0,k.BX)(d.xu,{children:[(0,k.tZ)(d.X6,{color:"text",level:"2",children:(0,k.tZ)(d.xu,{as:"span",style:{fontFamily:'"ABC Social", sans-serif'},children:"Inbox"})}),(0,k.tZ)(d.xv,{color:"textTertiary",size:"base",children:"New entries and activity from your subscriptions."})]})},ea=function(){return(0,k.tZ)(d.xu,{className:ei.h3,children:(0,k.BX)(d.xu,{backgroundColor:"foregroundTertiary",borderRadius:"2xLarge",display:"flex",flexDirection:"column",gap:"8px",height:"full",justifyContent:"center",paddingX:"24px",textAlign:"center",width:"full",children:[(0,k.tZ)(d.xv,{color:"textSecondary",size:"base",weight:"semiBold",children:"Your inbox is empty... for now"}),(0,k.tZ)(d.xv,{color:"textTertiary",size:"small",children:"Subscribe to creators and collectors to begin your journey."})]})})},es=function(){return(0,k.BX)(d.xu,{className:ei.IX,children:[(0,k.tZ)(et,{}),(0,k.tZ)(S.L,{grow:!0,size:"32px"}),(0,k.tZ)(d.xu,{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"16px",justifyContent:{xs:"center",lg:"flex-start"},children:$.a.map(function(e){return(0,k.tZ)(b(),{href:e.href,target:"_blank",children:(0,k.tZ)(d.xv,{color:{base:"textTertiary",hover:"textSecondary"},size:"extraSmall",children:e.text})},e.href)})})]})},ed=function(e){var r=e.children,t=e.disableFilters,n=e.onFilterChange,i=e.selectedFilter,o=void 0===i?"All":i;return(0,k.BX)(d.xu,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24px",overflow:"hidden",paddingBottom:"48px",paddingTop:"24px",width:"full",children:[(0,k.BX)(d.xu,{className:ei.fM,children:[(0,k.tZ)(ec,{}),!t&&(0,k.tZ)(d.Kq,{direction:"horizontal",space:"8px",wrap:!0,children:eo.V5.map(function(e){return(0,k.tZ)(d.xu,{cursor:"pointer",onClick:function(){null==n||n(e);var r=e.toLowerCase();a.track("discovery__inbox_selected_".concat(r,"_filter"))},children:(0,k.tZ)(d.Vp,{hover:!0,tone:o===e?"primary":void 0,children:e})},"inbox-filter-".concat(e))})})]}),r]})};function eu(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function ep(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function ef(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ep(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ep(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var ev=function(){(0,A.$)("discovery__inbox_page_viewed",{properties:j.Vc}),(0,u.useEffect)(function(){window.history.scrollRestoration="manual"},[]);var e,r,t,i,l,v=u.useState("All"),x=(0,o.Z)(v,2),h=x[0],b=x[1],g={excludeCollected:"Published"===h,excludePublished:"Collected"===h},m=(0,s.a)(eo.cN.count,{variables:g,onError:function(){return p.Am.error(P.DU)}}),y=m.data,Z=m.loading,w=null==y?void 0:null===(e=y.inbox2EntriesCount)||void 0===e?void 0:e.entriesCount,S=null==y?void 0:null===(r=y.inbox2EntriesCount)||void 0===r?void 0:r.timestamp,O=(0,s.a)(eo.cN.inbox,w&&S?{variables:ef({limit:eo.bN},g)}:{skip:!0}),C=O.data,E=O.loading,D=O.fetchMore,L=null==C?void 0:C.inbox2Entries,T=(0,_.i)(function(){var e=null==C?void 0:null===(n=C.inbox2Entries)||void 0===n?void 0:n.cursorStart,r=null==C?void 0:null===(i=C.inbox2Entries)||void 0===i?void 0:i.cursorEnd,t=null==C?void 0:null===(o=C.inbox2Entries)||void 0===o?void 0:o.entries;if(e&&r&&t){var n,i,o,l,c=t.filter(function(t){return t.eventTimestamp<=e&&t.eventTimestamp>r}),s=0,d=0,u=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return eu(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eu(e,r)}}(e))){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw o}}}}(c);try{for(u.s();!(l=u.n()).done;)l.value.collected?d+=1:s+=1}catch(e){u.e(e)}finally{u.f()}a.track("discovery__inbox_page_loaded",{num_entries:s,num_collections:d,filter:h})}});u.useEffect(function(){T()},[null==C?void 0:null===(t=C.inbox2Entries)||void 0===t?void 0:t.cursorEnd,null==C?void 0:null===(i=C.inbox2Entries)||void 0===i?void 0:i.cursorStart,T]);var I=u.useCallback((0,n.Z)(c().mark(function e(){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.track("discovery__inbox_more_loaded"),e.prev=1,!(!C||!(null!==(r=C.inbox2Entries)&&void 0!==r&&r.cursorEnd))){e.next=4;break}throw Error();case 4:return e.next=6,D({variables:{limit:eo.bN,cursorStart:C.inbox2Entries.cursorEnd}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.Am.error(P.DU);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),[C,D]),N=Z||E,R=!w||!(null!=C&&null!==(l=C.inbox2Entries)&&void 0!==l&&l.entries.length),W=u.useMemo(function(){return N?Array.from({length:eo.bN},function(e,r){return(0,k.tZ)(d.xu,{className:ei.h3,children:(0,k.tZ)(d.Od,{height:"full",loading:!0,radius:"2xLarge",width:"full"})},"loading-".concat(r))}):R?[(0,k.tZ)(d.xu,{display:{xs:"block",md:"none"},paddingX:"16px",width:"full",children:(0,k.tZ)(et,{})},"suggest-curators-container"),(0,k.tZ)(ea,{},"empty-inbox-card")]:function(e,r){if(!e)return[];var t=[],n=e.entries;return n.forEach(function(e,i){2===i&&t.push((0,k.tZ)(d.xu,{display:{xs:"block",md:"none"},width:"full",children:(0,k.tZ)(Q,{})}));var o,l,c,a,s,u,p=null==e?void 0:e.entry,v=e.collectedByProject,x=e.collected&&!!v,h={digest:p.digest,publisher:null!==(o=null===(l=p.publisher)||void 0===l?void 0:l.project)&&void 0!==o?o:void 0,title:p.title,trackingSurface:"inbox_page",wnft:p.writingNFT,position:i+1,collectedBy:null===(c=p.collectorBubbles)||void 0===c?void 0:c.filter(Boolean)},b=(0,k.tZ)(d.xu,{className:ei.h3,children:x?(0,k.tZ)(z,ef({collectedTimestamp:e.eventTimestamp/1e3,collector:v},h)):(0,k.tZ)(B.M,ef(ef({description:(0,X.DK)(p),headerImage:null!==(a=null===(s=p.featuredImage)||void 0===s?void 0:s.url)&&void 0!==a?a:void 0,publishedAtTimestamp:null!==(u=p.publishedAtTimestamp)&&void 0!==u?u:void 0,showIframe:!0},h),{},{unoptimizedImage:!0}))},"".concat(p._id,".").concat(null==v?void 0:v.address,".").concat(e.collected));i===n.length-1?t.push((0,k.tZ)(f.df,{onChange:function(e){e&&(null==r||r())},children:b})):t.push(b)}),t}(L,I)},[L,I,N,R]);return(0,k.tZ)(el,{children:(0,k.tZ)(ed,{disableFilters:R&&!N,selectedFilter:h,onFilterChange:function(e){return b(e)},children:W})})}}}]);